import{j as e,r as l,R as w}from"../chunks/chunk-9a4f56c2.js";import{r as M,M as E}from"../chunks/chunk-3dd8c495.js";import{P as R}from"../chunks/chunk-10a2ec28.js";import"./renderer_default.page.server.extractAssets.c9203ae8.js";import{L as j}from"../chunks/chunk-d209e026.js";import{A as q}from"../chunks/chunk-9903c753.js";var F,N=M;N.createRoot,F=N.hydrateRoot;function z({children:n}){return e.jsx("div",{className:"layout",children:n})}function p({children:n}){return e.jsx("div",{className:"content",children:n})}const g=(n={children:"ðŸš€",hiddenPath:[]})=>{const[r,t]=l.useState(!1);return l.useEffect(()=>{var s,a;(s=n.hiddenPath)!=null&&s.length?typeof n.hiddenPath=="string"&&location.pathname.includes(n.hiddenPath)||typeof n.hiddenPath=="object"&&n.hiddenPath.some(c=>location.pathname.includes(c))?t(!1):t(!0):(a=n.showPath)!=null&&a.length?typeof n.showPath=="string"&&location.pathname.includes(n.showPath)||typeof n.showPath=="object"&&n.showPath.some(c=>location.pathname.includes(c))?t(!0):t(!1):t(!0)},[n.hiddenPath,n.showPath]),r?e.jsx("div",{className:["action-button",n.className].join(" "),onClick:n.onClick,children:n.children}):e.jsx(e.Fragment,{})},W=()=>e.jsx(g,{className:"writeButton",hiddenPath:"write",children:e.jsx("a",{href:"/write",children:"ðŸš€"})}),A=n=>e.jsx(g,{className:"searchButton",hiddenPath:"write",onClick:()=>{var r;return(r=n.onClick)==null?void 0:r.call(n,"adf")},children:"ðŸ”Ž"}),H=n=>e.jsx(g,{className:"saveButton",showPath:"write",onClick:n.onClick,children:"ðŸ“Œ"}),I=n=>e.jsx(g,{className:"submitButton",showPath:"write",onClick:n.onClick,children:"ðŸŽˆ"}),T=()=>e.jsx(g,{className:"writeSettingButton",showPath:"write",children:e.jsx("a",{href:"/write-setting",children:"âš™"})}),D=w.createContext(!1),O=l.forwardRef(function({children:r},t){const[s,a]=l.useState(0),[c,o]=l.useState(!1),x=l.Children.count(r),v=l.useRef(new Map);l.useImperativeHandle(t,()=>({functionMap:v.current}),[]);const P=l.useCallback(d=>{var f;(f=v.current.get("search"))==null||f(d)},[]),y=l.useCallback(()=>{var d;(d=v.current.get("save"))==null||d()},[]),L=l.useCallback(()=>{var d;(d=v.current.get("submit"))==null||d()},[]);l.useEffect(()=>{if(location.search.includes("menu")){o(!0);const f=document.querySelector("#toggle");f&&f instanceof HTMLInputElement&&(f.checked=!0)}window.innerWidth>E?a(0):a(1);const d=f=>{var b;((b=f==null?void 0:f.target)==null?void 0:b.innerWidth)>E?a(0):a(1)};return window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]);const B=d=>{d.target.checked?(o(!0),history.pushState(null,"menu","?menu")):(o(!1),window.history.replaceState(null,"menu",location.pathname))};return console.log(v.current,"functionMap.current"),e.jsxs("div",{className:"lightSidebar",children:[e.jsxs("div",{className:"active-links",style:{right:s===0||c?"calc(103%)":65},children:[e.jsx(W,{}),e.jsx(A,{onClick:P}),e.jsx(H,{onClick:y}),e.jsx(I,{onClick:L}),e.jsx(T,{})]}),e.jsx("div",{className:["right-sidebar",s!==0?"hidden":"",c?"force-show":""].join(" "),style:{height:s===0||c?x*35:0},children:e.jsx(D.Provider,{value:c,children:r})}),e.jsxs("div",{className:["show-right-sidebar",s!==0?"":"button-hidden"].join(" "),children:[e.jsx("input",{id:"toggle",type:"checkbox",onChange:B}),e.jsxs("label",{htmlFor:"toggle",className:"hamburger",style:c?{bottom:-45}:{top:0},children:[e.jsx("div",{className:"top-bun"}),e.jsx("div",{className:"meat"}),e.jsx("div",{className:"bottom-bun"})]})]})]})});var u={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},k=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],C=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],S=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],i=typeof window<"u"&&typeof window.document<"u"?window.document:{},h="fullscreenEnabled"in i&&Object.keys(u)||k[0]in i&&k||C[0]in i&&C||S[0]in i&&S||[],$={requestFullscreen:function(n){return n[h[u.requestFullscreen]]()},requestFullscreenFunction:function(n){return n[h[u.requestFullscreen]]},get exitFullscreen(){return i[h[u.exitFullscreen]].bind(i)},get fullscreenPseudoClass(){return":"+h[u.fullscreen]},addEventListener:function(n,r,t){return i.addEventListener(h[u[n]],r,t)},removeEventListener:function(n,r,t){return i.removeEventListener(h[u[n]],r,t)},get fullscreenEnabled(){return!!i[h[u.fullscreenEnabled]]},set fullscreenEnabled(n){},get fullscreenElement(){return i[h[u.fullscreenElement]]},set fullscreenElement(n){},get onfullscreenchange(){return i[("on"+h[u.fullscreenchange]).toLowerCase()]},set onfullscreenchange(n){return i[("on"+h[u.fullscreenchange]).toLowerCase()]=n},get onfullscreenerror(){return i[("on"+h[u.fullscreenerror]).toLowerCase()]},set onfullscreenerror(n){return i[("on"+h[u.fullscreenerror]).toLowerCase()]=n}};const m=$;function V(){var n=l.useState(!1),r=n[0],t=n[1],s=l.useRef(null);l.useEffect(function(){var o=function(){t(m.fullscreenElement===s.current)};return m.addEventListener("fullscreenchange",o),function(){return m.removeEventListener("fullscreenchange",o)}},[]);var a=l.useCallback(function(){if(m.fullscreenElement)return m.exitFullscreen().then(function(){return m.requestFullscreen(s.current)});if(s.current)return m.requestFullscreen(s.current)},[]),c=l.useCallback(function(){return m.fullscreenElement===s.current?m.exitFullscreen():Promise.resolve()},[]);return l.useMemo(function(){return{active:r,enter:a,exit:c,node:s}},[r,a,c])}var G=function(r){var t=r.handle,s=r.onChange,a=r.children,c=r.className,o=[];return c&&o.push(c),o.push("fullscreen"),t.active&&o.push("fullscreen-enabled"),l.useEffect(function(){s&&s(t.active,t)},[t.active]),w.createElement("div",{className:o.join(" "),ref:t.node,style:t.active?{height:"100%",width:"100%"}:void 0},a)};function J({htmlStr:n,className:r}){const t=l.useRef(null);return l.useEffect(()=>{t.current&&n&&(t.current.innerHTML=n)},[n]),e.jsxs("div",{ref:t,className:["background",r].join(" "),children:[e.jsx("a",{href:"/write",children:e.jsx("div",{className:"moon"})}),e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"star star-1"}),e.jsx("div",{className:"star star-2"}),e.jsx("div",{className:"star star-3"}),e.jsx("div",{className:"shooting-star"}),e.jsx("div",{className:"shooting-star2"}),e.jsx("div",{className:"shooting-star3"}),e.jsx("div",{className:"mountains"}),e.jsxs("div",{className:"land",children:[e.jsxs("div",{className:"windmill",children:[e.jsx("div",{className:"light"}),e.jsx("div",{className:"blades"})]}),e.jsx("div",{className:"tree"})]})]})]})}function K({children:n,pageContext:r}){const t=l.useRef(null),s=V();function a(c,o){var x;(x=t.current)==null||x.functionMap.set(c,o)}return e.jsx(w.StrictMode,{children:e.jsx(G,{handle:s,children:e.jsxs(R,{pageContext:{...r,setLinkBntAction:a},children:[e.jsx(z,{children:e.jsx(p,{children:n})}),e.jsxs(O,{ref:t,children:[e.jsx(j,{className:"navitem",href:"/",children:"Home"}),e.jsx(j,{className:"navitem",href:"/blog",children:"Blog"}),e.jsx(j,{className:"navitem",href:"/about",children:"About"}),e.jsx(j,{className:"navitem",href:"/write",children:"Write"}),e.jsx(j,{className:"navitem",href:"/draft",children:"Draft"}),e.jsx("button",{onClick:s.enter,children:"Enter fullscreen"})]}),e.jsx(J,{})]})})})}async function ee(n){const{Page:r,pageProps:t}=n;if(!r)throw new Error("Client-side render() hook expects pageContext.Page to be defined");const s=document.getElementById("react-root");if(!s)throw new Error("DOM element #react-root not found");F(s,e.jsx(q,{children:e.jsx(K,{pageContext:n,children:e.jsx(r,{...t})})}))}export{ee as render};
