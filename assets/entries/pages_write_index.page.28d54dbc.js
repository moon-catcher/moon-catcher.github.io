import{g as Dr,c as Kr,R as Q,r as A,j as N}from"../chunks/chunk-9a4f56c2.js";import{k as me,u as Fu,d as Nt,D as Hs}from"../chunks/chunk-9903c753.js";import{R as Vs,O as Sn}from"../chunks/chunk-3dd8c495.js";import{u as qs}from"../chunks/chunk-10a2ec28.js";var Ks=_s,wu="֑-߿יִ-﷽ﹰ-ﻼ",yu="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Us=new RegExp("^[^"+yu+"]*["+wu+"]"),Gs=new RegExp("^[^"+wu+"]*["+yu+"]");function _s(e){return e=String(e||""),Us.test(e)?"rtl":Gs.test(e)?"ltr":"neutral"}const Ou=Dr(Ks);function Ys(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Xe=Ys,Js=typeof Kr=="object"&&Kr&&Kr.Object===Object&&Kr,xu=Js,Xs=xu,Zs=typeof self=="object"&&self&&self.Object===Object&&self,Qs=Xs||Zs||Function("return this")(),ke=Qs,ei=ke,ri=function(){return ei.Date.now()},ti=ri,ni=/\s/;function ai(e){for(var r=e.length;r--&&ni.test(e.charAt(r)););return r}var ui=ai,si=ui,ii=/^\s+/;function oi(e){return e&&e.slice(0,si(e)+1).replace(ii,"")}var li=oi,fi=ke,ci=fi.Symbol,vt=ci,Tn=vt,Su=Object.prototype,vi=Su.hasOwnProperty,di=Su.toString,wr=Tn?Tn.toStringTag:void 0;function hi(e){var r=vi.call(e,wr),t=e[wr];try{e[wr]=void 0;var n=!0}catch{}var a=di.call(e);return n&&(r?e[wr]=t:delete e[wr]),a}var gi=hi,Di=Object.prototype,Ci=Di.toString;function pi(e){return Ci.call(e)}var mi=pi,Pn=vt,Bi=gi,Ei=mi,Ai="[object Null]",bi="[object Undefined]",$n=Pn?Pn.toStringTag:void 0;function Fi(e){return e==null?e===void 0?bi:Ai:$n&&$n in Object(e)?Bi(e):Ei(e)}var Hr=Fi;function wi(e){return e!=null&&typeof e=="object"}var Cr=wi,yi=Hr,Oi=Cr,xi="[object Symbol]";function Si(e){return typeof e=="symbol"||Oi(e)&&yi(e)==xi}var Tu=Si,Ti=li,jn=Xe,Pi=Tu,Rn=0/0,$i=/^[-+]0x[0-9a-f]+$/i,ji=/^0b[01]+$/i,Ri=/^0o[0-7]+$/i,Ni=parseInt;function Ii(e){if(typeof e=="number")return e;if(Pi(e))return Rn;if(jn(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=jn(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Ti(e);var t=ji.test(e);return t||Ri.test(e)?Ni(e.slice(2),t?2:8):$i.test(e)?Rn:+e}var Mi=Ii,ki=Xe,bt=ti,Nn=Mi,Li="Expected a function",Wi=Math.max,zi=Math.min;function Hi(e,r,t){var n,a,u,s,o,c,f=0,v=!1,d=!1,g=!0;if(typeof e!="function")throw new TypeError(Li);r=Nn(r)||0,ki(t)&&(v=!!t.leading,d="maxWait"in t,u=d?Wi(Nn(t.maxWait)||0,r):u,g="trailing"in t?!!t.trailing:g);function p(H){var k=n,G=a;return n=a=void 0,f=H,s=e.apply(G,k),s}function h(H){return f=H,o=setTimeout(m,r),v?p(H):s}function i(H){var k=H-c,G=H-f,S=r-k;return d?zi(S,u-G):S}function B(H){var k=H-c,G=H-f;return c===void 0||k>=r||k<0||d&&G>=u}function m(){var H=bt();if(B(H))return b(H);o=setTimeout(m,i(H))}function b(H){return o=void 0,g&&n?p(H):(n=a=void 0,s)}function w(){o!==void 0&&clearTimeout(o),f=0,n=c=a=o=void 0}function P(){return o===void 0?s:b(bt())}function M(){var H=bt(),k=B(H);if(n=arguments,a=this,c=H,k){if(o===void 0)return h(c);if(d)return clearTimeout(o),o=setTimeout(m,r),p(c)}return o===void 0&&(o=setTimeout(m,r)),s}return M.cancel=w,M.flush=P,M}var Pu=Hi;const Vi=Dr(Pu);var qi=Pu,Ki=Xe,Ui="Expected a function";function Gi(e,r,t){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Ui);return Ki(t)&&(n="leading"in t?!!t.leading:n,a="trailing"in t?!!t.trailing:a),qi(e,r,{leading:n,maxWait:r,trailing:a})}var _i=Gi;const Yi=Dr(_i);function In(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Mn(e,r){return(!r||e!=="hidden")&&e!=="visible"&&e!=="clip"}function Ft(e,r){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var t=getComputedStyle(e,null);return Mn(t.overflowY,r)||Mn(t.overflowX,r)||function(n){var a=function(u){if(!u.ownerDocument||!u.ownerDocument.defaultView)return null;try{return u.ownerDocument.defaultView.frameElement}catch{return null}}(n);return!!a&&(a.clientHeight<n.scrollHeight||a.clientWidth<n.scrollWidth)}(e)}return!1}function Ur(e,r,t,n,a,u,s,o){return u<e&&s>r||u>e&&s<r?0:u<=e&&o<=t||s>=r&&o>=t?u-e-n:s>r&&o<t||u<e&&o>t?s-r+a:0}var kn=function(e,r){var t=window,n=r.scrollMode,a=r.block,u=r.inline,s=r.boundary,o=r.skipOverflowHiddenElements,c=typeof s=="function"?s:function(se){return se!==s};if(!In(e))throw new TypeError("Invalid target");for(var f,v,d=document.scrollingElement||document.documentElement,g=[],p=e;In(p)&&c(p);){if((p=(v=(f=p).parentElement)==null?f.getRootNode().host||null:v)===d){g.push(p);break}p!=null&&p===document.body&&Ft(p)&&!Ft(document.documentElement)||p!=null&&Ft(p,o)&&g.push(p)}for(var h=t.visualViewport?t.visualViewport.width:innerWidth,i=t.visualViewport?t.visualViewport.height:innerHeight,B=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),w=b.height,P=b.width,M=b.top,H=b.right,k=b.bottom,G=b.left,S=a==="start"||a==="nearest"?M:a==="end"?k:M+w/2,V=u==="center"?G+P/2:u==="end"?H:G,X=[],j=0;j<g.length;j++){var z=g[j],L=z.getBoundingClientRect(),W=L.height,ee=L.width,ae=L.top,x=L.right,T=L.bottom,q=L.left;if(n==="if-needed"&&M>=0&&G>=0&&k<=i&&H<=h&&M>=ae&&k<=T&&G>=q&&H<=x)return X;var _=getComputedStyle(z),Y=parseInt(_.borderLeftWidth,10),ne=parseInt(_.borderTopWidth,10),C=parseInt(_.borderRightWidth,10),R=parseInt(_.borderBottomWidth,10),y=0,I=0,re="offsetWidth"in z?z.offsetWidth-z.clientWidth-Y-C:0,J="offsetHeight"in z?z.offsetHeight-z.clientHeight-ne-R:0,ue="offsetWidth"in z?z.offsetWidth===0?0:ee/z.offsetWidth:0,le="offsetHeight"in z?z.offsetHeight===0?0:W/z.offsetHeight:0;if(d===z)y=a==="start"?S:a==="end"?S-i:a==="nearest"?Ur(m,m+i,i,ne,R,m+S,m+S+w,w):S-i/2,I=u==="start"?V:u==="center"?V-h/2:u==="end"?V-h:Ur(B,B+h,h,Y,C,B+V,B+V+P,P),y=Math.max(0,y+m),I=Math.max(0,I+B);else{y=a==="start"?S-ae-ne:a==="end"?S-T+R+J:a==="nearest"?Ur(ae,T,W,ne,R+J,S,S+w,w):S-(ae+W/2)+J/2,I=u==="start"?V-q-Y:u==="center"?V-(q+ee/2)+re/2:u==="end"?V-x+C+re:Ur(q,x,ee,Y,C+re,V,V+P,P);var oe=z.scrollLeft,ge=z.scrollTop;S+=ge-(y=Math.max(0,Math.min(ge+y/le,z.scrollHeight-W/le+J))),V+=oe-(I=Math.max(0,Math.min(oe+I/ue,z.scrollWidth-ee/ue+re)))}X.push({el:z,top:y,left:I})}return X};function $u(e){return e===Object(e)&&Object.keys(e).length!==0}function Ji(e,r){r===void 0&&(r="auto");var t="scrollBehavior"in document.body.style;e.forEach(function(n){var a=n.el,u=n.top,s=n.left;a.scroll&&t?a.scroll({top:u,left:s,behavior:r}):(a.scrollTop=u,a.scrollLeft=s)})}function Xi(e){return e===!1?{block:"end",inline:"nearest"}:$u(e)?e:{block:"start",inline:"nearest"}}function Zi(e,r){var t=e.isConnected||e.ownerDocument.documentElement.contains(e);if($u(r)&&typeof r.behavior=="function")return r.behavior(t?kn(e,r):[]);if(t){var n=Xi(r);return Ji(kn(e,n),n.behavior)}}function Ie(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function or(e){return!!e&&!!e[Se]}function lr(e){var r;return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var a=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===so}(e)||Array.isArray(e)||!!e[Un]||!!(!((r=e.constructor)===null||r===void 0)&&r[Un])||en(e)||rn(e))}function Mr(e,r,t){t===void 0&&(t=!1),pr(e)===0?(t?Object.keys:sn)(e).forEach(function(n){t&&typeof n=="symbol"||r(n,e[n],e)}):e.forEach(function(n,a){return r(a,n,e)})}function pr(e){var r=e[Se];return r?r.i>3?r.i-4:r.i:Array.isArray(e)?1:en(e)?2:rn(e)?3:0}function It(e,r){return pr(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function Qi(e,r){return pr(e)===2?e.get(r):e[r]}function ju(e,r,t){var n=pr(e);n===2?e.set(r,t):n===3?e.add(t):e[r]=t}function eo(e,r){return e===r?e!==0||1/e==1/r:e!=e&&r!=r}function en(e){return ao&&e instanceof Map}function rn(e){return uo&&e instanceof Set}function rr(e){return e.o||e.t}function tn(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var r=io(e);delete r[Se];for(var t=sn(r),n=0;n<t.length;n++){var a=t[n],u=r[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),r)}function nn(e,r){return r===void 0&&(r=!1),an(e)||or(e)||!lr(e)||(pr(e)>1&&(e.set=e.add=e.clear=e.delete=ro),Object.freeze(e),r&&Mr(e,function(t,n){return nn(n,!0)},!0)),e}function ro(){Ie(2)}function an(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function He(e){var r=oo[e];return r||Ie(18,e),r}function Ln(){return kr}function wt(e,r){r&&(He("Patches"),e.u=[],e.s=[],e.v=r)}function at(e){Mt(e),e.p.forEach(to),e.p=null}function Mt(e){e===kr&&(kr=e.l)}function Wn(e){return kr={p:[],l:kr,h:e,m:!0,_:0}}function to(e){var r=e[Se];r.i===0||r.i===1?r.j():r.g=!0}function yt(e,r){r._=r.p.length;var t=r.p[0],n=e!==void 0&&e!==t;return r.h.O||He("ES5").S(r,e,n),n?(t[Se].P&&(at(r),Ie(4)),lr(e)&&(e=ut(r,e),r.l||st(r,e)),r.u&&He("Patches").M(t[Se].t,e,r.u,r.s)):e=ut(r,t,[]),at(r),r.u&&r.v(r.u,r.s),e!==Ru?e:void 0}function ut(e,r,t){if(an(r))return r;var n=r[Se];if(!n)return Mr(r,function(o,c){return zn(e,n,r,o,c,t)},!0),r;if(n.A!==e)return r;if(!n.P)return st(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=n.i===4||n.i===5?n.o=tn(n.k):n.o,u=a,s=!1;n.i===3&&(u=new Set(a),a.clear(),s=!0),Mr(u,function(o,c){return zn(e,n,a,o,c,t,s)}),st(e,a,!1),t&&e.u&&He("Patches").N(n,t,e.u,e.s)}return n.o}function zn(e,r,t,n,a,u,s){if(or(a)){var o=ut(e,a,u&&r&&r.i!==3&&!It(r.R,n)?u.concat(n):void 0);if(ju(t,n,o),!or(o))return;e.m=!1}else s&&t.add(a);if(lr(a)&&!an(a)){if(!e.h.D&&e._<1)return;ut(e,a),r&&r.A.l||st(e,a)}}function st(e,r,t){t===void 0&&(t=!1),!e.l&&e.h.D&&e.m&&nn(r,t)}function Ot(e,r){var t=e[Se];return(t?rr(t):e)[r]}function Hn(e,r){if(r in e)for(var t=Object.getPrototypeOf(e);t;){var n=Object.getOwnPropertyDescriptor(t,r);if(n)return n;t=Object.getPrototypeOf(t)}}function kt(e){e.P||(e.P=!0,e.l&&kt(e.l))}function xt(e){e.o||(e.o=tn(e.t))}function Lt(e,r,t){var n=en(r)?He("MapSet").F(r,t):rn(r)?He("MapSet").T(r,t):e.O?function(a,u){var s=Array.isArray(a),o={i:s?1:0,A:u?u.A:Ln(),P:!1,I:!1,R:{},l:u,t:a,k:null,o:null,j:null,C:!1},c=o,f=Wt;s&&(c=[o],f=xr);var v=Proxy.revocable(c,f),d=v.revoke,g=v.proxy;return o.k=g,o.j=d,g}(r,t):He("ES5").J(r,t);return(t?t.A:Ln()).p.push(n),n}function no(e){return or(e)||Ie(22,e),function r(t){if(!lr(t))return t;var n,a=t[Se],u=pr(t);if(a){if(!a.P&&(a.i<4||!He("ES5").K(a)))return a.t;a.I=!0,n=Vn(t,u),a.I=!1}else n=Vn(t,u);return Mr(n,function(s,o){a&&Qi(a.t,s)===o||ju(n,s,r(o))}),u===3?new Set(n):n}(e)}function Vn(e,r){switch(r){case 2:return new Map(e);case 3:return Array.from(e)}return tn(e)}var qn,kr,un=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",ao=typeof Map<"u",uo=typeof Set<"u",Kn=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Ru=un?Symbol.for("immer-nothing"):((qn={})["immer-nothing"]=!0,qn),Un=un?Symbol.for("immer-draftable"):"__$immer_draftable",Se=un?Symbol.for("immer-state"):"__$immer_state",so=""+Object.prototype.constructor,sn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,io=Object.getOwnPropertyDescriptors||function(e){var r={};return sn(e).forEach(function(t){r[t]=Object.getOwnPropertyDescriptor(e,t)}),r},oo={},Wt={get:function(e,r){if(r===Se)return e;var t=rr(e);if(!It(t,r))return function(a,u,s){var o,c=Hn(u,s);return c?"value"in c?c.value:(o=c.get)===null||o===void 0?void 0:o.call(a.k):void 0}(e,t,r);var n=t[r];return e.I||!lr(n)?n:n===Ot(e.t,r)?(xt(e),e.o[r]=Lt(e.A.h,n,e)):n},has:function(e,r){return r in rr(e)},ownKeys:function(e){return Reflect.ownKeys(rr(e))},set:function(e,r,t){var n=Hn(rr(e),r);if(n!=null&&n.set)return n.set.call(e.k,t),!0;if(!e.P){var a=Ot(rr(e),r),u=a==null?void 0:a[Se];if(u&&u.t===t)return e.o[r]=t,e.R[r]=!1,!0;if(eo(t,a)&&(t!==void 0||It(e.t,r)))return!0;xt(e),kt(e)}return e.o[r]===t&&(t!==void 0||r in e.o)||Number.isNaN(t)&&Number.isNaN(e.o[r])||(e.o[r]=t,e.R[r]=!0),!0},deleteProperty:function(e,r){return Ot(e.t,r)!==void 0||r in e.t?(e.R[r]=!1,xt(e),kt(e)):delete e.R[r],e.o&&delete e.o[r],!0},getOwnPropertyDescriptor:function(e,r){var t=rr(e),n=Reflect.getOwnPropertyDescriptor(t,r);return n&&{writable:!0,configurable:e.i!==1||r!=="length",enumerable:n.enumerable,value:t[r]}},defineProperty:function(){Ie(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ie(12)}},xr={};Mr(Wt,function(e,r){xr[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}}),xr.deleteProperty=function(e,r){return xr.set.call(this,e,r,void 0)},xr.set=function(e,r,t){return Wt.set.call(this,e[0],r,t,e[0])};var lo=function(){function e(t){var n=this;this.O=Kn,this.D=!0,this.produce=function(a,u,s){if(typeof a=="function"&&typeof u!="function"){var o=u;u=a;var c=n;return function(i){var B=this;i===void 0&&(i=o);for(var m=arguments.length,b=Array(m>1?m-1:0),w=1;w<m;w++)b[w-1]=arguments[w];return c.produce(i,function(P){var M;return(M=u).call.apply(M,[B,P].concat(b))})}}var f;if(typeof u!="function"&&Ie(6),s!==void 0&&typeof s!="function"&&Ie(7),lr(a)){var v=Wn(n),d=Lt(n,a,void 0),g=!0;try{f=u(d),g=!1}finally{g?at(v):Mt(v)}return typeof Promise<"u"&&f instanceof Promise?f.then(function(i){return wt(v,s),yt(i,v)},function(i){throw at(v),i}):(wt(v,s),yt(f,v))}if(!a||typeof a!="object"){if((f=u(a))===void 0&&(f=a),f===Ru&&(f=void 0),n.D&&nn(f,!0),s){var p=[],h=[];He("Patches").M(a,f,p,h),s(p,h)}return f}Ie(21,a)},this.produceWithPatches=function(a,u){if(typeof a=="function")return function(f){for(var v=arguments.length,d=Array(v>1?v-1:0),g=1;g<v;g++)d[g-1]=arguments[g];return n.produceWithPatches(f,function(p){return a.apply(void 0,[p].concat(d))})};var s,o,c=n.produce(a,u,function(f,v){s=f,o=v});return typeof Promise<"u"&&c instanceof Promise?c.then(function(f){return[f,s,o]}):[c,s,o]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var r=e.prototype;return r.createDraft=function(t){lr(t)||Ie(8),or(t)&&(t=no(t));var n=Wn(this),a=Lt(this,t,void 0);return a[Se].C=!0,Mt(n),a},r.finishDraft=function(t,n){var a=t&&t[Se],u=a.A;return wt(u,n),yt(void 0,u)},r.setAutoFreeze=function(t){this.D=t},r.setUseProxies=function(t){t&&!Kn&&Ie(20),this.O=t},r.applyPatches=function(t,n){var a;for(a=n.length-1;a>=0;a--){var u=n[a];if(u.path.length===0&&u.op==="replace"){t=u.value;break}}a>-1&&(n=n.slice(a+1));var s=He("Patches").$;return or(t)?s(t,n):this.produce(t,function(o){return s(o,n)})},e}(),Te=new lo,on=Te.produce;Te.produceWithPatches.bind(Te);Te.setAutoFreeze.bind(Te);Te.setUseProxies.bind(Te);Te.applyPatches.bind(Te);var Gn=Te.createDraft.bind(Te),_n=Te.finishDraft.bind(Te),fo={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=D.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},co={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=te.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},vo={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=E.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},it=new WeakMap,ot=new WeakMap,jr=new WeakMap,Nu=new WeakMap,Yn=new WeakMap,Jn=new WeakMap,Xn=new WeakMap,D={ancestors(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,n=D.levels(e,r);return t?n=n.slice(1):n=n.slice(0,-1),n},common(e,r){for(var t=[],n=0;n<e.length&&n<r.length;n++){var a=e[n],u=r[n];if(a!==u)break;t.push(a)}return t},compare(e,r){for(var t=Math.min(e.length,r.length),n=0;n<t;n++){if(e[n]<r[n])return-1;if(e[n]>r[n])return 1}return 0},endsAfter(e,r){var t=e.length-1,n=e.slice(0,t),a=r.slice(0,t),u=e[t],s=r[t];return D.equals(n,a)&&u>s},endsAt(e,r){var t=e.length,n=e.slice(0,t),a=r.slice(0,t);return D.equals(n,a)},endsBefore(e,r){var t=e.length-1,n=e.slice(0,t),a=r.slice(0,t),u=e[t],s=r[t];return D.equals(n,a)&&u<s},equals(e,r){return e.length===r.length&&e.every((t,n)=>t===r[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,r){return D.compare(e,r)===1},isAncestor(e,r){return e.length<r.length&&D.compare(e,r)===0},isBefore(e,r){return D.compare(e,r)===-1},isChild(e,r){return e.length===r.length+1&&D.compare(e,r)===0},isCommon(e,r){return e.length<=r.length&&D.compare(e,r)===0},isDescendant(e,r){return e.length>r.length&&D.compare(e,r)===0},isParent(e,r){return e.length+1===r.length&&D.compare(e,r)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,r){if(e.length!==r.length)return!1;var t=e.slice(0,-1),n=r.slice(0,-1),a=e[e.length-1],u=r[r.length-1];return a!==u&&D.equals(t,n)},levels(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,n=[],a=0;a<=e.length;a++)n.push(e.slice(0,a));return t&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var r=e[e.length-1];return e.slice(0,-1).concat(r+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var r=e[e.length-1];if(r<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(r-1)},relative(e,r){if(!D.isAncestor(r,e)&&!D.equals(e,r))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(r,"], because it is not above or equal to the path."));return e.slice(r.length)},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:a="forward"}=t;if(e.length===0)return n;switch(r.type){case"insert_node":{var{path:u}=r;(D.equals(u,n)||D.endsBefore(u,n)||D.isAncestor(u,n))&&(n[u.length-1]+=1);break}case"remove_node":{var{path:s}=r;if(D.equals(s,n)||D.isAncestor(s,n))return null;D.endsBefore(s,n)&&(n[s.length-1]-=1);break}case"merge_node":{var{path:o,position:c}=r;D.equals(o,n)||D.endsBefore(o,n)?n[o.length-1]-=1:D.isAncestor(o,n)&&(n[o.length-1]-=1,n[o.length]+=c);break}case"split_node":{var{path:f,position:v}=r;if(D.equals(f,n)){if(a==="forward")n[n.length-1]+=1;else if(a!=="backward")return null}else D.endsBefore(f,n)?n[f.length-1]+=1:D.isAncestor(f,n)&&e[f.length]>=v&&(n[f.length-1]+=1,n[f.length]-=v);break}case"move_node":{var{path:d,newPath:g}=r;if(D.equals(d,g))return n;if(D.isAncestor(d,n)||D.equals(d,n)){var p=g.slice();return D.endsBefore(d,g)&&d.length<g.length&&(p[d.length-1]-=1),p.concat(n.slice(d.length))}else D.isSibling(d,g)&&(D.isAncestor(g,n)||D.equals(g,n))?D.endsBefore(d,n)?n[d.length-1]-=1:n[d.length-1]+=1:D.endsBefore(g,n)||D.equals(g,n)||D.isAncestor(g,n)?(D.endsBefore(d,n)&&(n[d.length-1]-=1),n[g.length-1]+=1):D.endsBefore(d,n)&&(D.equals(g,n)&&(n[g.length-1]+=1),n[d.length-1]-=1);break}}return n}};function be(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Zn(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function yr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Zn(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zn(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var ho=(e,r,t)=>{switch(t.type){case"insert_node":{var{path:n,node:a}=t,u=$.parent(e,n),s=n[n.length-1];if(s>u.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(u.children.splice(s,0,a),r)for(var[o,c]of E.points(r))r[c]=te.transform(o,t);break}case"insert_text":{var{path:f,offset:v,text:d}=t;if(d.length===0)break;var g=$.leaf(e,f),p=g.text.slice(0,v),h=g.text.slice(v);if(g.text=p+d+h,r)for(var[i,B]of E.points(r))r[B]=te.transform(i,t);break}case"merge_node":{var{path:m}=t,b=$.get(e,m),w=D.previous(m),P=$.get(e,w),M=$.parent(e,m),H=m[m.length-1];if(U.isText(b)&&U.isText(P))P.text+=b.text;else if(!U.isText(b)&&!U.isText(P))P.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interfaces: ").concat(pe.stringify(b)," ").concat(pe.stringify(P)));if(M.children.splice(H,1),r)for(var[k,G]of E.points(r))r[G]=te.transform(k,t);break}case"move_node":{var{path:S,newPath:V}=t;if(D.isAncestor(S,V))throw new Error("Cannot move a path [".concat(S,"] to new path [").concat(V,"] because the destination is inside itself."));var X=$.get(e,S),j=$.parent(e,S),z=S[S.length-1];j.children.splice(z,1);var L=D.transform(S,t),W=$.get(e,D.parent(L)),ee=L[L.length-1];if(W.children.splice(ee,0,X),r)for(var[ae,x]of E.points(r))r[x]=te.transform(ae,t);break}case"remove_node":{var{path:T}=t,q=T[T.length-1],_=$.parent(e,T);if(_.children.splice(q,1),r)for(var[Y,ne]of E.points(r)){var C=te.transform(Y,t);if(r!=null&&C!=null)r[ne]=C;else{var R=void 0,y=void 0;for(var[I,re]of $.texts(e))if(D.compare(re,T)===-1)R=[I,re];else{y=[I,re];break}var J=!1;R&&y&&(D.equals(y[1],T)?J=!D.hasPrevious(y[1]):J=D.common(R[1],T).length<D.common(y[1],T).length),R&&!J?(Y.path=R[1],Y.offset=R[0].text.length):y?(Y.path=y[1],Y.offset=0):r=null}}break}case"remove_text":{var{path:ue,offset:le,text:oe}=t;if(oe.length===0)break;var ge=$.leaf(e,ue),se=ge.text.slice(0,le),Be=ge.text.slice(le+oe.length);if(ge.text=se+Be,r)for(var[Ee,Ce]of E.points(r))r[Ce]=te.transform(Ee,t);break}case"set_node":{var{path:$e,properties:Le,newProperties:Fe}=t;if($e.length===0)throw new Error("Cannot set properties on the root node!");var je=$.get(e,$e);for(var ve in Fe){if(ve==="children"||ve==="text")throw new Error('Cannot set the "'.concat(ve,'" property of nodes!'));var xe=Fe[ve];xe==null?delete je[ve]:je[ve]=xe}for(var We in Le)Fe.hasOwnProperty(We)||delete je[We];break}case"set_selection":{var{newProperties:ie}=t;if(ie==null)r=ie;else{if(r==null){if(!E.isRange(ie))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(pe.stringify(ie)," when there is no current selection."));r=yr({},ie)}for(var Re in ie){var Vr=ie[Re];if(Vr==null){if(Re==="anchor"||Re==="focus")throw new Error('Cannot remove the "'.concat(Re,'" selection property'));delete r[Re]}else r[Re]=Vr}}break}case"split_node":{var{path:Ne,position:Qe,properties:qr}=t;if(Ne.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ne,"] because the root node cannot be split."));var er=$.get(e,Ne),Rs=$.parent(e,Ne),Ns=Ne[Ne.length-1],At;if(U.isText(er)){var Is=er.text.slice(0,Qe),Ms=er.text.slice(Qe);er.text=Is,At=yr(yr({},qr),{},{text:Ms})}else{var ks=er.children.slice(0,Qe),Ls=er.children.slice(Qe);er.children=ks,At=yr(yr({},qr),{},{children:Ls})}if(Rs.children.splice(Ns+1,0,At),r)for(var[Ws,zs]of E.points(r))r[zs]=te.transform(Ws,t);break}}return r},go={transform(e,r){e.children=Gn(e.children);var t=e.selection&&Gn(e.selection);try{t=ho(e,t,r)}finally{e.children=_n(e.children),t?e.selection=or(t)?_n(t):t:e.selection=null}}},Do={insertNodes(e,r,t){e.insertNodes(r,t)},liftNodes(e,r){e.liftNodes(r)},mergeNodes(e,r){e.mergeNodes(r)},moveNodes(e,r){e.moveNodes(r)},removeNodes(e,r){e.removeNodes(r)},setNodes(e,r,t){e.setNodes(r,t)},splitNodes(e,r){e.splitNodes(r)},unsetNodes(e,r,t){e.unsetNodes(r,t)},unwrapNodes(e,r){e.unwrapNodes(r)},wrapNodes(e,r,t){e.wrapNodes(r,t)}},Co={collapse(e,r){e.collapse(r)},deselect(e){e.deselect()},move(e,r){e.move(r)},select(e,r){e.select(r)},setPoint(e,r,t){e.setPoint(r,t)},setSelection(e,r){e.setSelection(r)}},Iu=(e,r)=>{for(var t in e){var n=e[t],a=r[t];if(me(n)&&me(a)){if(!Iu(n,a))return!1}else if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!1;for(var u=0;u<n.length;u++)if(n[u]!==a[u])return!1}else if(n!==a)return!1}for(var s in r)if(e[s]===void 0&&r[s]!==void 0)return!1;return!0};function po(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function Ke(e,r){if(e==null)return{};var t=po(e,r),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var mo=["anchor","focus"];function Qn(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Bo(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Qn(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qn(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var E={edges(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,{anchor:n,focus:a}=e;return E.isBackward(e)===t?[n,a]:[a,n]},end(e){var[,r]=E.edges(e);return r},equals(e,r){return te.equals(e.anchor,r.anchor)&&te.equals(e.focus,r.focus)},includes(e,r){if(E.isRange(r)){if(E.includes(e,r.anchor)||E.includes(e,r.focus))return!0;var[t,n]=E.edges(e),[a,u]=E.edges(r);return te.isBefore(t,a)&&te.isAfter(n,u)}var[s,o]=E.edges(e),c=!1,f=!1;return te.isPoint(r)?(c=te.compare(r,s)>=0,f=te.compare(r,o)<=0):(c=D.compare(r,s.path)>=0,f=D.compare(r,o.path)<=0),c&&f},intersection(e,r){var t=Ke(e,mo),[n,a]=E.edges(e),[u,s]=E.edges(r),o=te.isBefore(n,u)?u:n,c=te.isBefore(a,s)?a:s;return te.isBefore(c,o)?null:Bo({anchor:o,focus:c},t)},isBackward(e){var{anchor:r,focus:t}=e;return te.isAfter(r,t)},isCollapsed(e){var{anchor:r,focus:t}=e;return te.equals(r,t)},isExpanded(e){return!E.isCollapsed(e)},isForward(e){return!E.isBackward(e)},isRange(e){return me(e)&&te.isPoint(e.anchor)&&te.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[r]=E.edges(e);return r},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return on(e,n=>{if(n===null)return null;var{affinity:a="inward"}=t,u,s;if(a==="inward"){var o=E.isCollapsed(n);E.isForward(n)?(u="forward",s=o?u:"backward"):(u="backward",s=o?u:"forward")}else a==="outward"?E.isForward(n)?(u="backward",s="forward"):(u="forward",s="backward"):(u=a,s=a);var c=te.transform(n.anchor,r,{affinity:u}),f=te.transform(n.focus,r,{affinity:s});if(!c||!f)return null;n.anchor=c,n.focus=f})}},ea=e=>me(e)&&$.isNodeList(e.children)&&!l.isEditor(e),K={isAncestor(e){return me(e)&&$.isNodeList(e.children)},isElement:ea,isElementList(e){return Array.isArray(e)&&e.every(r=>K.isElement(r))},isElementProps(e){return e.children!==void 0},isElementType:function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return ea(r)&&r[n]===t},matches(e,r){for(var t in r)if(t!=="children"&&e[t]!==r[t])return!1;return!0}},Eo=["children"],Ao=["text"],ra=new WeakMap,$={ancestor(e,r){var t=$.get(e,r);if(U.isText(t))throw new Error("Cannot get the ancestor node at path [".concat(r,"] because it refers to a text node instead: ").concat(pe.stringify(t)));return t},*ancestors(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of D.ancestors(r,t)){var a=$.ancestor(e,n),u=[a,n];yield u}},child(e,r){if(U.isText(e))throw new Error("Cannot get the child of a text node: ".concat(pe.stringify(e)));var t=e.children[r];if(t==null)throw new Error("Cannot get child at index `".concat(r,"` in node: ").concat(pe.stringify(e)));return t},*children(e,r){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:n=!1}=t,a=$.ancestor(e,r),{children:u}=a,s=n?u.length-1:0;n?s>=0:s<u.length;){var o=$.child(a,s),c=r.concat(s);yield[o,c],s=n?s-1:s+1}},common(e,r,t){var n=D.common(r,t),a=$.get(e,n);return[a,n]},descendant(e,r){var t=$.get(e,r);if(l.isEditor(t))throw new Error("Cannot get the descendant node at path [".concat(r,"] because it refers to the root editor node instead: ").concat(pe.stringify(t)));return t},*descendants(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of $.nodes(e,r))n.length!==0&&(yield[t,n])},*elements(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of $.nodes(e,r))K.isElement(t)&&(yield[t,n])},extractProps(e){if(K.isAncestor(e)){var r=Ke(e,Eo);return r}else{var r=Ke(e,Ao);return r}},first(e,r){for(var t=r.slice(),n=$.get(e,t);n&&!(U.isText(n)||n.children.length===0);)n=n.children[0],t.push(0);return[n,t]},fragment(e,r){if(U.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(pe.stringify(e)));var t=on({children:e.children},n=>{var[a,u]=E.edges(r),s=$.nodes(n,{reverse:!0,pass:g=>{var[,p]=g;return!E.includes(r,p)}});for(var[,o]of s){if(!E.includes(r,o)){var c=$.parent(n,o),f=o[o.length-1];c.children.splice(f,1)}if(D.equals(o,u.path)){var v=$.leaf(n,o);v.text=v.text.slice(0,u.offset)}if(D.equals(o,a.path)){var d=$.leaf(n,o);d.text=d.text.slice(a.offset)}}l.isEditor(n)&&(n.selection=null)});return t.children},get(e,r){for(var t=e,n=0;n<r.length;n++){var a=r[n];if(U.isText(t)||!t.children[a])throw new Error("Cannot find a descendant at path [".concat(r,"] in node: ").concat(pe.stringify(e)));t=t.children[a]}return t},has(e,r){for(var t=e,n=0;n<r.length;n++){var a=r[n];if(U.isText(t)||!t.children[a])return!1;t=t.children[a]}return!0},isNode(e){return U.isText(e)||K.isElement(e)||l.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var r=ra.get(e);if(r!==void 0)return r;var t=e.every(n=>$.isNode(n));return ra.set(e,t),t},last(e,r){for(var t=r.slice(),n=$.get(e,t);n&&!(U.isText(n)||n.children.length===0);){var a=n.children.length-1;n=n.children[a],t.push(a)}return[n,t]},leaf(e,r){var t=$.get(e,r);if(!U.isText(t))throw new Error("Cannot get the leaf node at path [".concat(r,"] because it refers to a non-leaf node: ").concat(pe.stringify(t)));return t},*levels(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of D.levels(r,t)){var a=$.get(e,n);yield[a,n]}},matches(e,r){return K.isElement(e)&&K.isElementProps(r)&&K.matches(e,r)||U.isText(e)&&U.isTextProps(r)&&U.matches(e,r)},*nodes(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:t,reverse:n=!1}=r,{from:a=[],to:u}=r,s=new Set,o=[],c=e;!(u&&(n?D.isBefore(o,u):D.isAfter(o,u)));){if(s.has(c)||(yield[c,o]),!s.has(c)&&!U.isText(c)&&c.children.length!==0&&(t==null||t([c,o])===!1)){s.add(c);var f=n?c.children.length-1:0;D.isAncestor(o,a)&&(f=a[o.length]),o=o.concat(f),c=$.get(e,o);continue}if(o.length===0)break;if(!n){var v=D.next(o);if($.has(e,v)){o=v,c=$.get(e,o);continue}}if(n&&o[o.length-1]!==0){var d=D.previous(o);o=d,c=$.get(e,o);continue}o=D.parent(o),c=$.get(e,o),s.add(c)}},parent(e,r){var t=D.parent(r),n=$.get(e,t);if(U.isText(n))throw new Error("Cannot get the parent of path [".concat(r,"] because it does not exist in the root."));return n},string(e){return U.isText(e)?e.text:e.children.map($.string).join("")},*texts(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of $.nodes(e,r))U.isText(t)&&(yield[t,n])}};function ta(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function de(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ta(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ta(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Sr={isNodeOperation(e){return Sr.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!me(e))return!1;switch(e.type){case"insert_node":return D.isPath(e.path)&&$.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&D.isPath(e.path);case"merge_node":return typeof e.position=="number"&&D.isPath(e.path)&&me(e.properties);case"move_node":return D.isPath(e.path)&&D.isPath(e.newPath);case"remove_node":return D.isPath(e.path)&&$.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&D.isPath(e.path);case"set_node":return D.isPath(e.path)&&me(e.properties)&&me(e.newProperties);case"set_selection":return e.properties===null&&E.isRange(e.newProperties)||e.newProperties===null&&E.isRange(e.properties)||me(e.properties)&&me(e.newProperties);case"split_node":return D.isPath(e.path)&&typeof e.position=="number"&&me(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(r=>Sr.isOperation(r))},isSelectionOperation(e){return Sr.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Sr.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return de(de({},e),{},{type:"remove_node"});case"insert_text":return de(de({},e),{},{type:"remove_text"});case"merge_node":return de(de({},e),{},{type:"split_node",path:D.previous(e.path)});case"move_node":{var{newPath:r,path:t}=e;if(D.equals(r,t))return e;if(D.isSibling(t,r))return de(de({},e),{},{path:r,newPath:t});var n=D.transform(t,e),a=D.transform(D.next(t),e);return de(de({},e),{},{path:n,newPath:a})}case"remove_node":return de(de({},e),{},{type:"insert_node"});case"remove_text":return de(de({},e),{},{type:"insert_text"});case"set_node":{var{properties:u,newProperties:s}=e;return de(de({},e),{},{properties:s,newProperties:u})}case"set_selection":{var{properties:o,newProperties:c}=e;return o==null?de(de({},e),{},{properties:c,newProperties:null}):c==null?de(de({},e),{},{properties:null,newProperties:o}):de(de({},e),{},{properties:c,newProperties:o})}case"split_node":return de(de({},e),{},{type:"merge_node",path:D.next(e.path)})}}},na=new WeakMap,bo=e=>{var r=na.get(e);if(r!==void 0)return r;if(!me(e))return!1;var t=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||me(e.marks))&&(e.selection===null||E.isRange(e.selection))&&$.isNodeList(e.children)&&Sr.isOperationList(e.operations);return na.set(e,t),t},l={above(e,r){return e.above(r)},addMark(e,r,t){e.addMark(r,t)},after(e,r,t){return e.after(r,t)},before(e,r,t){return e.before(r,t)},deleteBackward(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=r;e.deleteBackward(t)},deleteForward(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=r;e.deleteForward(t)},deleteFragment(e,r){e.deleteFragment(r)},edges(e,r){return e.edges(r)},elementReadOnly(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(r)},end(e,r){return e.end(r)},first(e,r){return e.first(r)},fragment(e,r){return e.fragment(r)},hasBlocks(e,r){return e.hasBlocks(r)},hasInlines(e,r){return e.hasInlines(r)},hasPath(e,r){return e.hasPath(r)},hasTexts(e,r){return e.hasTexts(r)},insertBreak(e){e.insertBreak()},insertFragment(e,r,t){e.insertFragment(r,t)},insertNode(e,r){e.insertNode(r)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,r){e.insertText(r)},isBlock(e,r){return e.isBlock(r)},isEdge(e,r,t){return e.isEdge(r,t)},isEditor(e){return bo(e)},isElementReadOnly(e,r){return e.isElementReadOnly(r)},isEmpty(e,r){return e.isEmpty(r)},isEnd(e,r,t){return e.isEnd(r,t)},isInline(e,r){return e.isInline(r)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,r){return e.isSelectable(r)},isStart(e,r,t){return e.isStart(r,t)},isVoid(e,r){return e.isVoid(r)},last(e,r){return e.last(r)},leaf(e,r,t){return e.leaf(r,t)},levels(e,r){return e.levels(r)},marks(e){return e.getMarks()},next(e,r){return e.next(r)},node(e,r,t){return e.node(r,t)},nodes(e,r){return e.nodes(r)},normalize(e,r){e.normalize(r)},parent(e,r,t){return e.parent(r,t)},path(e,r,t){return e.path(r,t)},pathRef(e,r,t){return e.pathRef(r,t)},pathRefs(e){return e.pathRefs()},point(e,r,t){return e.point(r,t)},pointRef(e,r,t){return e.pointRef(r,t)},pointRefs(e){return e.pointRefs()},positions(e,r){return e.positions(r)},previous(e,r){return e.previous(r)},range(e,r,t){return e.range(r,t)},rangeRef(e,r,t){return e.rangeRef(r,t)},rangeRefs(e){return e.rangeRefs()},removeMark(e,r){e.removeMark(r)},setNormalizing(e,r){e.setNormalizing(r)},start(e,r){return e.start(r)},string(e,r,t){return e.string(r,t)},unhangRange(e,r,t){return e.unhangRange(r,t)},void(e,r){return e.void(r)},withoutNormalizing(e,r){e.withoutNormalizing(r)}},Fo={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(D.isPath)}};function aa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ua(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?aa(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):aa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var te={compare(e,r){var t=D.compare(e.path,r.path);return t===0?e.offset<r.offset?-1:e.offset>r.offset?1:0:t},isAfter(e,r){return te.compare(e,r)===1},isBefore(e,r){return te.compare(e,r)===-1},equals(e,r){return e.offset===r.offset&&D.equals(e.path,r.path)},isPoint(e){return me(e)&&typeof e.offset=="number"&&D.isPath(e.path)},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return on(e,n=>{if(n===null)return null;var{affinity:a="forward"}=t,{path:u,offset:s}=n;switch(r.type){case"insert_node":case"move_node":{n.path=D.transform(u,r,t);break}case"insert_text":{D.equals(r.path,u)&&(r.offset<s||r.offset===s&&a==="forward")&&(n.offset+=r.text.length);break}case"merge_node":{D.equals(r.path,u)&&(n.offset+=r.position),n.path=D.transform(u,r,t);break}case"remove_text":{D.equals(r.path,u)&&r.offset<=s&&(n.offset-=Math.min(s-r.offset,r.text.length));break}case"remove_node":{if(D.equals(r.path,u)||D.isAncestor(r.path,u))return null;n.path=D.transform(u,r,t);break}case"split_node":{if(D.equals(r.path,u)){if(r.position===s&&a==null)return null;(r.position<s||r.position===s&&a==="forward")&&(n.offset-=r.position,n.path=D.transform(u,r,ua(ua({},t),{},{affinity:"forward"})))}else n.path=D.transform(u,r,t);break}}})}},sa=void 0,pe={setScrubber(e){sa=e},stringify(e){return JSON.stringify(e,sa)}},wo=["text"],yo=["anchor","focus"];function ia(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ve(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ia(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ia(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var U={equals(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=t;function a(u){var s=Ke(u,wo);return s}return Iu(n?a(e):e,n?a(r):r)},isText(e){return me(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(r=>U.isText(r))},isTextProps(e){return e.text!==void 0},matches(e,r){for(var t in r)if(t!=="text"&&(!e.hasOwnProperty(t)||e[t]!==r[t]))return!1;return!0},decorations(e,r){var t=[Ve({},e)];for(var n of r){var a=Ke(n,yo),[u,s]=E.edges(n),o=[],c=0,f=u.offset,v=s.offset;for(var d of t){var{length:g}=d.text,p=c;if(c+=g,f<=p&&c<=v){Object.assign(d,a),o.push(d);continue}if(f!==v&&(f===c||v===p)||f>c||v<p||v===p&&p!==0){o.push(d);continue}var h=d,i=void 0,B=void 0;if(v<c){var m=v-p;B=Ve(Ve({},h),{},{text:h.text.slice(m)}),h=Ve(Ve({},h),{},{text:h.text.slice(0,m)})}if(f>p){var b=f-p;i=Ve(Ve({},h),{},{text:h.text.slice(0,b)}),h=Ve(Ve({},h),{},{text:h.text.slice(b)})}Object.assign(h,a),i&&o.push(i),o.push(h),B&&o.push(B)}t=o}return t}},ln=e=>e.selection?e.selection:e.children.length>0?l.end(e,[]):[0],mr=(e,r)=>{var[t]=l.node(e,r);return n=>n===t},fn=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!t,a=t?$o(r):r,u=Z.None,s=Z.None,o=0,c=null,f=null;for(var v of a){var d=v.codePointAt(0);if(!d)break;var g=qo(v,d);if([u,s]=n?[s,g]:[g,u],vr(u,Z.ZWJ)&&vr(s,Z.ExtPict)&&(n?c=oa(r.substring(0,o)):c=oa(r.substring(0,r.length-o)),!c)||vr(u,Z.RI)&&vr(s,Z.RI)&&(f!==null?f=!f:n?f=!0:f=Yo(r.substring(0,r.length-o)),!f)||u!==Z.None&&s!==Z.None&&Uo(u,s))break;o+=v.length}return o||1},Oo=/\s/,xo=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,So=/['\u2018\u2019]/,To=function(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,a=!1;r.length>0;){var u=fn(r,t),[s,o]=cn(r,u,t);if(Po(s,o,t))a=!0,n+=u;else if(!a)n+=u;else break;r=o}return n},cn=(e,r,t)=>{if(t){var n=e.length-r;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,r),e.slice(r)]},Po=function e(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Oo.test(r))return!1;if(So.test(r)){var a=fn(t,n),[u,s]=cn(t,a,n);if(e(u,s,n))return!0}return!xo.test(r)},$o=function*(r){for(var t=r.length-1,n=0;n<r.length;n++){var a=r.charAt(t-n);if(Ro(a.charCodeAt(0))){var u=r.charAt(t-n-1);if(jo(u.charCodeAt(0))){yield u+a,n++;continue}}yield a}},jo=e=>e>=55296&&e<=56319,Ro=e=>e>=56320&&e<=57343,Z;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(Z||(Z={}));var No=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Io=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,Mo=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,ko=/^[\u1100-\u115F\uA960-\uA97C]$/,Lo=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Wo=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,zo=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Ho=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,Vo=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,qo=(e,r)=>{var t=Z.Any;return e.search(No)!==-1&&(t|=Z.Extend),r===8205&&(t|=Z.ZWJ),r>=127462&&r<=127487&&(t|=Z.RI),e.search(Io)!==-1&&(t|=Z.Prepend),e.search(Mo)!==-1&&(t|=Z.SpacingMark),e.search(ko)!==-1&&(t|=Z.L),e.search(Lo)!==-1&&(t|=Z.V),e.search(Wo)!==-1&&(t|=Z.T),e.search(zo)!==-1&&(t|=Z.LV),e.search(Ho)!==-1&&(t|=Z.LVT),e.search(Vo)!==-1&&(t|=Z.ExtPict),t};function vr(e,r){return(e&r)!==0}var Ko=[[Z.L,Z.L|Z.V|Z.LV|Z.LVT],[Z.LV|Z.V,Z.V|Z.T],[Z.LVT|Z.T,Z.T],[Z.Any,Z.Extend|Z.ZWJ],[Z.Any,Z.SpacingMark],[Z.Prepend,Z.Any],[Z.ZWJ,Z.ExtPict],[Z.RI,Z.RI]];function Uo(e,r){return Ko.findIndex(t=>vr(e,t[0])&&vr(r,t[1]))===-1}var Go=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,oa=e=>e.search(Go)!==-1,_o=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Yo=e=>{var r=e.match(_o);if(r===null)return!1;var t=r[0].length/2;return t%2===1},Jo={delete(e,r){e.delete(r)},insertFragment(e,r,t){e.insertFragment(r,t)},insertText(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(e,()=>{var{voids:n=!1}=t,{at:a=ln(e)}=t;if(D.isPath(a)&&(a=l.range(e,a)),E.isRange(a))if(E.isCollapsed(a))a=a.anchor;else{var u=E.end(a);if(!n&&l.void(e,{at:u}))return;var s=E.start(a),o=l.pointRef(e,s),c=l.pointRef(e,u);O.delete(e,{at:a,voids:n});var f=o.unref(),v=c.unref();a=f||v,O.setSelection(e,{anchor:a,focus:a})}if(!(!n&&l.void(e,{at:a})||l.elementReadOnly(e,{at:a}))){var{path:d,offset:g}=a;r.length>0&&e.apply({type:"insert_text",path:d,offset:g,text:r})}})}};function la(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Gr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?la(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):la(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var O=Gr(Gr(Gr(Gr({},go),Do),Co),Jo),Xo=(e,r)=>{for(var t of l.pathRefs(e))fo.transform(t,r);for(var n of l.pointRefs(e))co.transform(n,r);for(var a of l.rangeRefs(e))vo.transform(a,r);var u=it.get(e)||[],s=ot.get(e)||new Set,o,c,f=h=>{if(h){var i=h.join(",");c.has(i)||(c.add(i),o.push(h))}};if(D.operationCanTransformPath(r)){o=[],c=new Set;for(var v of u){var d=D.transform(v,r);f(d)}}else o=u,c=s;var g=e.getDirtyPaths(r);for(var p of g)f(p);it.set(e,o),ot.set(e,c),O.transform(e,r),e.operations.push(r),l.normalize(e,{operation:r}),r.type==="set_selection"&&(e.marks=null),jr.get(e)||(jr.set(e,!0),Promise.resolve().then(()=>{jr.set(e,!1),e.onChange({operation:r}),e.operations=[]}))},Zo=(e,r)=>{switch(r.type){case"insert_text":case"remove_text":case"set_node":{var{path:t}=r;return D.levels(t)}case"insert_node":{var{node:n,path:a}=r,u=D.levels(a),s=U.isText(n)?[]:Array.from($.nodes(n),V=>{var[,X]=V;return a.concat(X)});return[...u,...s]}case"merge_node":{var{path:o}=r,c=D.ancestors(o),f=D.previous(o);return[...c,f]}case"move_node":{var{path:v,newPath:d}=r;if(D.equals(v,d))return[];var g=[],p=[];for(var h of D.ancestors(v)){var i=D.transform(h,r);g.push(i)}for(var B of D.ancestors(d)){var m=D.transform(B,r);p.push(m)}var b=p[p.length-1],w=d[d.length-1],P=b.concat(w);return[...g,...p,P]}case"remove_node":{var{path:M}=r,H=D.ancestors(M);return[...H]}case"split_node":{var{path:k}=r,G=D.levels(k),S=D.next(k);return[...G,S]}default:return[]}},Qo=e=>{var{selection:r}=e;return r?$.fragment(e,r):[]},el=(e,r)=>{var[t,n]=r;if(!U.isText(t)){if(K.isElement(t)&&t.children.length===0){var a={text:""};O.insertNodes(e,a,{at:n.concat(0),voids:!0});return}for(var u=l.isEditor(t)?!1:K.isElement(t)&&(e.isInline(t)||t.children.length===0||U.isText(t.children[0])||e.isInline(t.children[0])),s=0,o=0;o<t.children.length;o++,s++){var c=$.get(e,n);if(!U.isText(c)){var f=c.children[s],v=c.children[s-1],d=o===t.children.length-1,g=U.isText(f)||K.isElement(f)&&e.isInline(f);if(g!==u)O.removeNodes(e,{at:n.concat(s),voids:!0}),s--;else if(K.isElement(f)){if(e.isInline(f)){if(v==null||!U.isText(v)){var p={text:""};O.insertNodes(e,p,{at:n.concat(s),voids:!0}),s++}else if(d){var h={text:""};O.insertNodes(e,h,{at:n.concat(s+1),voids:!0}),s++}}}else v!=null&&U.isText(v)&&(U.equals(f,v,{loose:!0})?(O.mergeNodes(e,{at:n.concat(s),voids:!0}),s--):v.text===""?(O.removeNodes(e,{at:n.concat(s-1),voids:!0}),s--):f.text===""&&(O.removeNodes(e,{at:n.concat(s),voids:!0}),s--))}}}},rl=(e,r)=>{var{iteration:t,initialDirtyPathsLength:n}=r,a=n*42;if(t>a)throw new Error("Could not completely normalize the editor after ".concat(a," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},tl=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:a="lowest",at:u=r.selection,match:s}=t;if(u){var o=l.path(r,u),c=a==="lowest";for(var[f,v]of l.levels(r,{at:o,voids:n,match:s,reverse:c}))if(!U.isText(f)){if(E.isRange(u)){if(D.isAncestor(v,u.anchor.path)&&D.isAncestor(v,u.focus.path))return[f,v]}else if(!D.equals(o,v))return[f,v]}}};function fa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ca(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?fa(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nl=(e,r,t)=>{var{selection:n}=e;if(n){var a=(d,g)=>{if(!U.isText(d))return!1;var[p,h]=l.parent(e,g);return!e.isVoid(p)||e.markableVoid(p)},u=E.isExpanded(n),s=!1;if(!u){var[o,c]=l.node(e,n);if(o&&a(o,c)){var[f]=l.parent(e,c);s=f&&e.markableVoid(f)}}if(u||s)O.setNodes(e,{[r]:t},{match:a,split:!0,voids:!0});else{var v=ca(ca({},l.marks(e)||{}),{},{[r]:t});e.marks=v,jr.get(e)||e.onChange()}}};function va(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function da(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?va(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):va(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var al=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=l.point(r,t,{edge:"end"}),u=l.end(r,[]),s={anchor:a,focus:u},{distance:o=1}=n,c=0,f;for(var v of l.positions(r,da(da({},n),{},{at:s}))){if(c>o)break;c!==0&&(f=v),c++}return f};function ha(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ga(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ha(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ha(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var ul=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=l.start(r,[]),u=l.point(r,t,{edge:"start"}),s={anchor:a,focus:u},{distance:o=1}=n,c=0,f;for(var v of l.positions(r,ga(ga({},n),{},{at:s,reverse:!0}))){if(c>o)break;c!==0&&(f=v),c++}return f},sl=(e,r)=>{var{selection:t}=e;t&&E.isCollapsed(t)&&O.delete(e,{unit:r,reverse:!0})},il=(e,r)=>{var{selection:t}=e;t&&E.isCollapsed(t)&&O.delete(e,{unit:r})},ol=function(r){var{direction:t="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=r;n&&E.isExpanded(n)&&O.delete(r,{reverse:t==="backward"})},ll=(e,r)=>[l.start(e,r),l.end(e,r)];function Da(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ca(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Da(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Da(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var fl=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.above(r,Ca(Ca({},t),{},{match:n=>K.isElement(n)&&l.isElementReadOnly(r,n)}))},cl=(e,r)=>l.point(e,r,{edge:"end"}),vl=(e,r)=>{var t=l.path(e,r,{edge:"start"});return l.node(e,t)},dl=(e,r)=>{var t=l.range(e,r);return $.fragment(e,t)};function pa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ma(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?pa(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var hl=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.above(r,ma(ma({},t),{},{match:n=>K.isElement(n)&&l.isVoid(r,n)}))},gl=(e,r)=>r.children.some(t=>K.isElement(t)&&l.isBlock(e,t)),Dl=(e,r)=>r.children.some(t=>U.isText(t)||l.isInline(e,t)),Cl=(e,r)=>$.has(e,r),pl=(e,r)=>r.children.every(t=>U.isText(t)),ml=e=>{O.splitNodes(e,{always:!0})},Bl=(e,r,t)=>{O.insertNodes(e,r,t)},El=e=>{O.splitNodes(e,{always:!0})};function Ba(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Al(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ba(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ba(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var bl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a,marks:u}=r;if(a){if(u){var s=Al({text:t},u);O.insertNodes(r,s,{at:n.at,voids:n.voids})}else O.insertText(r,t,n);r.marks=null}},Fl=(e,r)=>!e.isInline(r),wl=(e,r,t)=>l.isStart(e,r,t)||l.isEnd(e,r,t),yl=(e,r)=>{var{children:t}=r,[n]=t;return t.length===0||t.length===1&&U.isText(n)&&n.text===""&&!e.isVoid(r)},Ol=(e,r,t)=>{var n=l.end(e,t);return te.equals(r,n)},xl=e=>{var r=Nu.get(e);return r===void 0?!0:r},Sl=(e,r,t)=>{if(r.offset!==0)return!1;var n=l.start(e,t);return te.equals(r,n)},Tl=(e,r)=>{var t=l.path(e,r,{edge:"end"});return l.node(e,t)},Pl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=l.path(r,t,n),u=$.leaf(r,a);return[u,a]};function*$l(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=e.selection,reverse:n=!1,voids:a=!1}=r,{match:u}=r;if(u==null&&(u=()=>!0),!!t){var s=[],o=l.path(e,t);for(var[c,f]of $.levels(e,o))if(u(c,f)&&(s.push([c,f]),!a&&K.isElement(c)&&l.isVoid(e,c)))break;n&&s.reverse(),yield*s}}var jl=["text"],Rl=["text"],Nl=function(r){var{marks:t,selection:n}=r;if(!n)return null;if(t)return t;if(E.isExpanded(n)){var[a]=l.nodes(r,{match:U.isText});if(a){var[u]=a,s=Ke(u,jl);return s}else return{}}var{anchor:o}=n,{path:c}=o,[f]=l.leaf(r,c);if(o.offset===0){var v=l.previous(r,{at:c,match:U.isText}),d=l.above(r,{match:m=>K.isElement(m)&&l.isVoid(r,m)&&r.markableVoid(m)});if(!d){var g=l.above(r,{match:m=>K.isElement(m)&&l.isBlock(r,m)});if(v&&g){var[p,h]=v,[,i]=g;D.isAncestor(i,h)&&(f=p)}}}var B=Ke(f,Rl);return B},Il=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=r.selection}=t;if(s){var o=l.after(r,s,{voids:a});if(o){var[,c]=l.last(r,[]),f=[o.path,c];if(D.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(u==null)if(D.isPath(s)){var[v]=l.parent(r,s);u=g=>v.children.includes(g)}else u=()=>!0;var[d]=l.nodes(r,{at:f,match:u,mode:n,voids:a});return d}}},Ml=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=l.path(r,t,n),u=$.get(r,a);return[u,a]};function*kl(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=e.selection,mode:n="all",universal:a=!1,reverse:u=!1,voids:s=!1,ignoreNonSelectable:o=!1}=r,{match:c}=r;if(c||(c=()=>!0),!!t){var f,v;if(Fo.isSpan(t))f=t[0],v=t[1];else{var d=l.path(e,t,{edge:"start"}),g=l.path(e,t,{edge:"end"});f=u?g:d,v=u?d:g}var p=$.nodes(e,{reverse:u,from:f,to:v,pass:P=>{var[M]=P;return K.isElement(M)?!!(!s&&(l.isVoid(e,M)||l.isElementReadOnly(e,M))||o&&!l.isSelectable(e,M)):!1}}),h=[],i;for(var[B,m]of p)if(!(o&&K.isElement(B)&&!l.isSelectable(e,B))){var b=i&&D.compare(m,i[1])===0;if(!(n==="highest"&&b)){if(!c(B,m)){if(a&&!b&&U.isText(B))return;continue}if(n==="lowest"&&b){i=[B,m];continue}var w=n==="lowest"?i:[B,m];w&&(a?h.push(w):yield w),i=[B,m]}}n==="lowest"&&i&&(a?h.push(i):yield i),a&&(yield*h)}}var Ll=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:a}=t,u=v=>it.get(v)||[],s=v=>ot.get(v)||new Set,o=v=>{var d=u(v).pop(),g=d.join(",");return s(v).delete(g),d};if(l.isNormalizing(r)){if(n){var c=Array.from($.nodes(r),v=>{var[,d]=v;return d}),f=new Set(c.map(v=>v.join(",")));it.set(r,c),ot.set(r,f)}u(r).length!==0&&l.withoutNormalizing(r,()=>{for(var v of u(r))if($.has(r,v)){var d=l.node(r,v),[g,p]=d;K.isElement(g)&&g.children.length===0&&r.normalizeNode(d,{operation:a})}for(var h=u(r),i=h.length,B=0;h.length!==0;){if(!r.shouldNormalize({dirtyPaths:h,iteration:B,initialDirtyPathsLength:i,operation:a}))return;var m=o(r);if($.has(r,m)){var b=l.node(r,m);r.normalizeNode(b,{operation:a})}B++,h=u(r)}})}},Wl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=l.path(r,t,n),u=D.parent(a),s=l.node(r,u);return s},zl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:o}=u,c=l.pathRefs(r);return c.delete(u),u.current=null,o}},s=l.pathRefs(r);return s.add(u),u},Hl=e=>{var r=Yn.get(e);return r||(r=new Set,Yn.set(e,r)),r},Vl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:a,edge:u}=n;if(D.isPath(t)){if(u==="start"){var[,s]=$.first(r,t);t=s}else if(u==="end"){var[,o]=$.last(r,t);t=o}}return E.isRange(t)&&(u==="start"?t=E.start(t):u==="end"?t=E.end(t):t=D.common(t.anchor.path,t.focus.path)),te.isPoint(t)&&(t=t.path),a!=null&&(t=t.slice(0,a)),t},ql=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:o}=u,c=l.pointRefs(r);return c.delete(u),u.current=null,o}},s=l.pointRefs(r);return s.add(u),u},Kl=e=>{var r=Jn.get(e);return r||(r=new Set,Jn.set(e,r)),r},Ul=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:a="start"}=n;if(D.isPath(t)){var u;if(a==="end"){var[,s]=$.last(r,t);u=s}else{var[,o]=$.first(r,t);u=o}var c=$.get(r,u);if(!U.isText(c))throw new Error("Cannot get the ".concat(a," point in the node at path [").concat(t,"] because it has no ").concat(a," text node."));return{path:u,offset:a==="end"?c.text.length:0}}if(E.isRange(t)){var[f,v]=E.edges(t);return a==="start"?f:v}return t};function*Gl(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=e.selection,unit:n="offset",reverse:a=!1,voids:u=!1,ignoreNonSelectable:s=!1}=r;if(!t)return;var o=l.range(e,t),[c,f]=E.edges(o),v=a?f:c,d=!1,g="",p=0,h=0,i=0;for(var[B,m]of l.nodes(e,{at:t,reverse:a,voids:u,ignoreNonSelectable:s})){if(K.isElement(B)){if(!u&&(e.isVoid(B)||e.isElementReadOnly(B))){yield l.start(e,m);continue}if(e.isInline(B))continue;if(l.hasInlines(e,B)){var b=D.isAncestor(m,f.path)?f:l.end(e,m),w=D.isAncestor(m,c.path)?c:l.start(e,m);g=l.string(e,{anchor:w,focus:b},{voids:u}),d=!0}}if(U.isText(B)){var P=D.equals(m,v.path);for(P?(h=a?v.offset:B.text.length-v.offset,i=v.offset):(h=B.text.length,i=a?h:0),(P||d||n==="offset")&&(yield{path:m,offset:i},d=!1);;){if(p===0){if(g==="")break;p=M(g,n,a),g=cn(g,p,a)[1]}if(i=a?i-p:i+p,h=h-p,h<0){p=-h;break}p=0,yield{path:m,offset:i}}}}function M(H,k,G){return k==="character"?fn(H,G):k==="word"?To(H,G):k==="line"||k==="block"?H.length:1}}var _l=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=r.selection}=t;if(s){var o=l.before(r,s,{voids:a});if(o){var[,c]=l.first(r,[]),f=[o.path,c];if(D.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(u==null)if(D.isPath(s)){var[v]=l.parent(r,s);u=g=>v.children.includes(g)}else u=()=>!0;var[d]=l.nodes(r,{reverse:!0,at:f,match:u,mode:n,voids:a});return d}}},Yl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:o}=u,c=l.rangeRefs(r);return c.delete(u),u.current=null,o}},s=l.rangeRefs(r);return s.add(u),u},Jl=e=>{var r=Xn.get(e);return r||(r=new Set,Xn.set(e,r)),r},Xl=(e,r,t)=>{if(E.isRange(r)&&!t)return r;var n=l.start(e,r),a=l.end(e,t||r);return{anchor:n,focus:a}};function Ea(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Zl(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ea(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ea(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Ql=(e,r)=>{var{selection:t}=e;if(t){var n=(v,d)=>{if(!U.isText(v))return!1;var[g,p]=l.parent(e,d);return!e.isVoid(g)||e.markableVoid(g)},a=E.isExpanded(t),u=!1;if(!a){var[s,o]=l.node(e,t);if(s&&n(s,o)){var[c]=l.parent(e,o);u=c&&e.markableVoid(c)}}if(a||u)O.unsetNodes(e,r,{match:n,split:!0,voids:!0});else{var f=Zl({},l.marks(e)||{});delete f[r],e.marks=f,jr.get(e)||e.onChange()}}},ef=(e,r)=>{Nu.set(e,r)},rf=(e,r)=>l.point(e,r,{edge:"start"}),tf=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,u=l.range(r,t),[s,o]=E.edges(u),c="";for(var[f,v]of l.nodes(r,{at:u,match:U.isText,voids:a})){var d=f.text;D.equals(v,o.path)&&(d=d.slice(0,o.offset)),D.equals(v,s.path)&&(d=d.slice(s.offset)),c+=d}return c},nf=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,[u,s]=E.edges(t);if(u.offset!==0||s.offset!==0||E.isCollapsed(t)||D.hasPrevious(s.path))return t;var o=l.above(r,{at:s,match:h=>K.isElement(h)&&l.isBlock(r,h),voids:a}),c=o?o[1]:[],f=l.start(r,u),v={anchor:f,focus:s},d=!0;for(var[g,p]of l.nodes(r,{at:v,match:U.isText,reverse:!0,voids:a})){if(d){d=!1;continue}if(g.text!==""||D.isBefore(p,c)){s={path:p,offset:g.text.length};break}}return{anchor:u,focus:s}},af=(e,r)=>{var t=l.isNormalizing(e);l.setNormalizing(e,!1);try{r()}finally{l.setNormalizing(e,t)}l.normalize(e)},uf=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(r,()=>{var n,a,{reverse:u=!1,unit:s="character",distance:o=1,voids:c=!1}=t,{at:f=r.selection,hanging:v=!1}=t;if(f){var d=!1;if(E.isRange(f)&&E.isCollapsed(f)&&(d=!0,f=f.anchor),te.isPoint(f)){var g=l.void(r,{at:f,mode:"highest"});if(!c&&g){var[,p]=g;f=p}else{var h={unit:s,distance:o},i=u?l.before(r,f,h)||l.start(r,[]):l.after(r,f,h)||l.end(r,[]);f={anchor:f,focus:i},v=!0}}if(D.isPath(f)){O.removeNodes(r,{at:f,voids:c});return}if(!E.isCollapsed(f)){if(!v){var[,B]=E.edges(f),m=l.end(r,[]);te.equals(B,m)||(f=l.unhangRange(r,f,{voids:c}))}var[b,w]=E.edges(f),P=l.above(r,{match:se=>K.isElement(se)&&l.isBlock(r,se),at:b,voids:c}),M=l.above(r,{match:se=>K.isElement(se)&&l.isBlock(r,se),at:w,voids:c}),H=P&&M&&!D.equals(P[1],M[1]),k=D.equals(b.path,w.path),G=c?null:(n=l.void(r,{at:b,mode:"highest"}))!==null&&n!==void 0?n:l.elementReadOnly(r,{at:b,mode:"highest"}),S=c?null:(a=l.void(r,{at:w,mode:"highest"}))!==null&&a!==void 0?a:l.elementReadOnly(r,{at:w,mode:"highest"});if(G){var V=l.before(r,b);V&&P&&D.isAncestor(P[1],V.path)&&(b=V)}if(S){var X=l.after(r,w);X&&M&&D.isAncestor(M[1],X.path)&&(w=X)}var j=[],z;for(var L of l.nodes(r,{at:f,voids:c})){var[W,ee]=L;z&&D.compare(ee,z)===0||(!c&&K.isElement(W)&&(l.isVoid(r,W)||l.isElementReadOnly(r,W))||!D.isCommon(ee,b.path)&&!D.isCommon(ee,w.path))&&(j.push(L),z=ee)}var ae=Array.from(j,se=>{var[,Be]=se;return l.pathRef(r,Be)}),x=l.pointRef(r,b),T=l.pointRef(r,w),q="";if(!k&&!G){var _=x.current,[Y]=l.leaf(r,_),{path:ne}=_,{offset:C}=b,R=Y.text.slice(C);R.length>0&&(r.apply({type:"remove_text",path:ne,offset:C,text:R}),q=R)}if(ae.reverse().map(se=>se.unref()).filter(se=>se!==null).forEach(se=>O.removeNodes(r,{at:se,voids:c})),!S){var y=T.current,[I]=l.leaf(r,y),{path:re}=y,J=k?b.offset:0,ue=I.text.slice(J,w.offset);ue.length>0&&(r.apply({type:"remove_text",path:re,offset:J,text:ue}),q=ue)}!k&&H&&T.current&&x.current&&O.mergeNodes(r,{at:T.current,hanging:!0,voids:c}),d&&u&&s==="character"&&q.length>1&&q.match(/[\u0E00-\u0E7F]+/)&&O.insertText(r,q.slice(0,q.length-o));var le=x.unref(),oe=T.unref(),ge=u?le||oe:oe||le;t.at==null&&ge&&O.select(r,ge)}}})},sf=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(r,()=>{var{hanging:a=!1,voids:u=!1}=n,{at:s=ln(r)}=n;if(t.length){if(E.isRange(s))if(a||(s=l.unhangRange(r,s,{voids:u})),E.isCollapsed(s))s=s.anchor;else{var[,o]=E.edges(s);if(!u&&l.void(r,{at:o}))return;var c=l.pointRef(r,o);O.delete(r,{at:s}),s=c.unref()}else D.isPath(s)&&(s=l.start(r,s));if(!(!u&&l.void(r,{at:s}))){var f=l.above(r,{at:s,match:C=>K.isElement(C)&&l.isInline(r,C),mode:"highest",voids:u});if(f){var[,v]=f;if(l.isEnd(r,s,v)){var d=l.after(r,v);s=d}else if(l.isStart(r,s,v)){var g=l.before(r,v);s=g}}var p=l.above(r,{match:C=>K.isElement(C)&&l.isBlock(r,C),at:s,voids:u}),[,h]=p,i=l.isStart(r,s,h),B=l.isEnd(r,s,h),m=i&&B,b=!i||i&&B,w=!B,[,P]=$.first({children:t},[]),[,M]=$.last({children:t},[]),H=[],k=C=>{var[R,y]=C,I=y.length===0;return I?!1:m?!0:!(b&&D.isAncestor(y,P)&&K.isElement(R)&&!r.isVoid(R)&&!r.isInline(R)||w&&D.isAncestor(y,M)&&K.isElement(R)&&!r.isVoid(R)&&!r.isInline(R))};for(var G of $.nodes({children:t},{pass:k}))k(G)&&H.push(G);var S=[],V=[],X=[],j=!0,z=!1;for(var[L]of H)K.isElement(L)&&!r.isInline(L)?(j=!1,z=!0,V.push(L)):j?S.push(L):X.push(L);var[W]=l.nodes(r,{at:s,match:C=>U.isText(C)||l.isInline(r,C),mode:"highest",voids:u}),[,ee]=W,ae=l.isStart(r,s,ee),x=l.isEnd(r,s,ee),T=l.pathRef(r,B&&!X.length?D.next(h):h),q=l.pathRef(r,x?D.next(ee):ee);O.splitNodes(r,{at:s,match:C=>z?K.isElement(C)&&l.isBlock(r,C):U.isText(C)||l.isInline(r,C),mode:z?"lowest":"highest",always:z&&(!i||S.length>0)&&(!B||X.length>0),voids:u});var _=l.pathRef(r,!ae||ae&&x?D.next(ee):ee);if(O.insertNodes(r,S,{at:_.current,match:C=>U.isText(C)||l.isInline(r,C),mode:"highest",voids:u}),m&&!S.length&&V.length&&!X.length&&O.delete(r,{at:h,voids:u}),O.insertNodes(r,V,{at:T.current,match:C=>K.isElement(C)&&l.isBlock(r,C),mode:"lowest",voids:u}),O.insertNodes(r,X,{at:q.current,match:C=>U.isText(C)||l.isInline(r,C),mode:"highest",voids:u}),!n.at){var Y;if(X.length>0&&q.current?Y=D.previous(q.current):V.length>0&&T.current?Y=D.previous(T.current):_.current&&(Y=D.previous(_.current)),Y){var ne=l.end(r,Y);O.select(r,ne)}}_.unref(),T.unref(),q.unref()}}})},of=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=t,{selection:a}=r;if(a){if(n==="anchor")O.select(r,a.anchor);else if(n==="focus")O.select(r,a.focus);else if(n==="start"){var[u]=E.edges(a);O.select(r,u)}else if(n==="end"){var[,s]=E.edges(a);O.select(r,s)}}else return},lf=e=>{var{selection:r}=e;r&&e.apply({type:"set_selection",properties:r,newProperties:null})},ff=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=r,{distance:a=1,unit:u="character",reverse:s=!1}=t,{edge:o=null}=t;if(n){o==="start"&&(o=E.isBackward(n)?"focus":"anchor"),o==="end"&&(o=E.isBackward(n)?"anchor":"focus");var{anchor:c,focus:f}=n,v={distance:a,unit:u,ignoreNonSelectable:!0},d={};if(o==null||o==="anchor"){var g=s?l.before(r,c,v):l.after(r,c,v);g&&(d.anchor=g)}if(o==null||o==="focus"){var p=s?l.before(r,f,v):l.after(r,f,v);p&&(d.focus=p)}O.setSelection(r,d)}},cf=(e,r)=>{var{selection:t}=e;if(r=l.range(e,r),t){O.setSelection(e,r);return}if(!E.isRange(r))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(pe.stringify(r)));e.apply({type:"set_selection",properties:t,newProperties:r})};function Aa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ba(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Aa(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Aa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var vf=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a}=r,{edge:u="both"}=n;if(a){u==="start"&&(u=E.isBackward(a)?"focus":"anchor"),u==="end"&&(u=E.isBackward(a)?"anchor":"focus");var{anchor:s,focus:o}=a,c=u==="anchor"?s:o;O.setSelection(r,{[u==="anchor"?"anchor":"focus"]:ba(ba({},c),t)})}},df=(e,r)=>{var{selection:t}=e,n={},a={};if(t){for(var u in r)(u==="anchor"&&r.anchor!=null&&!te.equals(r.anchor,t.anchor)||u==="focus"&&r.focus!=null&&!te.equals(r.focus,t.focus)||u!=="anchor"&&u!=="focus"&&r[u]!==t[u])&&(n[u]=t[u],a[u]=r[u]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:a})}},hf=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(r,()=>{var{hanging:a=!1,voids:u=!1,mode:s="lowest"}=n,{at:o,match:c,select:f}=n;if($.isNode(t)&&(t=[t]),t.length!==0){var[v]=t;if(o||(o=ln(r),f=!0),f==null&&(f=!1),E.isRange(o))if(a||(o=l.unhangRange(r,o,{voids:u})),E.isCollapsed(o))o=o.anchor;else{var[,d]=E.edges(o),g=l.pointRef(r,d);O.delete(r,{at:o}),o=g.unref()}if(te.isPoint(o)){c==null&&(U.isText(v)?c=k=>U.isText(k):r.isInline(v)?c=k=>U.isText(k)||l.isInline(r,k):c=k=>K.isElement(k)&&l.isBlock(r,k));var[p]=l.nodes(r,{at:o.path,match:c,mode:s,voids:u});if(p){var[,h]=p,i=l.pathRef(r,h),B=l.isEnd(r,o,h);O.splitNodes(r,{at:o,match:c,mode:s,voids:u});var m=i.unref();o=B?D.next(m):m}else return}var b=D.parent(o),w=o[o.length-1];if(!(!u&&l.void(r,{at:b}))){for(var P of t){var M=b.concat(w);w++,r.apply({type:"insert_node",path:M,node:P}),o=D.next(o)}if(o=D.previous(o),f){var H=l.end(r,o);H&&O.select(r,H)}}}})},gf=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(r,()=>{var{at:n=r.selection,mode:a="lowest",voids:u=!1}=t,{match:s}=t;if(s==null&&(s=D.isPath(n)?mr(r,n):P=>K.isElement(P)&&l.isBlock(r,P)),!!n){var o=l.nodes(r,{at:n,match:s,mode:a,voids:u}),c=Array.from(o,P=>{var[,M]=P;return l.pathRef(r,M)});for(var f of c){var v=f.unref();if(v.length<2)throw new Error("Cannot lift node at a path [".concat(v,"] because it has a depth of less than `2`."));var d=l.node(r,D.parent(v)),[g,p]=d,h=v[v.length-1],{length:i}=g.children;if(i===1){var B=D.next(p);O.moveNodes(r,{at:v,to:B,voids:u}),O.removeNodes(r,{at:p,voids:u})}else if(h===0)O.moveNodes(r,{at:v,to:p,voids:u});else if(h===i-1){var m=D.next(p);O.moveNodes(r,{at:v,to:m,voids:u})}else{var b=D.next(v),w=D.next(p);O.splitNodes(r,{at:b,voids:u}),O.moveNodes(r,{at:v,to:w,voids:u})}}}})},Df=["text"],Cf=["children"],Mu=(e,r)=>{if(K.isElement(r)){var t=r;return l.isVoid(e,r)?!0:t.children.length===1?Mu(e,t.children[0]):!1}else return!l.isEditor(r)},pf=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(r,()=>{var{match:n,at:a=r.selection}=t,{hanging:u=!1,voids:s=!1,mode:o="lowest"}=t;if(a){if(n==null)if(D.isPath(a)){var[c]=l.parent(r,a);n=V=>c.children.includes(V)}else n=V=>K.isElement(V)&&l.isBlock(r,V);if(!u&&E.isRange(a)&&(a=l.unhangRange(r,a,{voids:s})),E.isRange(a))if(E.isCollapsed(a))a=a.anchor;else{var[,f]=E.edges(a),v=l.pointRef(r,f);O.delete(r,{at:a}),a=v.unref(),t.at==null&&O.select(r,a)}var[d]=l.nodes(r,{at:a,match:n,voids:s,mode:o}),g=l.previous(r,{at:a,match:n,voids:s,mode:o});if(!(!d||!g)){var[p,h]=d,[i,B]=g;if(!(h.length===0||B.length===0)){var m=D.next(B),b=D.common(h,B),w=D.isSibling(h,B),P=Array.from(l.levels(r,{at:h}),V=>{var[X]=V;return X}).slice(b.length).slice(0,-1),M=l.above(r,{at:h,mode:"highest",match:V=>P.includes(V)&&Mu(r,V)}),H=M&&l.pathRef(r,M[1]),k,G;if(U.isText(p)&&U.isText(i)){var S=Ke(p,Df);G=i.text.length,k=S}else if(K.isElement(p)&&K.isElement(i)){var S=Ke(p,Cf);G=i.children.length,k=S}else throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(pe.stringify(p)," ").concat(pe.stringify(i)));w||O.moveNodes(r,{at:h,to:m,voids:s}),H&&O.removeNodes(r,{at:H.current,voids:s}),K.isElement(i)&&l.isEmpty(r,i)||U.isText(i)&&i.text===""&&B[B.length-1]!==0?O.removeNodes(r,{at:B,voids:s}):r.apply({type:"merge_node",path:m,position:G,properties:k}),H&&H.unref()}}}})},mf=(e,r)=>{l.withoutNormalizing(e,()=>{var{to:t,at:n=e.selection,mode:a="lowest",voids:u=!1}=r,{match:s}=r;if(n){s==null&&(s=D.isPath(n)?mr(e,n):p=>K.isElement(p)&&l.isBlock(e,p));var o=l.pathRef(e,t),c=l.nodes(e,{at:n,match:s,mode:a,voids:u}),f=Array.from(c,p=>{var[,h]=p;return l.pathRef(e,h)});for(var v of f){var d=v.unref(),g=o.current;d.length!==0&&e.apply({type:"move_node",path:d,newPath:g}),o.current&&D.isSibling(g,d)&&D.isAfter(g,d)&&(o.current=D.next(o.current))}o.unref()}})},Bf=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(r,()=>{var{hanging:n=!1,voids:a=!1,mode:u="lowest"}=t,{at:s=r.selection,match:o}=t;if(s){o==null&&(o=D.isPath(s)?mr(r,s):p=>K.isElement(p)&&l.isBlock(r,p)),!n&&E.isRange(s)&&(s=l.unhangRange(r,s,{voids:a}));var c=l.nodes(r,{at:s,match:o,mode:u,voids:a}),f=Array.from(c,p=>{var[,h]=p;return l.pathRef(r,h)});for(var v of f){var d=v.unref();if(d){var[g]=l.node(r,d);r.apply({type:"remove_node",path:d,node:g})}}}})},Ef=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(r,()=>{var{match:a,at:u=r.selection,compare:s,merge:o}=n,{hanging:c=!1,mode:f="lowest",split:v=!1,voids:d=!1}=n;if(u){if(a==null&&(a=D.isPath(u)?mr(r,u):G=>K.isElement(G)&&l.isBlock(r,G)),!c&&E.isRange(u)&&(u=l.unhangRange(r,u,{voids:d})),v&&E.isRange(u)){if(E.isCollapsed(u)&&l.leaf(r,u.anchor)[0].text.length>0)return;var g=l.rangeRef(r,u,{affinity:"inward"}),[p,h]=E.edges(u),i=f==="lowest"?"lowest":"highest",B=l.isEnd(r,h,h.path);O.splitNodes(r,{at:h,match:a,mode:i,voids:d,always:!B});var m=l.isStart(r,p,p.path);O.splitNodes(r,{at:p,match:a,mode:i,voids:d,always:!m}),u=g.unref(),n.at==null&&O.select(r,u)}s||(s=(G,S)=>G!==S);for(var[b,w]of l.nodes(r,{at:u,match:a,mode:f,voids:d})){var P={},M={};if(w.length!==0){var H=!1;for(var k in t)k==="children"||k==="text"||s(t[k],b[k])&&(H=!0,b.hasOwnProperty(k)&&(P[k]=b[k]),o?t[k]!=null&&(M[k]=o(b[k],t[k])):t[k]!=null&&(M[k]=t[k]));H&&r.apply({type:"set_node",path:w,properties:P,newProperties:M})}}}})},Af=(e,r)=>{if(E.isCollapsed(r))return r.anchor;var[,t]=E.edges(r),n=l.pointRef(e,t);return O.delete(e,{at:r}),n.unref()},bf=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(r,()=>{var{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=r.selection,height:o=0,always:c=!1}=t;if(u==null&&(u=T=>K.isElement(T)&&l.isBlock(r,T)),E.isRange(s)&&(s=Af(r,s)),D.isPath(s)){var f=s,v=l.point(r,f),[d]=l.parent(r,f);u=T=>T===d,o=v.path.length-f.length+1,s=v,c=!0}if(s){var g=l.pointRef(r,s,{affinity:"backward"}),p;try{var[h]=l.nodes(r,{at:s,match:u,mode:n,voids:a});if(!h)return;var i=l.void(r,{at:s,mode:"highest"}),B=0;if(!a&&i){var[m,b]=i;if(K.isElement(m)&&r.isInline(m)){var w=l.after(r,b);if(!w){var P={text:""},M=D.next(b);O.insertNodes(r,P,{at:M,voids:a}),w=l.point(r,M)}s=w,c=!0}var H=s.path.length-b.length;o=H+1,c=!0}p=l.pointRef(r,s);var k=s.path.length-o,[,G]=h,S=s.path.slice(0,k),V=o===0?s.offset:s.path[k]+B;for(var[X,j]of l.levels(r,{at:S,reverse:!0,voids:a})){var z=!1;if(j.length<G.length||j.length===0||!a&&K.isElement(X)&&l.isVoid(r,X))break;var L=g.current,W=l.isEnd(r,L,j);if(c||!g||!l.isEdge(r,L,j)){z=!0;var ee=$.extractProps(X);r.apply({type:"split_node",path:j,position:V,properties:ee})}V=j[j.length-1]+(z||W?1:0)}if(t.at==null){var ae=p.current||l.end(r,[]);O.select(r,ae)}}finally{var x;g.unref(),(x=p)===null||x===void 0||x.unref()}}})},Ff=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var a={};for(var u of t)a[u]=null;O.setNodes(r,a,n)},wf=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(r,()=>{var{mode:n="lowest",split:a=!1,voids:u=!1}=t,{at:s=r.selection,match:o}=t;if(s){o==null&&(o=D.isPath(s)?mr(r,s):p=>K.isElement(p)&&l.isBlock(r,p)),D.isPath(s)&&(s=l.range(r,s));var c=E.isRange(s)?l.rangeRef(r,s):null,f=l.nodes(r,{at:s,match:o,mode:n,voids:u}),v=Array.from(f,p=>{var[,h]=p;return l.pathRef(r,h)}).reverse(),d=function(h){var i=h.unref(),[B]=l.node(r,i),m=l.range(r,i);a&&c&&(m=E.intersection(c.current,m)),O.liftNodes(r,{at:m,match:b=>K.isAncestor(B)&&B.children.includes(b),voids:u})};for(var g of v)d(g);c&&c.unref()}})};function Fa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function wa(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Fa(Object(t),!0).forEach(function(n){be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var yf=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(r,()=>{var{mode:a="lowest",split:u=!1,voids:s=!1}=n,{match:o,at:c=r.selection}=n;if(c){if(o==null&&(D.isPath(c)?o=mr(r,c):r.isInline(t)?o=m=>K.isElement(m)&&l.isInline(r,m)||U.isText(m):o=m=>K.isElement(m)&&l.isBlock(r,m)),u&&E.isRange(c)){var[f,v]=E.edges(c),d=l.rangeRef(r,c,{affinity:"inward"});O.splitNodes(r,{at:v,match:o,voids:s}),O.splitNodes(r,{at:f,match:o,voids:s}),c=d.unref(),n.at==null&&O.select(r,c)}var g=Array.from(l.nodes(r,{at:c,match:r.isInline(t)?m=>K.isElement(m)&&l.isBlock(r,m):m=>l.isEditor(m),mode:"lowest",voids:s}));for(var[,p]of g){var h=E.isRange(c)?E.intersection(c,l.range(r,p)):c;if(h){var i=Array.from(l.nodes(r,{at:h,match:o,mode:a,voids:s}));if(i.length>0){var B=function(){var[m]=i,b=i[i.length-1],[,w]=m,[,P]=b;if(w.length===0&&P.length===0)return"continue";var M=D.equals(w,P)?D.parent(w):D.common(w,P),H=l.range(r,w,P),k=l.node(r,M),[G]=k,S=M.length+1,V=D.next(P.slice(0,S)),X=wa(wa({},t),{},{children:[]});O.insertNodes(r,X,{at:V,voids:s}),O.moveNodes(r,{at:H,match:j=>K.isAncestor(G)&&G.children.includes(j),to:V.concat(0),voids:s})}();if(B==="continue")continue}}}}})},Of=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Xo(e,...n)},addMark:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return nl(e,...n)},deleteBackward:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return sl(e,...n)},deleteForward:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return il(e,...n)},deleteFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ol(e,...n)},getFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Qo(e,...n)},insertBreak:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ml(e,...n)},insertSoftBreak:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return El(e,...n)},insertFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return sf(e,...n)},insertNode:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Bl(e,...n)},insertText:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return bl(e,...n)},normalizeNode:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return el(e,...n)},removeMark:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ql(e,...n)},getDirtyPaths:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Zo(e,...n)},shouldNormalize:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return rl(e,...n)},above:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return tl(e,...n)},after:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return al(e,...n)},before:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ul(e,...n)},collapse:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return of(e,...n)},delete:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return uf(e,...n)},deselect:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return lf(e,...n)},edges:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ll(e,...n)},elementReadOnly:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return fl(e,...n)},end:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return cl(e,...n)},first:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return vl(e,...n)},fragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return dl(e,...n)},getMarks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Nl(e,...n)},hasBlocks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return gl(e,...n)},hasInlines:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Dl(e,...n)},hasPath:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Cl(e,...n)},hasTexts:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return pl(e,...n)},insertNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return hf(e,...n)},isBlock:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Fl(e,...n)},isEdge:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return wl(e,...n)},isEmpty:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return yl(e,...n)},isEnd:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ol(e,...n)},isNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return xl(e,...n)},isStart:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Sl(e,...n)},last:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Tl(e,...n)},leaf:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Pl(e,...n)},levels:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return $l(e,...n)},liftNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return gf(e,...n)},mergeNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return pf(e,...n)},move:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ff(e,...n)},moveNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return mf(e,...n)},next:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Il(e,...n)},node:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ml(e,...n)},nodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return kl(e,...n)},normalize:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ll(e,...n)},parent:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Wl(e,...n)},path:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Vl(e,...n)},pathRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return zl(e,...n)},pathRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Hl(e,...n)},point:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ul(e,...n)},pointRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ql(e,...n)},pointRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Kl(e,...n)},positions:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Gl(e,...n)},previous:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return _l(e,...n)},range:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Xl(e,...n)},rangeRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Yl(e,...n)},rangeRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Jl(e,...n)},removeNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Bf(e,...n)},select:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return cf(e,...n)},setNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ef(e,...n)},setNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ef(e,...n)},setPoint:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return vf(e,...n)},setSelection:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return df(e,...n)},splitNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return bf(e,...n)},start:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return rf(e,...n)},string:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return tf(e,...n)},unhangRange:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return nf(e,...n)},unsetNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ff(e,...n)},unwrapNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return wf(e,...n)},void:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return hl(e,...n)},withoutNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return af(e,...n)},wrapNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return yf(e,...n)}};return e},ur=[],xf=function(){return ur.some(function(e){return e.activeTargets.length>0})},Sf=function(){return ur.some(function(e){return e.skippedTargets.length>0})},ya="ResizeObserver loop completed with undelivered notifications.",Tf=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:ya}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=ya),window.dispatchEvent(e)},Lr;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Lr||(Lr={}));var sr=function(e){return Object.freeze(e)},Pf=function(){function e(r,t){this.inlineSize=r,this.blockSize=t,sr(this)}return e}(),ku=function(){function e(r,t,n,a){return this.x=r,this.y=t,this.width=n,this.height=a,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,sr(this)}return e.prototype.toJSON=function(){var r=this,t=r.x,n=r.y,a=r.top,u=r.right,s=r.bottom,o=r.left,c=r.width,f=r.height;return{x:t,y:n,top:a,right:u,bottom:s,left:o,width:c,height:f}},e.fromRect=function(r){return new e(r.x,r.y,r.width,r.height)},e}(),vn=function(e){return e instanceof SVGElement&&"getBBox"in e},Lu=function(e){if(vn(e)){var r=e.getBBox(),t=r.width,n=r.height;return!t&&!n}var a=e,u=a.offsetWidth,s=a.offsetHeight;return!(u||s||e.getClientRects().length)},Oa=function(e){var r;if(e instanceof Element)return!0;var t=(r=e==null?void 0:e.ownerDocument)===null||r===void 0?void 0:r.defaultView;return!!(t&&e instanceof t.Element)},$f=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Rr=typeof window<"u"?window:{},_r=new WeakMap,xa=/auto|scroll/,jf=/^tb|vertical/,Rf=/msie|trident/i.test(Rr.navigator&&Rr.navigator.userAgent),ze=function(e){return parseFloat(e||"0")},dr=function(e,r,t){return e===void 0&&(e=0),r===void 0&&(r=0),t===void 0&&(t=!1),new Pf((t?r:e)||0,(t?e:r)||0)},Sa=sr({devicePixelContentBoxSize:dr(),borderBoxSize:dr(),contentBoxSize:dr(),contentRect:new ku(0,0,0,0)}),Wu=function(e,r){if(r===void 0&&(r=!1),_r.has(e)&&!r)return _r.get(e);if(Lu(e))return _r.set(e,Sa),Sa;var t=getComputedStyle(e),n=vn(e)&&e.ownerSVGElement&&e.getBBox(),a=!Rf&&t.boxSizing==="border-box",u=jf.test(t.writingMode||""),s=!n&&xa.test(t.overflowY||""),o=!n&&xa.test(t.overflowX||""),c=n?0:ze(t.paddingTop),f=n?0:ze(t.paddingRight),v=n?0:ze(t.paddingBottom),d=n?0:ze(t.paddingLeft),g=n?0:ze(t.borderTopWidth),p=n?0:ze(t.borderRightWidth),h=n?0:ze(t.borderBottomWidth),i=n?0:ze(t.borderLeftWidth),B=d+f,m=c+v,b=i+p,w=g+h,P=o?e.offsetHeight-w-e.clientHeight:0,M=s?e.offsetWidth-b-e.clientWidth:0,H=a?B+b:0,k=a?m+w:0,G=n?n.width:ze(t.width)-H-M,S=n?n.height:ze(t.height)-k-P,V=G+B+M+b,X=S+m+P+w,j=sr({devicePixelContentBoxSize:dr(Math.round(G*devicePixelRatio),Math.round(S*devicePixelRatio),u),borderBoxSize:dr(V,X,u),contentBoxSize:dr(G,S,u),contentRect:new ku(d,c,G,S)});return _r.set(e,j),j},zu=function(e,r,t){var n=Wu(e,t),a=n.borderBoxSize,u=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(r){case Lr.DEVICE_PIXEL_CONTENT_BOX:return s;case Lr.BORDER_BOX:return a;default:return u}},Nf=function(){function e(r){var t=Wu(r);this.target=r,this.contentRect=t.contentRect,this.borderBoxSize=sr([t.borderBoxSize]),this.contentBoxSize=sr([t.contentBoxSize]),this.devicePixelContentBoxSize=sr([t.devicePixelContentBoxSize])}return e}(),Hu=function(e){if(Lu(e))return 1/0;for(var r=0,t=e.parentNode;t;)r+=1,t=t.parentNode;return r},If=function(){var e=1/0,r=[];ur.forEach(function(s){if(s.activeTargets.length!==0){var o=[];s.activeTargets.forEach(function(f){var v=new Nf(f.target),d=Hu(f.target);o.push(v),f.lastReportedSize=zu(f.target,f.observedBox),d<e&&(e=d)}),r.push(function(){s.callback.call(s.observer,o,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var t=0,n=r;t<n.length;t++){var a=n[t];a()}return e},Ta=function(e){ur.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(a){a.isActive()&&(Hu(a.target)>e?t.activeTargets.push(a):t.skippedTargets.push(a))})})},Mf=function(){var e=0;for(Ta(e);xf();)e=If(),Ta(e);return Sf()&&Tf(),e>0},St,Vu=[],kf=function(){return Vu.splice(0).forEach(function(e){return e()})},Lf=function(e){if(!St){var r=0,t=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return kf()}).observe(t,n),St=function(){t.textContent="".concat(r?r--:r++)}}Vu.push(e),St()},Wf=function(e){Lf(function(){requestAnimationFrame(e)})},et=0,zf=function(){return!!et},Hf=250,Vf={attributes:!0,characterData:!0,childList:!0,subtree:!0},Pa=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],$a=function(e){return e===void 0&&(e=0),Date.now()+e},Tt=!1,qf=function(){function e(){var r=this;this.stopped=!0,this.listener=function(){return r.schedule()}}return e.prototype.run=function(r){var t=this;if(r===void 0&&(r=Hf),!Tt){Tt=!0;var n=$a(r);Wf(function(){var a=!1;try{a=Mf()}finally{if(Tt=!1,r=n-$a(),!zf())return;a?t.run(1e3):r>0?t.run(r):t.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var r=this,t=function(){return r.observer&&r.observer.observe(document.body,Vf)};document.body?t():Rr.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var r=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Pa.forEach(function(t){return Rr.addEventListener(t,r.listener,!0)}))},e.prototype.stop=function(){var r=this;this.stopped||(this.observer&&this.observer.disconnect(),Pa.forEach(function(t){return Rr.removeEventListener(t,r.listener,!0)}),this.stopped=!0)},e}(),zt=new qf,ja=function(e){!et&&e>0&&zt.start(),et+=e,!et&&zt.stop()},Kf=function(e){return!vn(e)&&!$f(e)&&getComputedStyle(e).display==="inline"},Uf=function(){function e(r,t){this.target=r,this.observedBox=t||Lr.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var r=zu(this.target,this.observedBox,!0);return Kf(this.target)&&(this.lastReportedSize=r),this.lastReportedSize.inlineSize!==r.inlineSize||this.lastReportedSize.blockSize!==r.blockSize},e}(),Gf=function(){function e(r,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=r,this.callback=t}return e}(),Yr=new WeakMap,Ra=function(e,r){for(var t=0;t<e.length;t+=1)if(e[t].target===r)return t;return-1},Jr=function(){function e(){}return e.connect=function(r,t){var n=new Gf(r,t);Yr.set(r,n)},e.observe=function(r,t,n){var a=Yr.get(r),u=a.observationTargets.length===0;Ra(a.observationTargets,t)<0&&(u&&ur.push(a),a.observationTargets.push(new Uf(t,n&&n.box)),ja(1),zt.schedule())},e.unobserve=function(r,t){var n=Yr.get(r),a=Ra(n.observationTargets,t),u=n.observationTargets.length===1;a>=0&&(u&&ur.splice(ur.indexOf(n),1),n.observationTargets.splice(a,1),ja(-1))},e.disconnect=function(r){var t=this,n=Yr.get(r);n.observationTargets.slice().forEach(function(a){return t.unobserve(r,a.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),_f=function(){function e(r){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof r!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Jr.connect(this,r)}return e.prototype.observe=function(r,t){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Oa(r))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Jr.observe(this,r,t)},e.prototype.unobserve=function(r){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Oa(r))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Jr.unobserve(this,r)},e.prototype.disconnect=function(){Jr.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});var Yf=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Pt={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Jf={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Yf?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},qu={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var Xr=1;Xr<20;Xr++)qu["f"+Xr]=111+Xr;function dt(e,r,t){r&&!("byKey"in r)&&(t=r,r=null),Array.isArray(e)||(e=[e]);var n=e.map(function(s){return Ku(s,r)}),a=function(o){return n.some(function(c){return Uu(c,o)})},u=t==null?a:a(t);return u}function Xf(e,r){return dt(e,r)}function Zf(e,r){return dt(e,{byKey:!0},r)}function Ku(e,r){var t=r&&r.byKey,n={};e=e.replace("++","+add");var a=e.split("+"),u=a.length;for(var s in Pt)n[Pt[s]]=!1;var o=!0,c=!1,f=void 0;try{for(var v=a[Symbol.iterator](),d;!(o=(d=v.next()).done);o=!0){var g=d.value,p=g.endsWith("?")&&g.length>1;p&&(g=g.slice(0,-1));var h=dn(g),i=Pt[h];(u===1||!i)&&(t?n.key=h:n.which=Gu(g)),i&&(n[i]=p?null:!0)}}catch(B){c=!0,f=B}finally{try{!o&&v.return&&v.return()}finally{if(c)throw f}}return n}function Uu(e,r){for(var t in e){var n=e[t],a=void 0;if(n!=null&&(t==="key"&&r.key!=null?a=r.key.toLowerCase():t==="which"?a=n===91&&r.which===93?91:r.which:a=r[t],!(a==null&&n===!1)&&a!==n))return!1}return!0}function Gu(e){e=dn(e);var r=qu[e]||e.toUpperCase().charCodeAt(0);return r}function dn(e){return e=e.toLowerCase(),e=Jf[e]||e,e}Ue.default=dt;var $t=Ue.isHotkey=dt;Ue.isCodeHotkey=Xf;Ue.isKeyHotkey=Zf;Ue.parseHotkey=Ku;Ue.compareHotkey=Uu;Ue.toKeyCode=Gu;Ue.toKeyName=dn;function ht(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Qf(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function hr(e,r){if(e==null)return{};var t=Qf(e,r),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var hn=A.createContext(null),Ze=()=>{var e=A.useContext(hn);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},_u=parseInt(Q.version.split(".")[0],10),ec=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Na=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Oe=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Nr=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Tr=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),rc=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Yu=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),tc=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),nc=Oe&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),ac=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),uc=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),sc=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),rt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ge=(!tc||!nc)&&!rc&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",gn=new WeakMap,Dn=new WeakMap,Ju=new WeakMap,tt=new WeakMap,Ht=new WeakMap,Wr=new WeakMap,ir=new WeakMap,Vt=new WeakMap,gt=new WeakMap,qt=new WeakMap,nr=new WeakMap,ar=new WeakMap,Ir=new WeakMap,Kt=new WeakMap,Cn=new WeakMap,Me=new WeakMap,qe=new WeakMap,ye=new WeakMap,_e=new WeakMap,Ye=new WeakMap,Xu=new WeakMap,gr=Symbol("placeholder"),Zu=Symbol("mark-placeholder"),ic=globalThis.Text,pn=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,oc=e=>Je(e)&&e.nodeType===8,Pe=e=>Je(e)&&e.nodeType===1,Je=e=>{var r=pn(e);return!!r&&e instanceof r.Node},Ut=e=>{var r=e&&e.anchorNode&&pn(e.anchorNode);return!!r&&e instanceof r.Selection},Qu=e=>Je(e)&&e.nodeType===3,lc=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,fc=e=>{var[r,t]=e;if(Pe(r)&&r.childNodes.length){var n=t===r.childNodes.length,a=n?t-1:t;for([r,a]=es(r,a,n?"backward":"forward"),n=a<t;Pe(r)&&r.childNodes.length;){var u=n?r.childNodes.length-1:0;r=vc(r,u,n?"backward":"forward")}t=n&&r.textContent!=null?r.textContent.length:0}return[r,t]},cc=e=>{for(var r=e&&e.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},es=(e,r,t)=>{for(var{childNodes:n}=e,a=n[r],u=r,s=!1,o=!1;(oc(a)||Pe(a)&&a.childNodes.length===0||Pe(a)&&a.getAttribute("contenteditable")==="false")&&!(s&&o);){if(u>=n.length){s=!0,u=r-1,t="backward";continue}if(u<0){o=!0,u=r+1,t="forward";continue}a=n[u],r=u,u+=t==="forward"?1:-1}return[a,r]},vc=(e,r,t)=>{var[n]=es(e,r,t);return n},rs=e=>{var r="";if(Qu(e)&&e.nodeValue)return e.nodeValue;if(Pe(e)){for(var t of Array.from(e.childNodes))r+=rs(t);var n=getComputedStyle(e).getPropertyValue("display");(n==="block"||n==="list"||e.tagName==="BR")&&(r+=`
`)}return r},dc=/data-slate-fragment="(.+?)"/m,hc=e=>{var r=e.getData("text/html"),[,t]=r.match(dc)||[];return t},mn=(e,r,t)=>{var{target:n}=r;if(Pe(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:a}=F.getWindow(e);if(a.contains(n))return F.hasDOMNode(e,n,{editable:!0});var u=t.find(s=>{var{addedNodes:o,removedNodes:c}=s;for(var f of o)if(f===n||f.contains(n))return!0;for(var v of c)if(v===n||v.contains(n))return!0});return!u||u===r?!1:mn(e,u,t)},gc=0;class Dc{constructor(){this.id="".concat(gc++)}}var F={androidPendingDiffs:e=>ye.get(e),androidScheduleFlush:e=>{var r;(r=Cn.get(e))===null||r===void 0||r()},blur:e=>{var r=F.toDOMNode(e,e),t=F.findDocumentOrShadowRoot(e);nr.set(e,!1),t.activeElement===r&&r.blur()},deselect:e=>{var{selection:r}=e,t=F.findDocumentOrShadowRoot(e),n=t.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),r&&O.deselect(e)},findDocumentOrShadowRoot:e=>{var r=F.toDOMNode(e,e),t=r.getRootNode();return(t instanceof Document||t instanceof ShadowRoot)&&t.getSelection!=null?t:r.ownerDocument},findEventRange:(e,r)=>{"nativeEvent"in r&&(r=r.nativeEvent);var{clientX:t,clientY:n,target:a}=r;if(t==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(r));var u=F.toSlateNode(e,r.target),s=F.findPath(e,u);if(K.isElement(u)&&l.isVoid(e,u)){var o=a.getBoundingClientRect(),c=e.isInline(u)?t-o.left<o.left+o.width-t:n-o.top<o.top+o.height-n,f=l.point(e,s,{edge:c?"start":"end"}),v=c?l.before(e,f):l.after(e,f);if(v){var d=l.range(e,v);return d}}var g,{document:p}=F.getWindow(e);if(p.caretRangeFromPoint)g=p.caretRangeFromPoint(t,n);else{var h=p.caretPositionFromPoint(t,n);h&&(g=p.createRange(),g.setStart(h.offsetNode,h.offset),g.setEnd(h.offsetNode,h.offset))}if(!g)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(r));var i=F.toSlateRange(e,g,{exactMatch:!1,suppressThrow:!1});return i},findKey:(e,r)=>{var t=Vt.get(r);return t||(t=new Dc,Vt.set(r,t)),t},findPath:(e,r)=>{for(var t=[],n=r;;){var a=Dn.get(n);if(a==null){if(l.isEditor(n))return t;break}var u=gn.get(n);if(u==null)break;t.unshift(u),n=a}throw new Error("Unable to find the path for Slate node: ".concat(pe.stringify(r)))},focus:e=>{var r=F.toDOMNode(e,e),t=F.findDocumentOrShadowRoot(e);nr.set(e,!0),t.activeElement!==r&&r.focus({preventScroll:!0})},getWindow:e=>{var r=Ju.get(e);if(!r)throw new Error("Unable to find a host window element for this editor");return r},hasDOMNode:function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:a=!1}=n,u=F.toDOMNode(r,r),s;try{s=Pe(t)?t:t.parentElement}catch(o){if(!o.message.includes('Permission denied to access property "nodeType"'))throw o}return s?s.closest("[data-slate-editor]")===u&&(!a||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===u||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,r)=>Je(r)&&F.hasDOMNode(e,r,{editable:!0}),hasRange:(e,r)=>{var{anchor:t,focus:n}=r;return l.hasPath(e,t.path)&&l.hasPath(e,n.path)},hasSelectableTarget:(e,r)=>F.hasEditableTarget(e,r)||F.isTargetInsideNonReadonlyVoid(e,r),hasTarget:(e,r)=>Je(r)&&F.hasDOMNode(e,r),insertData:(e,r)=>{e.insertData(r)},insertFragmentData:(e,r)=>e.insertFragmentData(r),insertTextData:(e,r)=>e.insertTextData(r),isComposing:e=>!!ar.get(e),isFocused:e=>!!nr.get(e),isReadOnly:e=>!!qt.get(e),isTargetInsideNonReadonlyVoid:(e,r)=>{if(qt.get(e))return!1;var t=F.hasTarget(e,r)&&F.toSlateNode(e,r);return K.isElement(t)&&l.isVoid(e,t)},setFragmentData:(e,r,t)=>e.setFragmentData(r,t),toDOMNode:(e,r)=>{var t=gt.get(e),n=l.isEditor(r)?tt.get(e):t==null?void 0:t.get(F.findKey(e,r));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(pe.stringify(r)));return n},toDOMPoint:(e,r)=>{var[t]=l.node(e,r.path),n=F.toDOMNode(e,t),a;l.void(e,{at:r})&&(r={path:r.path,offset:0});for(var u="[data-slate-string], [data-slate-zero-width]",s=Array.from(n.querySelectorAll(u)),o=0,c=0;c<s.length;c++){var f=s[c],v=f.childNodes[0];if(!(v==null||v.textContent==null)){var{length:d}=v.textContent,g=f.getAttribute("data-slate-length"),p=g==null?d:parseInt(g,10),h=o+p,i=s[c+1];if(r.offset===h&&i!==null&&i!==void 0&&i.hasAttribute("data-slate-mark-placeholder")){var B,m=i.childNodes[0];a=[m instanceof ic?m:i,(B=i.textContent)!==null&&B!==void 0&&B.startsWith("\uFEFF")?1:0];break}if(r.offset<=h){var b=Math.min(d,Math.max(0,r.offset-o));a=[v,b];break}o=h}}if(!a)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(pe.stringify(r)));return a},toDOMRange:(e,r)=>{var{anchor:t,focus:n}=r,a=E.isBackward(r),u=F.toDOMPoint(e,t),s=E.isCollapsed(r)?u:F.toDOMPoint(e,n),o=F.getWindow(e),c=o.document.createRange(),[f,v]=a?s:u,[d,g]=a?u:s,p=Pe(f)?f:f.parentElement,h=!!p.getAttribute("data-slate-zero-width"),i=Pe(d)?d:d.parentElement,B=!!i.getAttribute("data-slate-zero-width");return c.setStart(f,h?1:v),c.setEnd(d,B?1:g),c},toSlateNode:(e,r)=>{var t=Pe(r)?r:r.parentElement;t&&!t.hasAttribute("data-slate-node")&&(t=t.closest("[data-slate-node]"));var n=t?Wr.get(t):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(t));return n},toSlatePoint:(e,r,t)=>{var{exactMatch:n,suppressThrow:a}=t,[u,s]=n?r:fc(r),o=u.parentNode,c=null,f=0;if(o){var v,d,g=F.toDOMNode(e,e),p=o.closest('[data-slate-void="true"]'),h=p&&g.contains(p)?p:null,i=o.closest("[data-slate-leaf]"),B=null;if(i){if(c=i.closest('[data-slate-node="text"]'),c){var m=F.getWindow(e),b=m.document.createRange();b.setStart(c,0),b.setEnd(u,s);var w=b.cloneContents(),P=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];P.forEach(L=>{if(Oe&&!n&&L.hasAttribute("data-slate-zero-width")&&L.textContent.length>0&&L.textContext!=="\uFEFF"){L.textContent.startsWith("\uFEFF")&&(L.textContent=L.textContent.slice(1));return}L.parentNode.removeChild(L)}),f=w.textContent.length,B=c}}else if(h){for(var M=h.querySelectorAll("[data-slate-leaf]"),H=0;H<M.length;H++){var k=M[H];if(F.hasDOMNode(e,k)){i=k;break}}i?(c=i.closest('[data-slate-node="text"]'),B=i,f=B.textContent.length,B.querySelectorAll("[data-slate-zero-width]").forEach(L=>{f-=L.textContent.length})):f=1}B&&f===B.textContent.length&&Oe&&B.getAttribute("data-slate-zero-width")==="z"&&(v=B.textContent)!==null&&v!==void 0&&v.startsWith("\uFEFF")&&(o.hasAttribute("data-slate-zero-width")||Nr&&(d=B.textContent)!==null&&d!==void 0&&d.endsWith(`

`))&&f--}if(Oe&&!c&&!n){var G=o.hasAttribute("data-slate-node")?o:o.closest("[data-slate-node]");if(G&&F.hasDOMNode(e,G,{editable:!0})){var S=F.toSlateNode(e,G),{path:V,offset:X}=l.start(e,F.findPath(e,S));return G.querySelector("[data-slate-leaf]")||(X=s),{path:V,offset:X}}}if(!c){if(a)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(r))}var j=F.toSlateNode(e,c),z=F.findPath(e,j);return{path:z,offset:f}},toSlateRange:(e,r,t)=>{var{exactMatch:n,suppressThrow:a}=t,u=Ut(r)?r.anchorNode:r.startContainer,s,o,c,f,v;if(u)if(Ut(r)){if(Nr&&r.rangeCount>1){c=r.focusNode;var d=r.getRangeAt(0),g=r.getRangeAt(r.rangeCount-1);if(c instanceof HTMLTableRowElement&&d.startContainer instanceof HTMLTableRowElement&&g.startContainer instanceof HTMLTableRowElement){let M=function(H){return H.childElementCount>0?M(H.children[0]):H};var p=d.startContainer,h=g.startContainer,i=M(p.children[d.startOffset]),B=M(h.children[g.startOffset]);f=0,B.childNodes.length>0?s=B.childNodes[0]:s=B,i.childNodes.length>0?c=i.childNodes[0]:c=i,B instanceof HTMLElement?o=B.innerHTML.length:o=0}else d.startContainer===c?(s=g.endContainer,o=g.endOffset,f=d.startOffset):(s=d.startContainer,o=d.endOffset,f=g.startOffset)}else s=r.anchorNode,o=r.anchorOffset,c=r.focusNode,f=r.focusOffset;Yu&&cc(s)||Nr?v=r.anchorNode===r.focusNode&&r.anchorOffset===r.focusOffset:v=r.isCollapsed}else s=r.startContainer,o=r.startOffset,c=r.endContainer,f=r.endOffset,v=r.collapsed;if(s==null||c==null||o==null||f==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(r));if("getAttribute"in c&&c.getAttribute("contenteditable")==="false"&&c.getAttribute("data-slate-void")!=="true"){var m;c=s,f=((m=s.textContent)===null||m===void 0?void 0:m.length)||0}var b=F.toSlatePoint(e,[s,o],{exactMatch:n,suppressThrow:a});if(!b)return null;var w=v?b:F.toSlatePoint(e,[c,f],{exactMatch:n,suppressThrow:a});if(!w)return null;var P={anchor:b,focus:w};return E.isExpanded(P)&&E.isForward(P)&&Pe(c)&&l.void(e,{at:P.focus,mode:"highest"})&&(P=l.unhangRange(e,P,{voids:!0})),P}};function Cc(e,r){var{path:t,diff:n}=r;if(!l.hasPath(e,t))return!1;var a=$.get(e,t);if(!U.isText(a))return!1;if(n.start!==a.text.length||n.text.length===0)return a.text.slice(n.start,n.start+n.text.length)===n.text;var u=D.next(t);if(!l.hasPath(e,u))return!1;var s=$.get(e,u);return U.isText(s)&&s.text.startsWith(n.text)}function ts(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return t.reduce((a,u)=>a.slice(0,u.start)+u.text+a.slice(u.end),e)}function pc(e,r){for(var t=Math.min(e.length,r.length),n=0;n<t;n++)if(e.charAt(n)!==r.charAt(n))return n;return t}function mc(e,r,t){for(var n=Math.min(e.length,r.length,t),a=0;a<n;a++)if(e.charAt(e.length-a-1)!==r.charAt(r.length-a-1))return a;return n}function ns(e,r){var{start:t,end:n,text:a}=r,u=e.slice(t,n),s=pc(u,a),o=Math.min(u.length-s,a.length-s),c=mc(u,a,o),f={start:t+s,end:n-c,text:a.slice(s,a.length-c)};return f.start===f.end&&f.text.length===0?null:f}function Bc(e,r,t){var n=Math.min(r.start,t.start),a=Math.max(0,Math.min(r.start+r.text.length,t.end)-t.start),u=ts(e,r,t),s=Math.max(t.start+t.text.length,r.start+r.text.length+(r.start+r.text.length>t.start?t.text.length:0)-a),o=u.slice(n,s),c=Math.max(r.end,t.end-r.text.length+(r.end-r.start));return ns(e,{start:n,end:c,text:o})}function Ec(e){var{path:r,diff:t}=e;return{anchor:{path:r,offset:t.start},focus:{path:r,offset:t.end}}}function Gt(e,r){var{path:t,offset:n}=r;if(!l.hasPath(e,t))return null;var a=$.get(e,t);if(!U.isText(a))return null;var u=l.above(e,{match:o=>K.isElement(o)&&l.isBlock(e,o),at:t});if(!u)return null;for(;n>a.text.length;){var s=l.next(e,{at:t,match:U.isText});if(!s||!D.isDescendant(s[1],u[1]))return null;n-=a.text.length,a=s[0],t=s[1]}return{path:t,offset:n}}function Ia(e,r){var t=Gt(e,r.anchor);if(!t)return null;if(E.isCollapsed(r))return{anchor:t,focus:t};var n=Gt(e,r.focus);return n?{anchor:t,focus:n}:null}function _t(e,r,t){var n=ye.get(e),a=n==null?void 0:n.find(v=>{var{path:d}=v;return D.equals(d,r.path)});if(!a||r.offset<=a.diff.start)return te.transform(r,t,{affinity:"backward"});var{diff:u}=a;if(r.offset<=u.start+u.text.length){var s={path:r.path,offset:u.start},o=te.transform(s,t,{affinity:"backward"});return o?{path:o.path,offset:o.offset+r.offset-u.start}:null}var c={path:r.path,offset:r.offset-u.text.length+u.end-u.start},f=te.transform(c,t,{affinity:"backward"});return f?t.type==="split_node"&&D.equals(t.path,r.path)&&c.offset<t.position&&u.start<t.position?f:{path:f.path,offset:f.offset+u.text.length-u.end+u.start}:null}function Ma(e,r,t){var n=_t(e,r.anchor,t);if(!n)return null;if(E.isCollapsed(r))return{anchor:n,focus:n};var a=_t(e,r.focus,t);return a?{anchor:n,focus:a}:null}function Ac(e,r){var{path:t,diff:n,id:a}=e;switch(r.type){case"insert_text":return!D.equals(r.path,t)||r.offset>=n.end?e:r.offset<=n.start?{diff:{start:r.text.length+n.start,end:r.text.length+n.end,text:n.text},id:a,path:t}:{diff:{start:n.start,end:n.end+r.text.length,text:n.text},id:a,path:t};case"remove_text":return!D.equals(r.path,t)||r.offset>=n.end?e:r.offset+r.text.length<=n.start?{diff:{start:n.start-r.text.length,end:n.end-r.text.length,text:n.text},id:a,path:t}:{diff:{start:n.start,end:n.end-r.text.length,text:n.text},id:a,path:t};case"split_node":return!D.equals(r.path,t)||r.position>=n.end?{diff:n,id:a,path:D.transform(t,r,{affinity:"backward"})}:r.position>n.start?{diff:{start:n.start,end:Math.min(r.position,n.end),text:n.text},id:a,path:t}:{diff:{start:n.start-r.position,end:n.end-r.position,text:n.text},id:a,path:D.transform(t,r,{affinity:"forward"})};case"merge_node":return D.equals(r.path,t)?{diff:{start:n.start+r.position,end:n.end+r.position,text:n.text},id:a,path:D.transform(t,r)}:{diff:n,id:a,path:D.transform(t,r)}}var u=D.transform(t,r);return u?{diff:n,path:u,id:a}:null}function ka(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Zr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ka(Object(t),!0).forEach(function(n){ht(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ka(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var bc=25,Fc=200,wc=function(){},yc=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function Oc(e){var{editor:r,scheduleOnDOMSelectionChange:t,onDOMSelectionChange:n}=e,a=!1,u=null,s=null,o=null,c=0,f=!1,v=()=>{var j=Ye.get(r);if(Ye.delete(r),j){var{selection:z}=r,L=Ia(r,j);L&&(!z||!E.equals(L,z))&&O.select(r,L)}},d=()=>{var j=_e.get(r);if(_e.delete(r),!!j){if(j.at){var z=te.isPoint(j.at)?Gt(r,j.at):Ia(r,j.at);if(!z)return;var L=l.range(r,z);(!r.selection||!E.equals(r.selection,L))&&O.select(r,z)}j.run()}},g=()=>{if(s&&(clearTimeout(s),s=null),o&&(clearTimeout(o),o=null),!P()&&!w()){v();return}a||(a=!0,setTimeout(()=>a=!1)),w()&&(a="action");var j=r.selection&&l.rangeRef(r,r.selection,{affinity:"forward"});qe.set(r,r.marks),wc("flush",_e.get(r),ye.get(r));for(var z=P(),L;L=(W=ye.get(r))===null||W===void 0?void 0:W[0];){var W,ee,ae=Me.get(r);ae!==void 0&&(Me.delete(r),r.marks=ae),ae&&f===!1&&(f=null);var x=Ec(L);(!r.selection||!E.equals(r.selection,x))&&O.select(r,x),L.diff.text?l.insertText(r,L.diff.text):l.deleteFragment(r),ye.set(r,(ee=ye.get(r))===null||ee===void 0?void 0:ee.filter(_=>{var{id:Y}=_;return Y!==L.id})),Cc(r,L)||(z=!1,_e.delete(r),qe.delete(r),a="action",Ye.delete(r),t.cancel(),n.cancel(),j==null||j.unref())}var T=j==null?void 0:j.unref();if(T&&!Ye.get(r)&&(!r.selection||!E.equals(T,r.selection))&&O.select(r,T),w()){d();return}z&&t(),t.flush(),n.flush(),v();var q=qe.get(r);qe.delete(r),q!==void 0&&(r.marks=q,r.onChange())},p=j=>{u&&clearTimeout(u),u=setTimeout(()=>{ar.set(r,!1),g()},bc)},h=j=>{ar.set(r,!0),u&&(clearTimeout(u),u=null)},i=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,L=Ht.get(r);if(L){if(P()||z){L.style.display="none";return}L.style.removeProperty("display")}},B=(j,z)=>{var L,W=(L=ye.get(r))!==null&&L!==void 0?L:[];ye.set(r,W);var ee=$.leaf(r,j),ae=W.findIndex(q=>D.equals(q.path,j));if(ae<0){var x=ns(ee.text,z);x&&W.push({path:j,diff:z,id:c++}),i();return}var T=Bc(ee.text,W[ae].diff,z);if(!T){W.splice(ae,1),i();return}W[ae]=Zr(Zr({},W[ae]),{},{diff:T})},m=function(z){var{at:L}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f=!1,Ye.delete(r),t.cancel(),n.cancel(),w()&&g(),_e.set(r,{at:L,run:z}),o=setTimeout(g)},b=j=>{var z;s&&(clearTimeout(s),s=null);var{inputType:L}=j,W=null,ee=j.dataTransfer||j.data||void 0;f!==!1&&L!=="insertText"&&L!=="insertCompositionText"&&(f=!1);var[ae]=j.getTargetRanges();ae&&(W=F.toSlateRange(r,ae,{exactMatch:!1,suppressThrow:!0}));var x=F.getWindow(r),T=x.getSelection();if(!W&&T&&(ae=T,W=F.toSlateRange(r,T,{exactMatch:!1,suppressThrow:!0})),W=(z=W)!==null&&z!==void 0?z:r.selection,!!W){var q=!0;if(L.startsWith("delete")){if(E.isExpanded(W)){var[_,Y]=E.edges(W),ne=$.leaf(r,_.path);if(ne.text.length===_.offset&&Y.offset===0){var C=l.next(r,{at:_.path,match:U.isText});C&&D.equals(C[1],Y.path)&&(W={anchor:Y,focus:Y})}}var R=L.endsWith("Backward")?"backward":"forward",[y,I]=E.edges(W),[re,J]=l.leaf(r,y.path),ue={text:"",start:y.offset,end:I.offset},le=ye.get(r),oe=le==null?void 0:le.find(Ne=>D.equals(Ne.path,J)),ge=oe?[oe.diff,ue]:[ue],se=ts(re.text,...ge);if(se.length===0&&(q=!1),E.isExpanded(W)){if(q&&D.equals(W.anchor.path,W.focus.path)){var Be={path:W.anchor.path,offset:y.offset},Ee=l.range(r,Be,Be);return k(Ee),B(W.anchor.path,{text:"",end:I.offset,start:y.offset})}return m(()=>l.deleteFragment(r,{direction:R}),{at:W})}}switch(L){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return m(()=>l.deleteFragment(r),{at:W});case"deleteContent":case"deleteContentForward":{var{anchor:Ce}=W;if(q&&E.isCollapsed(W)){var $e=$.leaf(r,Ce.path);if(Ce.offset<$e.text.length)return B(Ce.path,{text:"",start:Ce.offset,end:Ce.offset+1})}return m(()=>l.deleteForward(r),{at:W})}case"deleteContentBackward":{var Le,{anchor:Fe}=W,je=Ut(ae)?ae.isCollapsed:!!((Le=ae)!==null&&Le!==void 0&&Le.collapsed);return q&&je&&E.isCollapsed(W)&&Fe.offset>0?B(Fe.path,{text:"",start:Fe.offset-1,end:Fe.offset}):m(()=>l.deleteBackward(r),{at:W})}case"deleteEntireSoftLine":return m(()=>{l.deleteBackward(r,{unit:"line"}),l.deleteForward(r,{unit:"line"})},{at:W});case"deleteHardLineBackward":return m(()=>l.deleteBackward(r,{unit:"block"}),{at:W});case"deleteSoftLineBackward":return m(()=>l.deleteBackward(r,{unit:"line"}),{at:W});case"deleteHardLineForward":return m(()=>l.deleteForward(r,{unit:"block"}),{at:W});case"deleteSoftLineForward":return m(()=>l.deleteForward(r,{unit:"line"}),{at:W});case"deleteWordBackward":return m(()=>l.deleteBackward(r,{unit:"word"}),{at:W});case"deleteWordForward":return m(()=>l.deleteForward(r,{unit:"word"}),{at:W});case"insertLineBreak":return m(()=>l.insertSoftBreak(r),{at:W});case"insertParagraph":return m(()=>l.insertBreak(r),{at:W});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(yc(ee))return m(()=>F.insertData(r,ee),{at:W});var ve=ee??"";if(Me.get(r)&&(ve=ve.replace("\uFEFF","")),L==="insertText"&&/.*\n.*\n$/.test(ve)&&(ve=ve.slice(0,-1)),ve.includes(`
`))return m(()=>{var Ne=ve.split(`
`);Ne.forEach((Qe,qr)=>{Qe&&l.insertText(r,Qe),qr!==Ne.length-1&&l.insertSoftBreak(r)})},{at:W});if(D.equals(W.anchor.path,W.focus.path)){var[xe,We]=E.edges(W),ie={start:xe.offset,end:We.offset,text:ve};if(ve&&f&&L==="insertCompositionText"){var Re=f.start+f.text.search(/\S|$/),Vr=ie.start+ie.text.search(/\S|$/);Vr===Re+1&&ie.end===f.start+f.text.length?(ie.start-=1,f=null,V()):f=!1}else L==="insertText"?f===null?f=ie:f&&E.isCollapsed(W)&&f.end+f.text.length===xe.offset?f=Zr(Zr({},f),{},{text:f.text+ve}):f=!1:f=!1;if(q){B(xe.path,ie);return}}return m(()=>l.insertText(r,ve),{at:W})}}}},w=()=>!!_e.get(r),P=()=>{var j;return!!((j=ye.get(r))!==null&&j!==void 0&&j.length)},M=()=>w()||P(),H=()=>a,k=j=>{Ye.set(r,j),s&&(clearTimeout(s),s=null);var{selection:z}=r;if(j){var L=!z||!D.equals(z.anchor.path,j.anchor.path),W=!z||!D.equals(z.anchor.path.slice(0,-1),j.anchor.path.slice(0,-1));(L&&f||W)&&(f=!1),(L||P())&&(s=setTimeout(g,Fc))}},G=()=>{(w()||!P())&&g()},S=j=>{P()||(i(!0),setTimeout(i))},V=()=>{w()||(o=setTimeout(g))},X=j=>{if(!(P()||w())&&j.some(L=>mn(r,L,j))){var z;(z=Xu.get(r))===null||z===void 0||z()}};return{flush:g,scheduleFlush:V,hasPendingDiffs:P,hasPendingAction:w,hasPendingChanges:M,isFlushing:H,handleUserSelect:k,handleCompositionEnd:p,handleCompositionStart:h,handleDOMBeforeInput:b,handleKeyDown:S,handleDomMutations:X,handleInput:G}}function xc(){var e=A.useRef(!1);return A.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var zr=rt?A.useLayoutEffect:A.useEffect;function Sc(e,r,t){var[n]=A.useState(()=>new MutationObserver(r));zr(()=>{n.takeRecords()}),A.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(e.current,t),()=>n.disconnect()},[n,e,t])}var Tc=["node"];function La(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Pc(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?La(Object(t),!0).forEach(function(n){ht(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):La(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var $c={subtree:!0,childList:!0,characterData:!0},jc=Oe?e=>{var{node:r}=e,t=hr(e,Tc);if(!Oe)return null;var n=Ze(),a=xc(),[u]=A.useState(()=>Oc(Pc({editor:n},t)));return Sc(r,u.handleDomMutations,$c),Cn.set(n,u.scheduleFlush),a&&u.flush(),u}:()=>null,Rc=["anchor","focus"],Nc=["anchor","focus"],Ic=(e,r)=>Object.keys(e).length===Object.keys(r).length&&Object.keys(e).every(t=>r.hasOwnProperty(t)&&e[t]===r[t]),as=(e,r)=>{var t=hr(e,Rc),n=hr(r,Nc);return e[gr]===r[gr]&&Ic(t,n)},Mc=(e,r)=>{if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++){var n=e[t],a=r[t];if(!E.equals(n,a)||!as(n,a))return!1}return!0},kc=(e,r)=>{if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++){var n=e[t],a=r[t];if(n.anchor.offset!==a.anchor.offset||n.focus.offset!==a.focus.offset||!as(n,a))return!1}return!0},Lc=e=>{var{isLast:r,leaf:t,parent:n,text:a}=e,u=Ze(),s=F.findPath(u,a),o=D.parent(s),c=t[Zu]===!0;return u.isVoid(n)?Q.createElement(jt,{length:$.string(n).length}):t.text===""&&n.children[n.children.length-1]===a&&!u.isInline(n)&&l.string(u,o)===""?Q.createElement(jt,{isLineBreak:!0,isMarkPlaceholder:c}):t.text===""?Q.createElement(jt,{isMarkPlaceholder:c}):r&&t.text.slice(-1)===`
`?Q.createElement(Wa,{isTrailing:!0,text:t.text}):Q.createElement(Wa,{text:t.text})},Wa=e=>{var{text:r,isTrailing:t=!1}=e,n=A.useRef(null),a=()=>"".concat(r??"").concat(t?`
`:""),[u]=A.useState(a);return zr(()=>{var s=a();n.current&&n.current.textContent!==s&&(n.current.textContent=s)}),Q.createElement(Wc,{ref:n},u)},Wc=A.memo(A.forwardRef((e,r)=>Q.createElement("span",{"data-slate-string":!0,ref:r},e.children))),jt=e=>{var{length:r=0,isLineBreak:t=!1,isMarkPlaceholder:n=!1}=e,a={"data-slate-zero-width":t?"n":"z","data-slate-length":r};return n&&(a["data-slate-mark-placeholder"]=!0),Q.createElement("span",Object.assign({},a),!Oe||!t?"\uFEFF":null,t?Q.createElement("br",null):null)};function zc(e,r){e.current&&(e.current.disconnect(),r&&(e.current=null))}function za(e){e.current&&(clearTimeout(e.current),e.current=null)}var Hc=e=>{var{leaf:r,isLast:t,text:n,parent:a,renderPlaceholder:u,renderLeaf:s=b=>Q.createElement(qc,Object.assign({},b))}=e,o=Ze(),c=A.useRef(null),f=A.useRef(null),[v,d]=A.useState(!1),g=A.useRef(null),p=A.useCallback(b=>{if(zc(c,b==null),b==null){var w;Ht.delete(o),(w=r.onPlaceholderResize)===null||w===void 0||w.call(r,null)}else{if(Ht.set(o,b),!c.current){var P=window.ResizeObserver||_f;c.current=new P(()=>{var M;(M=r.onPlaceholderResize)===null||M===void 0||M.call(r,b)})}c.current.observe(b),f.current=b}},[f,r,o]),h=Q.createElement(Lc,{isLast:t,leaf:r,parent:a,text:n}),i=r[gr];if(A.useEffect(()=>(i?g.current||(g.current=setTimeout(()=>{d(!0),g.current=null},300)):(za(g),d(!1)),()=>za(g)),[i,d]),i&&v){var B={children:r.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Tr?"inherit":void 0},contentEditable:!1,ref:p}};h=Q.createElement(Q.Fragment,null,u(B),h)}var m={"data-slate-leaf":!0};return s({attributes:m,children:h,leaf:r,text:n})},Vc=Q.memo(Hc,(e,r)=>r.parent===e.parent&&r.isLast===e.isLast&&r.renderLeaf===e.renderLeaf&&r.renderPlaceholder===e.renderPlaceholder&&r.text===e.text&&U.equals(r.leaf,e.leaf)&&r.leaf[gr]===e.leaf[gr]),qc=e=>{var{attributes:r,children:t}=e;return Q.createElement("span",Object.assign({},r),t)},Kc=e=>{for(var{decorations:r,isLast:t,parent:n,renderPlaceholder:a,renderLeaf:u,text:s}=e,o=Ze(),c=A.useRef(null),f=U.decorations(s,r),v=F.findKey(o,s),d=[],g=0;g<f.length;g++){var p=f[g];d.push(Q.createElement(Vc,{isLast:t&&g===f.length-1,key:"".concat(v.id,"-").concat(g),renderPlaceholder:a,leaf:p,text:s,parent:n,renderLeaf:u}))}var h=A.useCallback(i=>{var B=gt.get(o);i?(B==null||B.set(v,i),ir.set(s,i),Wr.set(i,s)):(B==null||B.delete(v),ir.delete(s),c.current&&Wr.delete(c.current)),c.current=i},[c,o,v,s]);return Q.createElement("span",{"data-slate-node":"text",ref:h},d)},us=Q.memo(Kc,(e,r)=>r.parent===e.parent&&r.isLast===e.isLast&&r.renderLeaf===e.renderLeaf&&r.renderPlaceholder===e.renderPlaceholder&&r.text===e.text&&kc(r.decorations,e.decorations)),Uc=e=>{var{decorations:r,element:t,renderElement:n=b=>Q.createElement(_c,Object.assign({},b)),renderPlaceholder:a,renderLeaf:u,selection:s}=e,o=Ze(),c=Xc(),f=o.isInline(t),v=F.findKey(o,t),d=A.useCallback(b=>{var w=gt.get(o);b?(w==null||w.set(v,b),ir.set(t,b),Wr.set(b,t)):(w==null||w.delete(v),ir.delete(t))},[o,v,t]),g=is({decorations:r,node:t,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:s}),p={"data-slate-node":"element",ref:d};if(f&&(p["data-slate-inline"]=!0),!f&&l.hasInlines(o,t)){var h=$.string(t),i=Ou(h);i==="rtl"&&(p.dir=i)}if(l.isVoid(o,t)){p["data-slate-void"]=!0,!c&&f&&(p.contentEditable=!1);var B=f?"span":"div",[[m]]=$.texts(t);g=Q.createElement(B,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},Q.createElement(us,{renderPlaceholder:a,decorations:[],isLast:!1,parent:t,text:m})),gn.set(m,0),Dn.set(m,t)}return n({attributes:p,children:g,element:t})},Gc=Q.memo(Uc,(e,r)=>e.element===r.element&&e.renderElement===r.renderElement&&e.renderLeaf===r.renderLeaf&&e.renderPlaceholder===r.renderPlaceholder&&Mc(e.decorations,r.decorations)&&(e.selection===r.selection||!!e.selection&&!!r.selection&&E.equals(e.selection,r.selection))),_c=e=>{var{attributes:r,children:t,element:n}=e,a=Ze(),u=a.isInline(n)?"span":"div";return Q.createElement(u,Object.assign({},r,{style:{position:"relative"}}),t)},ss=A.createContext(()=>[]),Yc=()=>A.useContext(ss),Jc=A.createContext(!1),is=e=>{for(var{decorations:r,node:t,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:s}=e,o=Yc(),c=Ze(),f=F.findPath(c,t),v=[],d=K.isElement(t)&&!c.isInline(t)&&l.hasInlines(c,t),g=0;g<t.children.length;g++){var p=f.concat(g),h=t.children[g],i=F.findKey(c,h),B=l.range(c,p),m=s&&E.intersection(B,s),b=o([h,p]);for(var w of r){var P=E.intersection(w,B);P&&b.push(P)}K.isElement(h)?v.push(Q.createElement(Jc.Provider,{key:"provider-".concat(i.id),value:!!m},Q.createElement(Gc,{decorations:b,element:h,key:i.id,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:m}))):v.push(Q.createElement(us,{decorations:b,key:i.id,isLast:d&&g===t.children.length-1,parent:t,renderPlaceholder:a,renderLeaf:u,text:h})),gn.set(h,g),Dn.set(h,t)}return v},os=A.createContext(!1),Xc=()=>A.useContext(os),ls=A.createContext(null),Zc=()=>{var e=A.useContext(ls);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:r}=e;return r};function Qc(){var e=Ze(),r=A.useRef(!1),t=A.useRef(0),n=A.useCallback(()=>{if(!r.current){r.current=!0;var a=F.getWindow(e);a.cancelAnimationFrame(t.current),t.current=a.requestAnimationFrame(()=>{r.current=!1})}},[e]);return A.useEffect(()=>()=>cancelAnimationFrame(t.current),[]),{receivedUserInput:r,onUserInput:n}}var ev=3,rv={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},tv={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},nv={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},he=e=>{var r=rv[e],t=tv[e],n=nv[e],a=r&&$t(r),u=t&&$t(t),s=n&&$t(n);return o=>!!(a&&a(o)||Na&&u&&u(o)||!Na&&s&&s(o))},De={isBold:he("bold"),isCompose:he("compose"),isMoveBackward:he("moveBackward"),isMoveForward:he("moveForward"),isDeleteBackward:he("deleteBackward"),isDeleteForward:he("deleteForward"),isDeleteLineBackward:he("deleteLineBackward"),isDeleteLineForward:he("deleteLineForward"),isDeleteWordBackward:he("deleteWordBackward"),isDeleteWordForward:he("deleteWordForward"),isExtendBackward:he("extendBackward"),isExtendForward:he("extendForward"),isExtendLineBackward:he("extendLineBackward"),isExtendLineForward:he("extendLineForward"),isItalic:he("italic"),isMoveLineBackward:he("moveLineBackward"),isMoveLineForward:he("moveLineForward"),isMoveWordBackward:he("moveWordBackward"),isMoveWordForward:he("moveWordForward"),isRedo:he("redo"),isSoftBreak:he("insertSoftBreak"),isSplitBlock:he("splitBlock"),isTransposeCharacter:he("transposeCharacter"),isUndo:he("undo")},av=(e,r)=>{var t=[],n=()=>{t=[]},a=s=>{if(r.current){var o=s.filter(c=>mn(e,c,s));t.push(...o)}};function u(){t.length>0&&(t.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(o=>{s.target.insertBefore(o,s.nextSibling)}),s.addedNodes.forEach(o=>{s.target.removeChild(o)}))}),n())}return{registerMutations:a,restoreDOM:u,clear:n}},uv={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class fs extends A.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var r,{node:t}=this.props;if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(r=this.mutationObserver)===null||r===void 0||r.observe(t.current,uv)}componentDidMount(){var{receivedUserInput:r}=this.props,t=this.context;this.manager=av(t,r),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var r,t,n,a=(r=this.mutationObserver)===null||r===void 0?void 0:r.takeRecords();if(a!=null&&a.length){var u;(u=this.manager)===null||u===void 0||u.registerMutations(a)}return(t=this.mutationObserver)===null||t===void 0||t.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var r;(r=this.manager)===null||r===void 0||r.clear(),this.observe()}componentWillUnmount(){var r;(r=this.mutationObserver)===null||r===void 0||r.disconnect()}render(){return this.props.children}}fs.contextType=hn;var sv=Oe?fs:e=>{var{children:r}=e;return Q.createElement(Q.Fragment,null,r)},iv=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],ov=["text"];function Ha(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function cr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ha(Object(t),!0).forEach(function(n){ht(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ha(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var lv=e=>Q.createElement(Q.Fragment,null,is(e)),fv=e=>{var r=A.useCallback(C=>Q.createElement(cv,Object.assign({},C)),[]),{autoFocus:t,decorate:n=vv,onDOMBeforeInput:a,placeholder:u,readOnly:s=!1,renderElement:o,renderLeaf:c,renderPlaceholder:f=r,scrollSelectionIntoView:v=dv,style:d={},as:g="div",disableDefaultStyles:p=!1}=e,h=hr(e,iv),i=Zc(),[B,m]=A.useState(!1),b=A.useRef(null),w=A.useRef([]),[P,M]=A.useState(),{onUserInput:H,receivedUserInput:k}=Qc(),[,G]=A.useReducer(C=>C+1,0);Xu.set(i,G),qt.set(i,s);var S=A.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);A.useEffect(()=>{b.current&&t&&b.current.focus()},[t]);var V=A.useRef(),X=A.useMemo(()=>Yi(()=>{var C=V.current;if((Oe||!F.isComposing(i))&&(!S.isUpdatingSelection||C!=null&&C.isFlushing())&&!S.isDraggingInternally){var R=F.findDocumentOrShadowRoot(i),{activeElement:y}=R,I=F.toDOMNode(i,i),re=R.getSelection();if(y===I?(S.latestElement=y,nr.set(i,!0)):nr.delete(i),!re)return O.deselect(i);var{anchorNode:J,focusNode:ue}=re,le=F.hasEditableTarget(i,J)||F.isTargetInsideNonReadonlyVoid(i,J),oe=F.hasEditableTarget(i,ue)||F.isTargetInsideNonReadonlyVoid(i,ue);if(le&&oe){var ge=F.toSlateRange(i,re,{exactMatch:!1,suppressThrow:!0});ge&&(!F.isComposing(i)&&!(C!=null&&C.hasPendingChanges())&&!(C!=null&&C.isFlushing())?O.select(i,ge):C==null||C.handleUserSelect(ge))}s&&(!le||!oe)&&O.deselect(i)}},100),[i,s,S]),j=A.useMemo(()=>Vi(X,0),[X]);V.current=jc({node:b,onDOMSelectionChange:X,scheduleOnDOMSelectionChange:j}),zr(()=>{var C,R,y;b.current&&(y=pn(b.current))?(Ju.set(i,y),tt.set(i,b.current),ir.set(i,b.current),Wr.set(b.current,i)):ir.delete(i);var{selection:I}=i,re=F.findDocumentOrShadowRoot(i),J=re.getSelection();if(!(!J||!F.isFocused(i)||(C=V.current)!==null&&C!==void 0&&C.hasPendingAction())){var ue=se=>{var Be=J.type!=="None";if(!(!I&&!Be)){var Ee=J.focusNode,Ce;if(Nr&&J.rangeCount>1){var $e=J.getRangeAt(0),Le=J.getRangeAt(J.rangeCount-1);$e.startContainer===Ee?Ce=Le.endContainer:Ce=$e.startContainer}else Ce=J.anchorNode;var Fe=tt.get(i),je=!1;if(Fe.contains(Ce)&&Fe.contains(Ee)&&(je=!0),Be&&je&&I&&!se){var ve=F.toSlateRange(i,J,{exactMatch:!0,suppressThrow:!0});if(ve&&E.equals(ve,I)){var xe,We;if(!S.hasMarkPlaceholder||(xe=Ce)!==null&&xe!==void 0&&(We=xe.parentElement)!==null&&We!==void 0&&We.hasAttribute("data-slate-mark-placeholder"))return}}if(I&&!F.hasRange(i,I)){i.selection=F.toSlateRange(i,J,{exactMatch:!1,suppressThrow:!0});return}S.isUpdatingSelection=!0;var ie=I&&F.toDOMRange(i,I);return ie?(F.isComposing(i)&&!Oe?J.collapseToEnd():E.isBackward(I)?J.setBaseAndExtent(ie.endContainer,ie.endOffset,ie.startContainer,ie.startOffset):J.setBaseAndExtent(ie.startContainer,ie.startOffset,ie.endContainer,ie.endOffset),v(i,ie)):J.removeAllRanges(),ie}};J.rangeCount<=1&&ue();var le=((R=V.current)===null||R===void 0?void 0:R.isFlushing())==="action";if(!Oe||!le){setTimeout(()=>{S.isUpdatingSelection=!1});return}var oe=null,ge=requestAnimationFrame(()=>{if(le){var se=Be=>{try{var Ee=F.toDOMNode(i,i);Ee.focus(),ue(Be)}catch{}};se(),oe=setTimeout(()=>{se(!0),S.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(ge),oe&&clearTimeout(oe)}}});var z=A.useCallback(C=>{if(H(),!s&&F.hasEditableTarget(i,C.target)&&!hv(C,a)){var R;if(V.current)return V.current.handleDOMBeforeInput(C);j.flush(),X.flush();var{selection:y}=i,{inputType:I}=C,re=C.dataTransfer||C.data||void 0,J=I==="insertCompositionText"||I==="deleteCompositionText";if(J&&F.isComposing(i))return;var ue=!1;if(I==="insertText"&&y&&E.isCollapsed(y)&&C.data&&C.data.length===1&&/[a-z ]/i.test(C.data)&&y.anchor.offset!==0){var le,oe;ue=!0,i.marks&&(ue=!1);var{anchor:ge}=y,[se,Be]=F.toDOMPoint(i,ge),Ee=(le=se.parentElement)===null||le===void 0?void 0:le.closest("a"),Ce=F.getWindow(i);if(ue&&Ee&&F.hasDOMNode(i,Ee)){var $e,Le=Ce==null?void 0:Ce.document.createTreeWalker(Ee,NodeFilter.SHOW_TEXT).lastChild();Le===se&&(($e=Le.textContent)===null||$e===void 0?void 0:$e.length)===Be&&(ue=!1)}if(ue&&se.parentElement&&(Ce==null||(oe=Ce.getComputedStyle(se.parentElement))===null||oe===void 0?void 0:oe.whiteSpace)==="pre"){var Fe=l.above(i,{at:ge.path,match:Re=>K.isElement(Re)&&l.isBlock(i,Re)});Fe&&$.string(Fe[0]).includes("	")&&(ue=!1)}}if(!I.startsWith("delete")||I.startsWith("deleteBy")){var[je]=C.getTargetRanges();if(je){var ve=F.toSlateRange(i,je,{exactMatch:!1,suppressThrow:!1});if(!y||!E.equals(y,ve)){ue=!1;var xe=!J&&i.selection&&l.rangeRef(i,i.selection);O.select(i,ve),xe&&Ir.set(i,xe)}}}if(J)return;if(ue||C.preventDefault(),y&&E.isExpanded(y)&&I.startsWith("delete")){var We=I.endsWith("Backward")?"backward":"forward";l.deleteFragment(i,{direction:We});return}switch(I){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{l.deleteFragment(i);break}case"deleteContent":case"deleteContentForward":{l.deleteForward(i);break}case"deleteContentBackward":{l.deleteBackward(i);break}case"deleteEntireSoftLine":{l.deleteBackward(i,{unit:"line"}),l.deleteForward(i,{unit:"line"});break}case"deleteHardLineBackward":{l.deleteBackward(i,{unit:"block"});break}case"deleteSoftLineBackward":{l.deleteBackward(i,{unit:"line"});break}case"deleteHardLineForward":{l.deleteForward(i,{unit:"block"});break}case"deleteSoftLineForward":{l.deleteForward(i,{unit:"line"});break}case"deleteWordBackward":{l.deleteBackward(i,{unit:"word"});break}case"deleteWordForward":{l.deleteForward(i,{unit:"word"});break}case"insertLineBreak":l.insertSoftBreak(i);break;case"insertParagraph":{l.insertBreak(i);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{I==="insertFromComposition"&&F.isComposing(i)&&(m(!1),ar.set(i,!1)),(re==null?void 0:re.constructor.name)==="DataTransfer"?F.insertData(i,re):typeof re=="string"&&(ue?w.current.push(()=>l.insertText(i,re)):l.insertText(i,re));break}}var ie=(R=Ir.get(i))===null||R===void 0?void 0:R.unref();Ir.delete(i),ie&&(!i.selection||!E.equals(i.selection,ie))&&O.select(i,ie)}},[i,X,H,a,s,j]),L=A.useCallback(C=>{C==null?(X.cancel(),j.cancel(),tt.delete(i),ir.delete(i),b.current&&Ge&&b.current.removeEventListener("beforeinput",z)):Ge&&C.addEventListener("beforeinput",z),b.current=C},[X,j,i,z]);zr(()=>{var C=F.getWindow(i);return C.document.addEventListener("selectionchange",j),()=>{C.document.removeEventListener("selectionchange",j)}},[j]);var W=n([i,[]]),ee=u&&i.children.length===1&&Array.from($.texts(i)).length===1&&$.string(i)===""&&!B,ae=A.useCallback(C=>{if(C&&ee){var R;M((R=C.getBoundingClientRect())===null||R===void 0?void 0:R.height)}else M(void 0)},[ee]);if(ee){var x=l.start(i,[]);W.push({[gr]:!0,placeholder:u,onPlaceholderResize:ae,anchor:x,focus:x})}var{marks:T}=i;if(S.hasMarkPlaceholder=!1,i.selection&&E.isCollapsed(i.selection)&&T){var{anchor:q}=i.selection,_=$.leaf(i,q.path),Y=hr(_,ov);if(!U.equals(_,T,{loose:!0})){S.hasMarkPlaceholder=!0;var ne=Object.fromEntries(Object.keys(Y).map(C=>[C,null]));W.push(cr(cr(cr({[Zu]:!0},ne),T),{},{anchor:q,focus:q}))}}return A.useEffect(()=>{setTimeout(()=>{var{selection:C}=i;if(C){var{anchor:R}=C,y=$.leaf(i,R.path);if(T&&!U.equals(y,T,{loose:!0})){Me.set(i,T);return}}Me.delete(i)})}),Q.createElement(os.Provider,{value:s},Q.createElement(ss.Provider,{value:n},Q.createElement(sv,{node:b,receivedUserInput:k},Q.createElement(g,Object.assign({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},h,{spellCheck:Ge||!rt?h.spellCheck:!1,autoCorrect:Ge||!rt?h.autoCorrect:"false",autoCapitalize:Ge||!rt?h.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:L,style:cr(cr({},p?{}:cr({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},P?{minHeight:P}:{})),d),onBeforeInput:A.useCallback(C=>{if(!Ge&&!s&&!Ae(C,h.onBeforeInput)&&F.hasSelectableTarget(i,C.target)&&(C.preventDefault(),!F.isComposing(i))){var R=C.data;l.insertText(i,R)}},[h.onBeforeInput,i,s]),onInput:A.useCallback(C=>{if(!Ae(C,h.onInput)){if(V.current){V.current.handleInput();return}for(var R of w.current)R();w.current=[]}},[h.onInput]),onBlur:A.useCallback(C=>{if(!(s||S.isUpdatingSelection||!F.hasSelectableTarget(i,C.target)||Ae(C,h.onBlur))){var R=F.findDocumentOrShadowRoot(i);if(S.latestElement!==R.activeElement){var{relatedTarget:y}=C,I=F.toDOMNode(i,i);if(y!==I&&!(Pe(y)&&y.hasAttribute("data-slate-spacer"))){if(y!=null&&Je(y)&&F.hasDOMNode(i,y)){var re=F.toSlateNode(i,y);if(K.isElement(re)&&!i.isVoid(re))return}if(Tr){var J=R.getSelection();J==null||J.removeAllRanges()}nr.delete(i)}}}},[s,S.isUpdatingSelection,S.latestElement,i,h.onBlur]),onClick:A.useCallback(C=>{if(F.hasTarget(i,C.target)&&!Ae(C,h.onClick)&&Je(C.target)){var R=F.toSlateNode(i,C.target),y=F.findPath(i,R);if(!l.hasPath(i,y)||$.get(i,y)!==R)return;if(C.detail===ev&&y.length>=1){var I=y;if(!(K.isElement(R)&&l.isBlock(i,R))){var re,J=l.above(i,{match:Ee=>K.isElement(Ee)&&l.isBlock(i,Ee),at:y});I=(re=J==null?void 0:J[1])!==null&&re!==void 0?re:y.slice(0,1)}var ue=l.range(i,I);O.select(i,ue);return}if(s)return;var le=l.start(i,y),oe=l.end(i,y),ge=l.void(i,{at:le}),se=l.void(i,{at:oe});if(ge&&se&&D.equals(ge[1],se[1])){var Be=l.range(i,le);O.select(i,Be)}}},[i,h.onClick,s]),onCompositionEnd:A.useCallback(C=>{if(F.hasSelectableTarget(i,C.target)){var R;if(F.isComposing(i)&&(m(!1),ar.set(i,!1)),(R=V.current)===null||R===void 0||R.handleCompositionEnd(C),Ae(C,h.onCompositionEnd)||Oe)return;if(!Tr&&!ac&&!ec&&!sc&&!uc&&C.data){var y=Me.get(i);Me.delete(i),y!==void 0&&(qe.set(i,i.marks),i.marks=y),l.insertText(i,C.data);var I=qe.get(i);qe.delete(i),I!==void 0&&(i.marks=I)}}},[h.onCompositionEnd,i]),onCompositionUpdate:A.useCallback(C=>{F.hasSelectableTarget(i,C.target)&&!Ae(C,h.onCompositionUpdate)&&(F.isComposing(i)||(m(!0),ar.set(i,!0)))},[h.onCompositionUpdate,i]),onCompositionStart:A.useCallback(C=>{if(F.hasSelectableTarget(i,C.target)){var R;if((R=V.current)===null||R===void 0||R.handleCompositionStart(C),Ae(C,h.onCompositionStart)||Oe)return;m(!0);var{selection:y}=i;if(y){if(E.isExpanded(y)){l.deleteFragment(i);return}var I=l.above(i,{match:ue=>K.isElement(ue)&&l.isInline(i,ue),mode:"highest"});if(I){var[,re]=I;if(l.isEnd(i,y.anchor,re)){var J=l.after(i,re);O.setSelection(i,{anchor:J,focus:J})}}}}},[h.onCompositionStart,i]),onCopy:A.useCallback(C=>{F.hasSelectableTarget(i,C.target)&&!Ae(C,h.onCopy)&&!Va(C)&&(C.preventDefault(),F.setFragmentData(i,C.clipboardData,"copy"))},[h.onCopy,i]),onCut:A.useCallback(C=>{if(!s&&F.hasSelectableTarget(i,C.target)&&!Ae(C,h.onCut)&&!Va(C)){C.preventDefault(),F.setFragmentData(i,C.clipboardData,"cut");var{selection:R}=i;if(R)if(E.isExpanded(R))l.deleteFragment(i);else{var y=$.parent(i,R.anchor.path);l.isVoid(i,y)&&O.delete(i)}}},[s,i,h.onCut]),onDragOver:A.useCallback(C=>{if(F.hasTarget(i,C.target)&&!Ae(C,h.onDragOver)){var R=F.toSlateNode(i,C.target);K.isElement(R)&&l.isVoid(i,R)&&C.preventDefault()}},[h.onDragOver,i]),onDragStart:A.useCallback(C=>{if(!s&&F.hasTarget(i,C.target)&&!Ae(C,h.onDragStart)){var R=F.toSlateNode(i,C.target),y=F.findPath(i,R),I=K.isElement(R)&&l.isVoid(i,R)||l.void(i,{at:y,voids:!0});if(I){var re=l.range(i,y);O.select(i,re)}S.isDraggingInternally=!0,F.setFragmentData(i,C.dataTransfer,"drag")}},[s,i,h.onDragStart,S]),onDrop:A.useCallback(C=>{if(!s&&F.hasTarget(i,C.target)&&!Ae(C,h.onDrop)){C.preventDefault();var R=i.selection,y=F.findEventRange(i,C),I=C.dataTransfer;O.select(i,y),S.isDraggingInternally&&R&&!E.equals(R,y)&&!l.void(i,{at:y,voids:!0})&&O.delete(i,{at:R}),F.insertData(i,I),F.isFocused(i)||F.focus(i)}S.isDraggingInternally=!1},[s,i,h.onDrop,S]),onDragEnd:A.useCallback(C=>{!s&&S.isDraggingInternally&&h.onDragEnd&&F.hasTarget(i,C.target)&&h.onDragEnd(C),S.isDraggingInternally=!1},[s,S,h,i]),onFocus:A.useCallback(C=>{if(!s&&!S.isUpdatingSelection&&F.hasEditableTarget(i,C.target)&&!Ae(C,h.onFocus)){var R=F.toDOMNode(i,i),y=F.findDocumentOrShadowRoot(i);if(S.latestElement=y.activeElement,Nr&&C.target!==R){R.focus();return}nr.set(i,!0)}},[s,S,i,h.onFocus]),onKeyDown:A.useCallback(C=>{if(!s&&F.hasEditableTarget(i,C.target)){var R;(R=V.current)===null||R===void 0||R.handleKeyDown(C);var{nativeEvent:y}=C;if(F.isComposing(i)&&y.isComposing===!1&&(ar.set(i,!1),m(!1)),Ae(C,h.onKeyDown)||F.isComposing(i))return;var{selection:I}=i,re=i.children[I!==null?I.focus.path[0]:0],J=Ou($.string(re))==="rtl";if(De.isRedo(y)){C.preventDefault();var ue=i;typeof ue.redo=="function"&&ue.redo();return}if(De.isUndo(y)){C.preventDefault();var le=i;typeof le.undo=="function"&&le.undo();return}if(De.isMoveLineBackward(y)){C.preventDefault(),O.move(i,{unit:"line",reverse:!0});return}if(De.isMoveLineForward(y)){C.preventDefault(),O.move(i,{unit:"line"});return}if(De.isExtendLineBackward(y)){C.preventDefault(),O.move(i,{unit:"line",edge:"focus",reverse:!0});return}if(De.isExtendLineForward(y)){C.preventDefault(),O.move(i,{unit:"line",edge:"focus"});return}if(De.isMoveBackward(y)){C.preventDefault(),I&&E.isCollapsed(I)?O.move(i,{reverse:!J}):O.collapse(i,{edge:"start"});return}if(De.isMoveForward(y)){C.preventDefault(),I&&E.isCollapsed(I)?O.move(i,{reverse:J}):O.collapse(i,{edge:"end"});return}if(De.isMoveWordBackward(y)){C.preventDefault(),I&&E.isExpanded(I)&&O.collapse(i,{edge:"focus"}),O.move(i,{unit:"word",reverse:!J});return}if(De.isMoveWordForward(y)){C.preventDefault(),I&&E.isExpanded(I)&&O.collapse(i,{edge:"focus"}),O.move(i,{unit:"word",reverse:J});return}if(Ge){if((Yu||Tr)&&I&&(De.isDeleteBackward(y)||De.isDeleteForward(y))&&E.isCollapsed(I)){var oe=$.parent(i,I.anchor.path);if(K.isElement(oe)&&l.isVoid(i,oe)&&(l.isInline(i,oe)||l.isBlock(i,oe))){C.preventDefault(),l.deleteBackward(i,{unit:"block"});return}}}else{if(De.isBold(y)||De.isItalic(y)||De.isTransposeCharacter(y)){C.preventDefault();return}if(De.isSoftBreak(y)){C.preventDefault(),l.insertSoftBreak(i);return}if(De.isSplitBlock(y)){C.preventDefault(),l.insertBreak(i);return}if(De.isDeleteBackward(y)){C.preventDefault(),I&&E.isExpanded(I)?l.deleteFragment(i,{direction:"backward"}):l.deleteBackward(i);return}if(De.isDeleteForward(y)){C.preventDefault(),I&&E.isExpanded(I)?l.deleteFragment(i,{direction:"forward"}):l.deleteForward(i);return}if(De.isDeleteLineBackward(y)){C.preventDefault(),I&&E.isExpanded(I)?l.deleteFragment(i,{direction:"backward"}):l.deleteBackward(i,{unit:"line"});return}if(De.isDeleteLineForward(y)){C.preventDefault(),I&&E.isExpanded(I)?l.deleteFragment(i,{direction:"forward"}):l.deleteForward(i,{unit:"line"});return}if(De.isDeleteWordBackward(y)){C.preventDefault(),I&&E.isExpanded(I)?l.deleteFragment(i,{direction:"backward"}):l.deleteBackward(i,{unit:"word"});return}if(De.isDeleteWordForward(y)){C.preventDefault(),I&&E.isExpanded(I)?l.deleteFragment(i,{direction:"forward"}):l.deleteForward(i,{unit:"word"});return}}}},[s,i,h.onKeyDown]),onPaste:A.useCallback(C=>{!s&&F.hasEditableTarget(i,C.target)&&!Ae(C,h.onPaste)&&(!Ge||lc(C.nativeEvent)||Tr)&&(C.preventDefault(),F.insertData(i,C.clipboardData))},[s,i,h.onPaste])}),Q.createElement(lv,{decorations:W,node:i,renderElement:o,renderPlaceholder:f,renderLeaf:c,selection:i.selection})))))},cv=e=>{var{attributes:r,children:t}=e;return Q.createElement("span",Object.assign({},r),t,Oe&&Q.createElement("br",null))},vv=()=>[],dv=(e,r)=>{if(r.getBoundingClientRect&&(!e.selection||e.selection&&E.isCollapsed(e.selection))){var t=r.startContainer.parentElement;t.getBoundingClientRect=r.getBoundingClientRect.bind(r),Zi(t,{scrollMode:"if-needed"}),delete t.getBoundingClientRect}},Ae=(e,r)=>{if(!r)return!1;var t=r(e);return t??(e.isDefaultPrevented()||e.isPropagationStopped())},Va=e=>Je(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),hv=(e,r)=>{if(!r)return!1;var t=r(e);return t??e.defaultPrevented},gv=A.createContext(!1),Dv=A.createContext({});function Cv(e){var r=A.useRef([]).current,t=A.useRef({editor:e}).current,n=A.useCallback(u=>{t.editor=u,r.forEach(s=>s(u))},[r,t]),a=A.useMemo(()=>({getSlate:()=>t.editor,addEventListener:u=>(r.push(u),()=>{r.splice(r.indexOf(u),1)})}),[r,t]);return{selectorContext:a,onChange:n}}var pv=["editor","children","onChange","initialValue"],mv=e=>{var{editor:r,children:t,onChange:n,initialValue:a}=e,u=hr(e,pv),s=A.useRef(!1),[o,c]=Q.useState(()=>{if(!$.isNodeList(a))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(pe.stringify(a)));if(!l.isEditor(r))throw new Error("[Slate] editor is invalid! You passed: ".concat(pe.stringify(r)));return r.children=a,Object.assign(r,u),{v:0,editor:r}}),{selectorContext:f,onChange:v}=Cv(r),d=A.useCallback(()=>{n&&n(r.children),c(h=>({v:h.v+1,editor:r})),v(r)},[r,v,n]);A.useEffect(()=>(Kt.set(r,d),()=>{Kt.set(r,()=>{}),s.current=!0}),[r,d]);var[g,p]=A.useState(F.isFocused(r));return A.useEffect(()=>{p(F.isFocused(r))},[r]),zr(()=>{var h=()=>p(F.isFocused(r));return _u>=17?(document.addEventListener("focusin",h),document.addEventListener("focusout",h),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",h)}):(document.addEventListener("focus",h,!0),document.addEventListener("blur",h,!0),()=>{document.removeEventListener("focus",h,!0),document.removeEventListener("blur",h,!0)})},[]),Q.createElement(Dv.Provider,{value:f},Q.createElement(ls.Provider,{value:o},Q.createElement(hn.Provider,{value:o.editor},Q.createElement(gv.Provider,{value:g},t))))},qa=(e,r)=>{var t=(r.top+r.bottom)/2;return e.top<=t&&e.bottom>=t},Ka=(e,r,t)=>{var n=F.toDOMRange(e,r).getBoundingClientRect(),a=F.toDOMRange(e,t).getBoundingClientRect();return qa(n,a)&&qa(a,n)},Bv=(e,r)=>{var t=l.range(e,E.end(r)),n=Array.from(l.positions(e,{at:r})),a=0,u=n.length,s=Math.floor(u/2);if(Ka(e,l.range(e,n[a]),t))return l.range(e,n[a],t);if(n.length<2)return l.range(e,n[n.length-1],t);for(;s!==n.length&&s!==a;)Ka(e,l.range(e,n[s]),t)?u=s:a=s,s=Math.floor((a+u)/2);return l.range(e,n[u],t)};function Ua(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ga(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ua(Object(t),!0).forEach(function(n){ht(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ua(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Ev=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=r,{apply:a,onChange:u,deleteBackward:s,addMark:o,removeMark:c}=n;return gt.set(n,new WeakMap),n.addMark=(f,v)=>{var d,g;(d=Cn.get(n))===null||d===void 0||d(),!Me.get(n)&&(g=ye.get(n))!==null&&g!==void 0&&g.length&&Me.set(n,null),qe.delete(n),o(f,v)},n.removeMark=f=>{var v;!Me.get(n)&&(v=ye.get(n))!==null&&v!==void 0&&v.length&&Me.set(n,null),qe.delete(n),c(f)},n.deleteBackward=f=>{if(f!=="line")return s(f);if(n.selection&&E.isCollapsed(n.selection)){var v=l.above(n,{match:h=>K.isElement(h)&&l.isBlock(n,h),at:n.selection});if(v){var[,d]=v,g=l.range(n,d,n.selection.anchor),p=Bv(n,g);E.isCollapsed(p)||O.delete(n,{at:p})}}},n.apply=f=>{var v=[],d=ye.get(n);if(d!=null&&d.length){var g=d.map(H=>Ac(H,f)).filter(Boolean);ye.set(n,g)}var p=Ye.get(n);p&&Ye.set(n,Ma(n,p,f));var h=_e.get(n);if(h!=null&&h.at){var i=te.isPoint(h==null?void 0:h.at)?_t(n,h.at,f):Ma(n,h.at,f);_e.set(n,i?Ga(Ga({},h),{},{at:i}):null)}switch(f.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{v.push(...Qr(n,f.path));break}case"set_selection":{var B;(B=Ir.get(n))===null||B===void 0||B.unref(),Ir.delete(n);break}case"insert_node":case"remove_node":{v.push(...Qr(n,D.parent(f.path)));break}case"merge_node":{var m=D.previous(f.path);v.push(...Qr(n,m));break}case"move_node":{var b=D.common(D.parent(f.path),D.parent(f.newPath));v.push(...Qr(n,b));break}}a(f);for(var[w,P]of v){var[M]=l.node(n,w);Vt.set(M,P)}},n.setFragmentData=f=>{var{selection:v}=n;if(v){var[d,g]=E.edges(v),p=l.void(n,{at:d.path}),h=l.void(n,{at:g.path});if(!(E.isCollapsed(v)&&!p)){var i=F.toDOMRange(n,v),B=i.cloneContents(),m=B.childNodes[0];if(B.childNodes.forEach(V=>{V.textContent&&V.textContent.trim()!==""&&(m=V)}),h){var[b]=h,w=i.cloneRange(),P=F.toDOMNode(n,b);w.setEndAfter(P),B=w.cloneContents()}if(p&&(m=B.querySelector("[data-slate-spacer]")),Array.from(B.querySelectorAll("[data-slate-zero-width]")).forEach(V=>{var X=V.getAttribute("data-slate-zero-width")==="n";V.textContent=X?`
`:""}),Qu(m)){var M=m.ownerDocument.createElement("span");M.style.whiteSpace="pre",M.appendChild(m),B.appendChild(M),m=M}var H=n.getFragment(),k=JSON.stringify(H),G=window.btoa(encodeURIComponent(k));m.setAttribute("data-slate-fragment",G),f.setData("application/".concat(t),G);var S=B.ownerDocument.createElement("div");return S.appendChild(B),S.setAttribute("hidden","true"),B.ownerDocument.body.appendChild(S),f.setData("text/html",S.innerHTML),f.setData("text/plain",rs(S)),B.ownerDocument.body.removeChild(S),f}}},n.insertData=f=>{n.insertFragmentData(f)||n.insertTextData(f)},n.insertFragmentData=f=>{var v=f.getData("application/".concat(t))||hc(f);if(v){var d=decodeURIComponent(window.atob(v)),g=JSON.parse(d);return n.insertFragment(g),!0}return!1},n.insertTextData=f=>{var v=f.getData("text/plain");if(v){var d=v.split(/\r\n|\r|\n/),g=!1;for(var p of d)g&&O.splitNodes(n,{always:!0}),n.insertText(p),g=!0;return!0}return!1},n.onChange=f=>{var v=_u<18?Vs.unstable_batchedUpdates:d=>d();v(()=>{var d=Kt.get(n);d&&d(),u(f)})},n},Qr=(e,r)=>{var t=[];for(var[n,a]of l.levels(e,{at:r})){var u=F.findKey(e,n);t.push([a,u])}return t};/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var Av=/["'&<>]/,bv=Fv;function Fv(e){var r=""+e,t=Av.exec(r);if(!t)return r;var n,a="",u=0,s=0;for(u=t.index;u<r.length;u++){switch(r.charCodeAt(u)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}s!==u&&(a+=r.substring(s,u)),s=u+1,a+=n}return s!==u?a+r.substring(s,u):a}const _a=Dr(bv);function wv(){this.__data__=[],this.size=0}var yv=wv;function Ov(e,r){return e===r||e!==e&&r!==r}var cs=Ov,xv=cs;function Sv(e,r){for(var t=e.length;t--;)if(xv(e[t][0],r))return t;return-1}var Dt=Sv,Tv=Dt,Pv=Array.prototype,$v=Pv.splice;function jv(e){var r=this.__data__,t=Tv(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():$v.call(r,t,1),--this.size,!0}var Rv=jv,Nv=Dt;function Iv(e){var r=this.__data__,t=Nv(r,e);return t<0?void 0:r[t][1]}var Mv=Iv,kv=Dt;function Lv(e){return kv(this.__data__,e)>-1}var Wv=Lv,zv=Dt;function Hv(e,r){var t=this.__data__,n=zv(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var Vv=Hv,qv=yv,Kv=Rv,Uv=Mv,Gv=Wv,_v=Vv;function Br(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Br.prototype.clear=qv;Br.prototype.delete=Kv;Br.prototype.get=Uv;Br.prototype.has=Gv;Br.prototype.set=_v;var Ct=Br,Yv=Ct;function Jv(){this.__data__=new Yv,this.size=0}var Xv=Jv;function Zv(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Qv=Zv;function ed(e){return this.__data__.get(e)}var rd=ed;function td(e){return this.__data__.has(e)}var nd=td,ad=Hr,ud=Xe,sd="[object AsyncFunction]",id="[object Function]",od="[object GeneratorFunction]",ld="[object Proxy]";function fd(e){if(!ud(e))return!1;var r=ad(e);return r==id||r==od||r==sd||r==ld}var vs=fd,cd=ke,vd=cd["__core-js_shared__"],dd=vd,Rt=dd,Ya=function(){var e=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hd(e){return!!Ya&&Ya in e}var gd=hd,Dd=Function.prototype,Cd=Dd.toString;function pd(e){if(e!=null){try{return Cd.call(e)}catch{}try{return e+""}catch{}}return""}var ds=pd,md=vs,Bd=gd,Ed=Xe,Ad=ds,bd=/[\\^$.*+?()[\]{}|]/g,Fd=/^\[object .+?Constructor\]$/,wd=Function.prototype,yd=Object.prototype,Od=wd.toString,xd=yd.hasOwnProperty,Sd=RegExp("^"+Od.call(xd).replace(bd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Td(e){if(!Ed(e)||Bd(e))return!1;var r=md(e)?Sd:Fd;return r.test(Ad(e))}var Pd=Td;function $d(e,r){return e==null?void 0:e[r]}var jd=$d,Rd=Pd,Nd=jd;function Id(e,r){var t=Nd(e,r);return Rd(t)?t:void 0}var fr=Id,Md=fr,kd=ke,Ld=Md(kd,"Map"),Bn=Ld,Wd=fr,zd=Wd(Object,"create"),pt=zd,Ja=pt;function Hd(){this.__data__=Ja?Ja(null):{},this.size=0}var Vd=Hd;function qd(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var Kd=qd,Ud=pt,Gd="__lodash_hash_undefined__",_d=Object.prototype,Yd=_d.hasOwnProperty;function Jd(e){var r=this.__data__;if(Ud){var t=r[e];return t===Gd?void 0:t}return Yd.call(r,e)?r[e]:void 0}var Xd=Jd,Zd=pt,Qd=Object.prototype,eh=Qd.hasOwnProperty;function rh(e){var r=this.__data__;return Zd?r[e]!==void 0:eh.call(r,e)}var th=rh,nh=pt,ah="__lodash_hash_undefined__";function uh(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=nh&&r===void 0?ah:r,this}var sh=uh,ih=Vd,oh=Kd,lh=Xd,fh=th,ch=sh;function Er(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Er.prototype.clear=ih;Er.prototype.delete=oh;Er.prototype.get=lh;Er.prototype.has=fh;Er.prototype.set=ch;var vh=Er,Xa=vh,dh=Ct,hh=Bn;function gh(){this.size=0,this.__data__={hash:new Xa,map:new(hh||dh),string:new Xa}}var Dh=gh;function Ch(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var ph=Ch,mh=ph;function Bh(e,r){var t=e.__data__;return mh(r)?t[typeof r=="string"?"string":"hash"]:t.map}var mt=Bh,Eh=mt;function Ah(e){var r=Eh(this,e).delete(e);return this.size-=r?1:0,r}var bh=Ah,Fh=mt;function wh(e){return Fh(this,e).get(e)}var yh=wh,Oh=mt;function xh(e){return Oh(this,e).has(e)}var Sh=xh,Th=mt;function Ph(e,r){var t=Th(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var $h=Ph,jh=Dh,Rh=bh,Nh=yh,Ih=Sh,Mh=$h;function Ar(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Ar.prototype.clear=jh;Ar.prototype.delete=Rh;Ar.prototype.get=Nh;Ar.prototype.has=Ih;Ar.prototype.set=Mh;var kh=Ar,Lh=Ct,Wh=Bn,zh=kh,Hh=200;function Vh(e,r){var t=this.__data__;if(t instanceof Lh){var n=t.__data__;if(!Wh||n.length<Hh-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new zh(n)}return t.set(e,r),this.size=t.size,this}var qh=Vh,Kh=Ct,Uh=Xv,Gh=Qv,_h=rd,Yh=nd,Jh=qh;function br(e){var r=this.__data__=new Kh(e);this.size=r.size}br.prototype.clear=Uh;br.prototype.delete=Gh;br.prototype.get=_h;br.prototype.has=Yh;br.prototype.set=Jh;var Xh=br;function Zh(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Qh=Zh,eg=fr,rg=function(){try{var e=eg(Object,"defineProperty");return e({},"",{}),e}catch{}}(),tg=rg,Za=tg;function ng(e,r,t){r=="__proto__"&&Za?Za(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var hs=ng,ag=hs,ug=cs,sg=Object.prototype,ig=sg.hasOwnProperty;function og(e,r,t){var n=e[r];(!(ig.call(e,r)&&ug(n,t))||t===void 0&&!(r in e))&&ag(e,r,t)}var gs=og,lg=gs,fg=hs;function cg(e,r,t,n){var a=!t;t||(t={});for(var u=-1,s=r.length;++u<s;){var o=r[u],c=n?n(t[o],e[o],o,t,e):void 0;c===void 0&&(c=e[o]),a?fg(t,o,c):lg(t,o,c)}return t}var Bt=cg;function vg(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var dg=vg,hg=Hr,gg=Cr,Dg="[object Arguments]";function Cg(e){return gg(e)&&hg(e)==Dg}var pg=Cg,Qa=pg,mg=Cr,Ds=Object.prototype,Bg=Ds.hasOwnProperty,Eg=Ds.propertyIsEnumerable,Ag=Qa(function(){return arguments}())?Qa:function(e){return mg(e)&&Bg.call(e,"callee")&&!Eg.call(e,"callee")},bg=Ag,Fg=Array.isArray,Et=Fg,lt={exports:{}};function wg(){return!1}var yg=wg;lt.exports;(function(e,r){var t=ke,n=yg,a=r&&!r.nodeType&&r,u=a&&!0&&e&&!e.nodeType&&e,s=u&&u.exports===a,o=s?t.Buffer:void 0,c=o?o.isBuffer:void 0,f=c||n;e.exports=f})(lt,lt.exports);var Cs=lt.exports,Og=9007199254740991,xg=/^(?:0|[1-9]\d*)$/;function Sg(e,r){var t=typeof e;return r=r??Og,!!r&&(t=="number"||t!="symbol"&&xg.test(e))&&e>-1&&e%1==0&&e<r}var Tg=Sg,Pg=9007199254740991;function $g(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Pg}var ps=$g,jg=Hr,Rg=ps,Ng=Cr,Ig="[object Arguments]",Mg="[object Array]",kg="[object Boolean]",Lg="[object Date]",Wg="[object Error]",zg="[object Function]",Hg="[object Map]",Vg="[object Number]",qg="[object Object]",Kg="[object RegExp]",Ug="[object Set]",Gg="[object String]",_g="[object WeakMap]",Yg="[object ArrayBuffer]",Jg="[object DataView]",Xg="[object Float32Array]",Zg="[object Float64Array]",Qg="[object Int8Array]",eD="[object Int16Array]",rD="[object Int32Array]",tD="[object Uint8Array]",nD="[object Uint8ClampedArray]",aD="[object Uint16Array]",uD="[object Uint32Array]",ce={};ce[Xg]=ce[Zg]=ce[Qg]=ce[eD]=ce[rD]=ce[tD]=ce[nD]=ce[aD]=ce[uD]=!0;ce[Ig]=ce[Mg]=ce[Yg]=ce[kg]=ce[Jg]=ce[Lg]=ce[Wg]=ce[zg]=ce[Hg]=ce[Vg]=ce[qg]=ce[Kg]=ce[Ug]=ce[Gg]=ce[_g]=!1;function sD(e){return Ng(e)&&Rg(e.length)&&!!ce[jg(e)]}var iD=sD;function oD(e){return function(r){return e(r)}}var En=oD,ft={exports:{}};ft.exports;(function(e,r){var t=xu,n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,u=a&&a.exports===n,s=u&&t.process,o=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(ft,ft.exports);var An=ft.exports,lD=iD,fD=En,eu=An,ru=eu&&eu.isTypedArray,cD=ru?fD(ru):lD,vD=cD,dD=dg,hD=bg,gD=Et,DD=Cs,CD=Tg,pD=vD,mD=Object.prototype,BD=mD.hasOwnProperty;function ED(e,r){var t=gD(e),n=!t&&hD(e),a=!t&&!n&&DD(e),u=!t&&!n&&!a&&pD(e),s=t||n||a||u,o=s?dD(e.length,String):[],c=o.length;for(var f in e)(r||BD.call(e,f))&&!(s&&(f=="length"||a&&(f=="offset"||f=="parent")||u&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||CD(f,c)))&&o.push(f);return o}var ms=ED,AD=Object.prototype;function bD(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||AD;return e===t}var bn=bD;function FD(e,r){return function(t){return e(r(t))}}var Bs=FD,wD=Bs,yD=wD(Object.keys,Object),OD=yD,xD=bn,SD=OD,TD=Object.prototype,PD=TD.hasOwnProperty;function $D(e){if(!xD(e))return SD(e);var r=[];for(var t in Object(e))PD.call(e,t)&&t!="constructor"&&r.push(t);return r}var jD=$D,RD=vs,ND=ps;function ID(e){return e!=null&&ND(e.length)&&!RD(e)}var Es=ID,MD=ms,kD=jD,LD=Es;function WD(e){return LD(e)?MD(e):kD(e)}var Fn=WD,zD=Bt,HD=Fn;function VD(e,r){return e&&zD(r,HD(r),e)}var qD=VD;function KD(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var UD=KD,GD=Xe,_D=bn,YD=UD,JD=Object.prototype,XD=JD.hasOwnProperty;function ZD(e){if(!GD(e))return YD(e);var r=_D(e),t=[];for(var n in e)n=="constructor"&&(r||!XD.call(e,n))||t.push(n);return t}var QD=ZD,e0=ms,r0=QD,t0=Es;function n0(e){return t0(e)?e0(e,!0):r0(e)}var wn=n0,a0=Bt,u0=wn;function s0(e,r){return e&&a0(r,u0(r),e)}var i0=s0,ct={exports:{}};ct.exports;(function(e,r){var t=ke,n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,u=a&&a.exports===n,s=u?t.Buffer:void 0,o=s?s.allocUnsafe:void 0;function c(f,v){if(v)return f.slice();var d=f.length,g=o?o(d):new f.constructor(d);return f.copy(g),g}e.exports=c})(ct,ct.exports);var o0=ct.exports;function l0(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var f0=l0;function c0(e,r){for(var t=-1,n=e==null?0:e.length,a=0,u=[];++t<n;){var s=e[t];r(s,t,e)&&(u[a++]=s)}return u}var v0=c0;function d0(){return[]}var As=d0,h0=v0,g0=As,D0=Object.prototype,C0=D0.propertyIsEnumerable,tu=Object.getOwnPropertySymbols,p0=tu?function(e){return e==null?[]:(e=Object(e),h0(tu(e),function(r){return C0.call(e,r)}))}:g0,yn=p0,m0=Bt,B0=yn;function E0(e,r){return m0(e,B0(e),r)}var A0=E0;function b0(e,r){for(var t=-1,n=r.length,a=e.length;++t<n;)e[a+t]=r[t];return e}var bs=b0,F0=Bs,w0=F0(Object.getPrototypeOf,Object),Fs=w0,y0=bs,O0=Fs,x0=yn,S0=As,T0=Object.getOwnPropertySymbols,P0=T0?function(e){for(var r=[];e;)y0(r,x0(e)),e=O0(e);return r}:S0,ws=P0,$0=Bt,j0=ws;function R0(e,r){return $0(e,j0(e),r)}var N0=R0,I0=bs,M0=Et;function k0(e,r,t){var n=r(e);return M0(e)?n:I0(n,t(e))}var ys=k0,L0=ys,W0=yn,z0=Fn;function H0(e){return L0(e,z0,W0)}var V0=H0,q0=ys,K0=ws,U0=wn;function G0(e){return q0(e,U0,K0)}var _0=G0,Y0=fr,J0=ke,X0=Y0(J0,"DataView"),Z0=X0,Q0=fr,eC=ke,rC=Q0(eC,"Promise"),tC=rC,nC=fr,aC=ke,uC=nC(aC,"Set"),sC=uC,iC=fr,oC=ke,lC=iC(oC,"WeakMap"),fC=lC,Yt=Z0,Jt=Bn,Xt=tC,Zt=sC,Qt=fC,Os=Hr,Fr=ds,nu="[object Map]",cC="[object Object]",au="[object Promise]",uu="[object Set]",su="[object WeakMap]",iu="[object DataView]",vC=Fr(Yt),dC=Fr(Jt),hC=Fr(Xt),gC=Fr(Zt),DC=Fr(Qt),tr=Os;(Yt&&tr(new Yt(new ArrayBuffer(1)))!=iu||Jt&&tr(new Jt)!=nu||Xt&&tr(Xt.resolve())!=au||Zt&&tr(new Zt)!=uu||Qt&&tr(new Qt)!=su)&&(tr=function(e){var r=Os(e),t=r==cC?e.constructor:void 0,n=t?Fr(t):"";if(n)switch(n){case vC:return iu;case dC:return nu;case hC:return au;case gC:return uu;case DC:return su}return r});var On=tr,CC=Object.prototype,pC=CC.hasOwnProperty;function mC(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&pC.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var BC=mC,EC=ke,AC=EC.Uint8Array,bC=AC,ou=bC;function FC(e){var r=new e.constructor(e.byteLength);return new ou(r).set(new ou(e)),r}var xn=FC,wC=xn;function yC(e,r){var t=r?wC(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var OC=yC,xC=/\w*$/;function SC(e){var r=new e.constructor(e.source,xC.exec(e));return r.lastIndex=e.lastIndex,r}var TC=SC,lu=vt,fu=lu?lu.prototype:void 0,cu=fu?fu.valueOf:void 0;function PC(e){return cu?Object(cu.call(e)):{}}var $C=PC,jC=xn;function RC(e,r){var t=r?jC(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var NC=RC,IC=xn,MC=OC,kC=TC,LC=$C,WC=NC,zC="[object Boolean]",HC="[object Date]",VC="[object Map]",qC="[object Number]",KC="[object RegExp]",UC="[object Set]",GC="[object String]",_C="[object Symbol]",YC="[object ArrayBuffer]",JC="[object DataView]",XC="[object Float32Array]",ZC="[object Float64Array]",QC="[object Int8Array]",ep="[object Int16Array]",rp="[object Int32Array]",tp="[object Uint8Array]",np="[object Uint8ClampedArray]",ap="[object Uint16Array]",up="[object Uint32Array]";function sp(e,r,t){var n=e.constructor;switch(r){case YC:return IC(e);case zC:case HC:return new n(+e);case JC:return MC(e,t);case XC:case ZC:case QC:case ep:case rp:case tp:case np:case ap:case up:return WC(e,t);case VC:return new n;case qC:case GC:return new n(e);case KC:return kC(e);case UC:return new n;case _C:return LC(e)}}var ip=sp,op=Xe,vu=Object.create,lp=function(){function e(){}return function(r){if(!op(r))return{};if(vu)return vu(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),fp=lp,cp=fp,vp=Fs,dp=bn;function hp(e){return typeof e.constructor=="function"&&!dp(e)?cp(vp(e)):{}}var gp=hp,Dp=On,Cp=Cr,pp="[object Map]";function mp(e){return Cp(e)&&Dp(e)==pp}var Bp=mp,Ep=Bp,Ap=En,du=An,hu=du&&du.isMap,bp=hu?Ap(hu):Ep,Fp=bp,wp=On,yp=Cr,Op="[object Set]";function xp(e){return yp(e)&&wp(e)==Op}var Sp=xp,Tp=Sp,Pp=En,gu=An,Du=gu&&gu.isSet,$p=Du?Pp(Du):Tp,jp=$p,Rp=Xh,Np=Qh,Ip=gs,Mp=qD,kp=i0,Lp=o0,Wp=f0,zp=A0,Hp=N0,Vp=V0,qp=_0,Kp=On,Up=BC,Gp=ip,_p=gp,Yp=Et,Jp=Cs,Xp=Fp,Zp=Xe,Qp=jp,em=Fn,rm=wn,tm=1,nm=2,am=4,xs="[object Arguments]",um="[object Array]",sm="[object Boolean]",im="[object Date]",om="[object Error]",Ss="[object Function]",lm="[object GeneratorFunction]",fm="[object Map]",cm="[object Number]",Ts="[object Object]",vm="[object RegExp]",dm="[object Set]",hm="[object String]",gm="[object Symbol]",Dm="[object WeakMap]",Cm="[object ArrayBuffer]",pm="[object DataView]",mm="[object Float32Array]",Bm="[object Float64Array]",Em="[object Int8Array]",Am="[object Int16Array]",bm="[object Int32Array]",Fm="[object Uint8Array]",wm="[object Uint8ClampedArray]",ym="[object Uint16Array]",Om="[object Uint32Array]",fe={};fe[xs]=fe[um]=fe[Cm]=fe[pm]=fe[sm]=fe[im]=fe[mm]=fe[Bm]=fe[Em]=fe[Am]=fe[bm]=fe[fm]=fe[cm]=fe[Ts]=fe[vm]=fe[dm]=fe[hm]=fe[gm]=fe[Fm]=fe[wm]=fe[ym]=fe[Om]=!0;fe[om]=fe[Ss]=fe[Dm]=!1;function nt(e,r,t,n,a,u){var s,o=r&tm,c=r&nm,f=r&am;if(t&&(s=a?t(e,n,a,u):t(e)),s!==void 0)return s;if(!Zp(e))return e;var v=Yp(e);if(v){if(s=Up(e),!o)return Wp(e,s)}else{var d=Kp(e),g=d==Ss||d==lm;if(Jp(e))return Lp(e,o);if(d==Ts||d==xs||g&&!a){if(s=c||g?{}:_p(e),!o)return c?Hp(e,kp(s,e)):zp(e,Mp(s,e))}else{if(!fe[d])return a?e:{};s=Gp(e,d,o)}}u||(u=new Rp);var p=u.get(e);if(p)return p;u.set(e,s),Qp(e)?e.forEach(function(B){s.add(nt(B,r,t,B,e,u))}):Xp(e)&&e.forEach(function(B,m){s.set(m,nt(B,r,t,m,e,u))});var h=f?c?qp:Vp:c?rm:em,i=v?void 0:h(e);return Np(i||e,function(B,m){i&&(m=B,B=e[m]),Ip(s,m,nt(B,r,t,m,e,u))}),s}var xm=nt,Sm=xm,Tm=4;function Pm(e){return Sm(e,Tm)}var $m=Pm;const jm=Dr($m),we="mooncatcher-new-article",Cu="mooncatcher-local-articles-key",pu="mooncatcher-current-article-key",Rm=[{type:"paragraph",children:[{text:"A line of text in a paragraph.",bold:!0}]},{type:"code",children:[{text:"const a = 'b'"}]}],Or=jm(Rm);function Nm(){return new Worker("/assets/DraftWorker-06007804.js")}const Ps=e=>{var t;if(U.isText(e)){let n=_a(e.text);return e.bold&&(n=`<strong>${n}</strong>`),n}const r=(t=e.children)==null?void 0:t.map(n=>Ps(n)).join("");switch(e.type){case"quote":return`<blockquote><p>${r}</p></blockquote>`;case"paragraph":return`<p>${r}</p>`;case"link":return`<a href="${_a(e.url)}">${r}</a>`;case"code":return` <pre className="code-line"><code>${r}</code></pre>`;default:return r}},Im=A.memo(function(r){const[t]=A.useState(()=>Ev(Of())),[n,a]=A.useState(!1),[u,s]=A.useState(""),[o,c]=A.useState(!1),[f,v]=A.useState(null),[d,g]=A.useState([]);A.useState(!1);const[p,h]=A.useState(""),[i,B]=A.useState(null),[m,b]=A.useState(null),{setLinkBntAction:w}=qs(),{octokit:P,userInfo:M,login:H}=Fu(),k=A.useCallback(x=>{switch(x.element.type){case"code":return N.jsx(Mm,{...x});default:return N.jsx(km,{...x})}},[]),G=A.useCallback(x=>N.jsx(Lm,{...x}),[]),S=A.useCallback(({title:x,content:T,currentArticle:q,localArticles:_})=>{T&&x&&(s(T),q!=null&&q.warning?localStorage.setItem(`${we}_${q.warning}`,T):localStorage.setItem(`${we}_${x}`,T)),q&&(v(q),localStorage.setItem(pu,JSON.stringify(q))),_&&(g(_),localStorage.setItem(Cu,JSON.stringify(_)))},[]),V=A.useCallback(()=>{let x="标题";for(;d.some(_=>_.title===x);)x+="(1)";const T={title:x,remote:!1},q=JSON.stringify(Or);g(_=>[..._,T]),B(null),S({localArticles:[...d,T],currentArticle:T,title:x,content:q}),setTimeout(()=>{B(Or)},1)},[S,d]),X=A.useCallback(x=>{const T={title:x.content.name.replace(".json",""),sha:x.content.sha,remote:!0};let q=!1;const _=d.map(Y=>`${Y.title}.json`===x.content.name||Y.sha===x.content.sha?(q=!0,T):Y);S({currentArticle:T}),q&&S({localArticles:_}),alert("已保存至草稿箱")},[S,d]);A.useCallback(x=>{B(null),console.log(x,"article.warning");const T=localStorage.getItem(x!=null&&x.warning?`${we}_${x.warning}`:`${we}_${x.title}`);let q=Or;console.log(T,"currentContext",x!=null&&x.warning?`${we}_${x.warning}`:`${we}_${x.title}`),T&&(q=JSON.parse(T)),S({currentArticle:x}),setTimeout(()=>{B(q)},1)},[S]);const j=A.useCallback(({newCurrentArticle:x,newContent:T})=>{const{title:q}=x;console.log(q,T,x,"newTitlenewTitle");let _=d.length?[...d]:[x];const Y={};_=_.map(ne=>{let C=ne;return(ne.title===(f==null?void 0:f.title)||ne.sha&&ne.sha===(f==null?void 0:f.sha))&&ne.warning===f.warning&&(C=x),Y[C.title]||(Y[C.title]=0),Y[C.title]+=1,C}),_=_.map(ne=>{if(ne.warning&&Y[ne.title]===1){const C=localStorage.getItem(`${we}_${ne.warning}`);return localStorage.setItem(`${we}_${ne.title}`,C??""),{...ne,warning:void 0}}return ne}),S({title:q,content:T,localArticles:_,currentArticle:x})},[f,S,d]),z=A.useCallback(x=>{if(console.log("handleContentChange???"),t.operations.some(q=>q.type!=="set_selection")){const q=JSON.stringify(x),_={...f,remote:!1,title:(f==null?void 0:f.title)??""};j({newCurrentArticle:_,newContent:q})}},[f,t.operations,j]),L=A.useCallback(x=>{const T=[...d],q={title:x.target.value,sha:f==null?void 0:f.sha,remote:!1};x.target.value&&T.some(({title:ne})=>ne===x.target.value)&&(q.warning=Nt().format()+"标题重复");const _=f==null?void 0:f.title,Y=localStorage.getItem(f!=null&&f.warning?`${we}_${f.warning}`:`${we}_${_}`);localStorage.removeItem(f!=null&&f.warning?`${we}_${f==null?void 0:f.warning}`:`${we}_${_}`),j({newCurrentArticle:q,newContent:Y??""})},[d,f,j]),W=A.useCallback(({sha:x,title:T,owner:q,name:_,email:Y})=>{P.request("DELETE /repos/{owner}/{repo}/contents/{path}",{owner:q,repo:`${q}.github.io`,sha:x,path:`public/jsonStore/write/${T}.json`,message:` create or update draft article ${T}`,committer:{name:_,email:Y||"moon-catcher@gmail.com"},headers:Hs})},[P]),ee=A.useCallback(()=>{m&&m.postMessage(u)},[u,P,f,M,p,X,W,H,m]),ae=A.useCallback(()=>{if(f!=null&&f.warning){alert("标题重复！请修改");return}const x=JSON.parse(u);console.log(x.map(T=>Ps(T)))},[u,f]);return A.useEffect(()=>{const x=new Nm;return b(x),x.onmessage=T=>{alert(T.data)},()=>{x.terminate()}},[]),A.useEffect(()=>{o&&M.login&&(console.log(u,"************"),ee())},[o,M.login]),A.useEffect(()=>{typeof w=="function"&&(w("save",ee),w("submit",ae))},[ee,ae,w]),A.useEffect(()=>{let x="标题",T={title:"标题",remote:!1};if(r.title)x=r.title;else{const Y=localStorage.getItem(pu)??"";try{if(Y){const ne=JSON.parse(Y);ne.title&&(x=ne.title,T=ne)}}catch(ne){console.log(ne)}}const q=localStorage.getItem(Cu)??"";try{if(q){const Y=JSON.parse(q);console.log(Y,"tempArr"),Y.length&&S({localArticles:Y})}}catch(Y){console.log(Y)}h(x),v(T);let _;if(x){_=localStorage.getItem(T!=null&&T.warning?`${we}_${T.warning}`:`${we}_${T==null?void 0:T.title}`);let Y=Or;if(_)try{Y=JSON.parse(_)}catch(ne){console.log(ne)}else _=JSON.stringify(Or);console.log(_,"contentcontentcontentcontent"),B(Y),s(_)}},[S,r.title]),A.useEffect(()=>{t?Pr.toggleBoldMark(t,n):a(!1)},[n,t]),A.useEffect(()=>{if(t&&i){const x=i.length-1,T=i[x].children,q=T[T.length-1];t.select({offset:q.text.length,path:[x,T.length-1]})}},[t,i]),N.jsxs("div",{className:"editor",children:[N.jsx("div",{className:"header",children:N.jsx("input",{className:"title",onInput:L,suppressContentEditableWarning:!0,value:(f==null?void 0:f.title)??""})}),N.jsxs("div",{className:"article-actions",children:[N.jsx("div",{className:["file-list",r.filePickerOpen?"file-list-active":""].join(" "),onClick:r.onFilePickerOpenChange,children:"文件列表"}),N.jsx("span",{className:"create-button",onClick:V,children:"新建"}),(f==null?void 0:f.warning)&&N.jsxs("div",{className:"titleCeffg-warning",title:"标题重复，请修改",children:["❗❗❗❗❗❗❗❗",f==null?void 0:f.warning,"❗❗❗❗❗❗❗❗❗"]})]}),N.jsxs("div",{children:[N.jsx("button",{onMouseDown:x=>{x.preventDefault(),a(T=>!T)},style:{fontWeight:n?"bold":"normal"},children:"Bold"}),N.jsx("button",{onMouseDown:x=>{x.preventDefault(),Pr.toggleCodeBlock(t)},children:"Code Block"})]}),i?N.jsx(mv,{editor:t,initialValue:i,onChange:z,children:N.jsx(fv,{className:"editable",renderElement:k,renderLeaf:G,autoFocus:!0,onSelect:()=>{a(Pr.isBoldMarkActive(t))},onKeyDown:x=>{if(x.key==="Tab"&&(x.preventDefault(),t.insertText("	")),!!x.ctrlKey)switch(x.key){case"`":{x.preventDefault(),Pr.toggleCodeBlock(t);break}case"b":{x.preventDefault(),a(T=>!T);break}}}})}):N.jsx("div",{className:"editable loading",children:N.jsx("h2",{children:"loading..."})})]})}),Mm=e=>N.jsx("pre",{...e.attributes,className:"code-line",children:N.jsx("code",{children:e.children})}),km=e=>N.jsx("p",{...e.attributes,children:e.children}),Lm=e=>N.jsx("span",{...e.attributes,style:{fontWeight:e.leaf.bold?"bold":"normal"},children:e.children}),Pr={isBoldMarkActive(e){const r=l.marks(e);return r?r.bold===!0:!1},isCodeBlockActive(e){const[r]=l.nodes(e,{match:t=>t.type==="code"});return!!r},toggleBoldMark(e,r){r?l.addMark(e,"bold",!0):l.removeMark(e,"bold")},toggleCodeBlock(e){const r=Pr.isCodeBlockActive(e);O.setNodes(e,{type:r?null:"code"},{match:t=>K.isElement(t)&&l.isBlock(e,t)})}};function Wm(e,r){for(var t=-1,n=e==null?0:e.length,a=Array(n);++t<n;)a[t]=r(e[t],t,e);return a}var zm=Wm,mu=vt,Hm=zm,Vm=Et,qm=Tu,Km=1/0,Bu=mu?mu.prototype:void 0,Eu=Bu?Bu.toString:void 0;function $s(e){if(typeof e=="string")return e;if(Vm(e))return Hm(e,$s)+"";if(qm(e))return Eu?Eu.call(e):"";var r=e+"";return r=="0"&&1/e==-Km?"-0":r}var Um=$s,Gm=Um;function _m(e){return e==null?"":Gm(e)}var Ym=_m,Jm=Ym,Xm=0;function Zm(e){var r=++Xm;return Jm(e)+r}var Qm=Zm;const Au=Dr(Qm);const e1={icon:">>",children:"empty",title:"title"},r1=A.memo(function(r){return N.jsx("div",{className:"accordion",children:r.children})}),t1=A.memo(function(r){const[t,n]=A.useState(!0),a=A.useRef(null),u=A.useRef(null),s=A.useRef(null),[o,c]=A.useState("unset"),[f,v]=A.useState(!1);A.useEffect(()=>{function h(i){i.target instanceof HTMLDivElement&&i.target.className==="collapse-box"&&v(!1)}return window.addEventListener("transitionend",h),()=>{window.removeEventListener("transitionend",h)}},[]),A.useEffect(()=>{u.current&&c(u.current.clientHeight)},[r.children]);const d=()=>{v(!0),n(h=>!h)},g=()=>{var h;(h=a.current)==null||h.style.setProperty(Sn,"1")},p=h=>{s.current&&(clearTimeout(s.current),s.current=null),s.current=setTimeout(()=>{var i;(i=a.current)==null||i.style.setProperty(Sn,`${h*.1}`),h&&p(h-1)},40)};return A.useEffect(()=>{},[]),N.jsxs("div",{ref:a,className:"collapse",style:{flexShrink:Number(o)<150?0:"auto"},children:[N.jsxs("div",{onClick:d,className:"collapse-header",children:[N.jsx("div",{children:r.icon}),N.jsx("div",{children:r.title})]}),N.jsx("div",{className:"collapse-box",onMouseOver:g,onMouseLeave:()=>p(15),style:{height:t?o:0,overflow:f?"hidden":"auto",transition:r.noAnimate?void 0:"all 0.1s linear"},children:N.jsx("div",{className:"collapse-child",ref:u,children:r.children})})]})}),$r=Object.assign(r1,{Collapse:Object.assign(t1,{defaultProps:e1})}),n1=e=>{const[r,t]=A.useState(!1);A.useState(!1);const[n,a]=A.useState(null),[u,s]=A.useState({remoteDraft:!0,localDraft:!0,published:!1}),[o,c]=A.useReducer(a1,{}),f=async i=>{var m;const B=await i.text();console.log(B),(m=e.handleFileContentChange)==null||m.call(e,B)};async function v(i,B={},m){console.log(m,"","dirHandle");for await(const b of i.values()){if(console.log(b,"entry"),b.kind==="file"){const w=await b.getFile();B[m?m+w.name:w.name]={kind:"file",file:w,name:w.name,handle:b,id:Au("FilePicker_"),pid:m}}b.kind==="directory"&&(console.log(b.name,"entry.name"),B[m?m+b.name:b.name]={kind:"directory",name:b.name,handle:b,id:Au("FilePicker_"),pid:m})}return B}const d=A.useCallback(async()=>{t(()=>!0);const i=await window.showDirectoryPicker({});a(i);const B=await v(i);console.log(B,"outoutout"),c({type:"create",preload:B}),t(()=>!1)},[]),g=A.useCallback((i,B)=>{s(m=>({...m,[i]:B}))},[]),p=async i=>{f(i.file)},h=async i=>{const B=await v(i.handle,{},i.id);console.log(B,"state"),c({type:"append",preload:B})};return N.jsx("div",{className:["FilePicker",e.open?"filepicker-show":"filepicker-hidden"].join(" "),children:N.jsxs("div",{className:"filepicker-box",children:[N.jsxs("div",{className:"filepicker-header",children:[N.jsx("div",{className:"filepicker-tab",children:"Articles"}),N.jsx("div",{className:"filepicker-footer",children:N.jsxs("div",{className:"checkbox-group",children:[N.jsx("input",{type:"checkbox",id:"filepicker-remote-draft",checked:u.remoteDraft,onChange:i=>g("remoteDraft",i.target.checked)}),N.jsx("label",{htmlFor:"filepicker-remote-draft",className:"check-button",children:"在线草稿"}),N.jsx("input",{type:"checkbox",id:"filepicker-local-draft",checked:u.localDraft,onChange:i=>g("localDraft",i.target.checked)}),N.jsx("label",{htmlFor:"filepicker-local-draft",className:"check-button",children:"本地草稿"}),N.jsx("input",{type:"checkbox",id:"filepicker-published",checked:u.published,onChange:i=>g("published",i.target.checked)}),N.jsx("label",{htmlFor:"filepicker-published",className:"check-button",children:"已发布"})]})})]}),N.jsx("div",{className:"filepicker-draft-box",children:N.jsxs($r,{children:[u.remoteDraft&&N.jsxs($r.Collapse,{title:"在线草稿",children:[N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"}),N.jsx("div",{children:"9999"})]}),u.localDraft&&N.jsx($r.Collapse,{title:"本地草稿",children:n?N.jsx(N.Fragment,{children:N.jsx(js,{tree:o,handleDirectoryClick:h,handleFileClick:p})}):N.jsx("button",{onClick:d,children:"打开文件夹"})}),u.published&&N.jsx($r.Collapse,{title:"已发布",children:"已发布"})]})})]})})},js=e=>{const{tree:r,handleDirectoryClick:t,handleFileClick:n,pid:a}=e,u=A.useMemo(()=>Object.values(r??{}).filter(s=>!a||a===s.pid),[a,r]);return console.log(u,"tree",a),u.length?N.jsx(N.Fragment,{children:u.map((s,o)=>{const{kind:c,name:f,file:v}=s;return v&&c==="file"?N.jsx("div",{onClick:()=>n(s),children:f},f+o):N.jsx($r.Collapse,{noAnimate:!0,title:N.jsxs("div",{onClick:()=>{console.log(r,"fileTree"),t(s)},children:[" > ",f]}),children:N.jsx(js,{pid:s.id,tree:r,handleDirectoryClick:t,handleFileClick:n})},f+o)})}):N.jsx(N.Fragment,{})},a1=(e,r)=>{let t=e;switch(r.type){case"append":t={...e,...r.preload};break;case"create":t={...r.preload};break}return t},u1=A.memo(n1),bu="YYYY/MM/DD HH:mm:ss";function f1(){const e=A.useRef(null),{userInfo:r,login:t}=Fu(),[n,a]=A.useState(Nt().format(bu)),[u,s]=A.useState(!0),[o,c]=A.useState("");A.useEffect(()=>(e.current=setTimeout(()=>{a(Nt().format(bu))},1e3),()=>{e.current&&clearTimeout(e.current)}),[n]),A.useEffect(()=>{const v=localStorage.getItem("filePickerOpen");s(v!=="close");const d=g=>{console.log(g,"event"),g.ctrlKey&&g.key==="e"&&(g.preventDefault(),s(p=>!p))};return window.addEventListener("keydown",d),()=>{window.removeEventListener("keydown",d)}},[]);const f=A.useCallback(()=>{s(v=>(localStorage.setItem("filePickerOpen",v?"close":"open"),!v))},[]);return N.jsxs("div",{className:"write-page",children:[N.jsxs("div",{className:"author",children:["author: ",r.name??N.jsx("span",{onClick:()=>t(),children:"未登录"}),`  |       ${n}`]}),N.jsx(u1,{open:u,handleFileContentChange:v=>c(v)}),o,N.jsx(Im,{filePickerOpen:u,onFilePickerOpenChange:f})]})}export{f1 as Page};
