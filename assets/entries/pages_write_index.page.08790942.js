import{g as Wt,c as Kt,R as Q,r as F,j as ie}from"../chunks/chunk-9a4f56c2.js";import{k as pe,u as mu,d as $r,D as xn}from"../chunks/chunk-9903c753.js";import{R as Rs}from"../chunks/chunk-3c9561d0.js";import{u as Ns}from"../chunks/chunk-10a2ec28.js";var Is=Ls,Bu="֑-߿יִ-﷽ﹰ-ﻼ",Eu="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Ms=new RegExp("^[^"+Eu+"]*["+Bu+"]"),ks=new RegExp("^[^"+Bu+"]*["+Eu+"]");function Ls(e){return e=String(e||""),Ms.test(e)?"rtl":ks.test(e)?"ltr":"neutral"}const Au=Wt(Is);function Ws(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xe=Ws,zs=typeof Kt=="object"&&Kt&&Kt.Object===Object&&Kt,bu=zs,Hs=bu,Vs=typeof self=="object"&&self&&self.Object===Object&&self,Ks=Hs||Vs||Function("return this")(),ke=Ks,qs=ke,Us=function(){return qs.Date.now()},Gs=Us,Ys=/\s/;function _s(e){for(var t=e.length;t--&&Ys.test(e.charAt(t)););return t}var Js=_s,Xs=Js,Zs=/^\s+/;function Qs(e){return e&&e.slice(0,Xs(e)+1).replace(Zs,"")}var ei=Qs,ti=ke,ri=ti.Symbol,Xr=ri,Sn=Xr,Fu=Object.prototype,ni=Fu.hasOwnProperty,ai=Fu.toString,Ft=Sn?Sn.toStringTag:void 0;function ui(e){var t=ni.call(e,Ft),r=e[Ft];try{e[Ft]=void 0;var n=!0}catch{}var a=ai.call(e);return n&&(t?e[Ft]=r:delete e[Ft]),a}var si=ui,ii=Object.prototype,oi=ii.toString;function li(e){return oi.call(e)}var fi=li,Pn=Xr,ci=si,vi=fi,di="[object Null]",hi="[object Undefined]",Tn=Pn?Pn.toStringTag:void 0;function gi(e){return e==null?e===void 0?hi:di:Tn&&Tn in Object(e)?ci(e):vi(e)}var zt=gi;function Di(e){return e!=null&&typeof e=="object"}var Dt=Di,Ci=zt,pi=Dt,mi="[object Symbol]";function Bi(e){return typeof e=="symbol"||pi(e)&&Ci(e)==mi}var Ei=Bi,Ai=ei,$n=Xe,bi=Ei,jn=0/0,Fi=/^[-+]0x[0-9a-f]+$/i,wi=/^0b[01]+$/i,yi=/^0o[0-7]+$/i,Oi=parseInt;function xi(e){if(typeof e=="number")return e;if(bi(e))return jn;if($n(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$n(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ai(e);var r=wi.test(e);return r||yi.test(e)?Oi(e.slice(2),r?2:8):Fi.test(e)?jn:+e}var Si=xi,Pi=Xe,Br=Gs,Rn=Si,Ti="Expected a function",$i=Math.max,ji=Math.min;function Ri(e,t,r){var n,a,u,s,o,c,i=0,v=!1,d=!1,D=!0;if(typeof e!="function")throw new TypeError(Ti);t=Rn(t)||0,Pi(r)&&(v=!!r.leading,d="maxWait"in r,u=d?$i(Rn(r.maxWait)||0,t):u,D="trailing"in r?!!r.trailing:D);function p(H){var T=n,Y=a;return n=a=void 0,i=H,s=e.apply(Y,T),s}function h(H){return i=H,o=setTimeout(m,t),v?p(H):s}function l(H){var T=H-c,Y=H-i,S=t-T;return d?ji(S,u-Y):S}function B(H){var T=H-c,Y=H-i;return c===void 0||T>=t||T<0||d&&Y>=u}function m(){var H=Br();if(B(H))return A(H);o=setTimeout(m,l(H))}function A(H){return o=void 0,D&&n?p(H):(n=a=void 0,s)}function O(){o!==void 0&&clearTimeout(o),i=0,n=c=a=o=void 0}function P(){return o===void 0?s:A(Br())}function W(){var H=Br(),T=B(H);if(n=arguments,a=this,c=H,T){if(o===void 0)return h(c);if(d)return clearTimeout(o),o=setTimeout(m,t),p(c)}return o===void 0&&(o=setTimeout(m,t)),s}return W.cancel=O,W.flush=P,W}var wu=Ri;const Ni=Wt(wu);var Ii=wu,Mi=Xe,ki="Expected a function";function Li(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(ki);return Mi(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Ii(e,t,{leading:n,maxWait:t,trailing:a})}var Wi=Li;const zi=Wt(Wi);function Nn(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function In(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function Er(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return In(r.overflowY,t)||In(r.overflowX,t)||function(n){var a=function(u){if(!u.ownerDocument||!u.ownerDocument.defaultView)return null;try{return u.ownerDocument.defaultView.frameElement}catch{return null}}(n);return!!a&&(a.clientHeight<n.scrollHeight||a.clientWidth<n.scrollWidth)}(e)}return!1}function qt(e,t,r,n,a,u,s,o){return u<e&&s>t||u>e&&s<t?0:u<=e&&o<=r||s>=t&&o>=r?u-e-n:s>t&&o<r||u<e&&o>r?s-t+a:0}var Mn=function(e,t){var r=window,n=t.scrollMode,a=t.block,u=t.inline,s=t.boundary,o=t.skipOverflowHiddenElements,c=typeof s=="function"?s:function(ae){return ae!==s};if(!Nn(e))throw new TypeError("Invalid target");for(var i,v,d=document.scrollingElement||document.documentElement,D=[],p=e;Nn(p)&&c(p);){if((p=(v=(i=p).parentElement)==null?i.getRootNode().host||null:v)===d){D.push(p);break}p!=null&&p===document.body&&Er(p)&&!Er(document.documentElement)||p!=null&&Er(p,o)&&D.push(p)}for(var h=r.visualViewport?r.visualViewport.width:innerWidth,l=r.visualViewport?r.visualViewport.height:innerHeight,B=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,A=e.getBoundingClientRect(),O=A.height,P=A.width,W=A.top,H=A.right,T=A.bottom,Y=A.left,S=a==="start"||a==="nearest"?W:a==="end"?T:W+O/2,V=u==="center"?Y+P/2:u==="end"?H:Y,X=[],N=0;N<D.length;N++){var z=D[N],k=z.getBoundingClientRect(),L=k.height,w=k.width,I=k.top,U=k.right,R=k.bottom,G=k.left;if(n==="if-needed"&&W>=0&&Y>=0&&T<=l&&H<=h&&W>=I&&T<=R&&Y>=G&&H<=U)return X;var J=getComputedStyle(z),re=parseInt(J.borderLeftWidth,10),be=parseInt(J.borderTopWidth,10),C=parseInt(J.borderRightWidth,10),j=parseInt(J.borderBottomWidth,10),y=0,M=0,ee="offsetWidth"in z?z.offsetWidth-z.clientWidth-re-C:0,_="offsetHeight"in z?z.offsetHeight-z.clientHeight-be-j:0,ne="offsetWidth"in z?z.offsetWidth===0?0:w/z.offsetWidth:0,oe="offsetHeight"in z?z.offsetHeight===0?0:L/z.offsetHeight:0;if(d===z)y=a==="start"?S:a==="end"?S-l:a==="nearest"?qt(m,m+l,l,be,j,m+S,m+S+O,O):S-l/2,M=u==="start"?V:u==="center"?V-h/2:u==="end"?V-h:qt(B,B+h,h,re,C,B+V,B+V+P,P),y=Math.max(0,y+m),M=Math.max(0,M+B);else{y=a==="start"?S-I-be:a==="end"?S-R+j+_:a==="nearest"?qt(I,R,L,be,j+_,S,S+O,O):S-(I+L/2)+_/2,M=u==="start"?V-G-re:u==="center"?V-(G+w/2)+ee/2:u==="end"?V-U+C+ee:qt(G,U,w,re,C+ee,V,V+P,P);var se=z.scrollLeft,he=z.scrollTop;S+=he-(y=Math.max(0,Math.min(he+y/oe,z.scrollHeight-L/oe+_))),V+=se-(M=Math.max(0,Math.min(se+M/ne,z.scrollWidth-w/ne+ee)))}X.push({el:z,top:y,left:M})}return X};function yu(e){return e===Object(e)&&Object.keys(e).length!==0}function Hi(e,t){t===void 0&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach(function(n){var a=n.el,u=n.top,s=n.left;a.scroll&&r?a.scroll({top:u,left:s,behavior:t}):(a.scrollTop=u,a.scrollLeft=s)})}function Vi(e){return e===!1?{block:"end",inline:"nearest"}:yu(e)?e:{block:"start",inline:"nearest"}}function Ki(e,t){var r=e.isConnected||e.ownerDocument.documentElement.contains(e);if(yu(t)&&typeof t.behavior=="function")return t.behavior(r?Mn(e,t):[]);if(r){var n=Vi(t);return Hi(Mn(e,n),n.behavior)}}function Ie(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ot(e){return!!e&&!!e[Se]}function lt(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var a=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===Zi}(e)||Array.isArray(e)||!!e[qn]||!!(!((t=e.constructor)===null||t===void 0)&&t[qn])||Zr(e)||Qr(e))}function Nt(e,t,r){r===void 0&&(r=!1),Ct(e)===0?(r?Object.keys:an)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,a){return t(a,n,e)})}function Ct(e){var t=e[Se];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Zr(e)?2:Qr(e)?3:0}function jr(e,t){return Ct(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qi(e,t){return Ct(e)===2?e.get(t):e[t]}function Ou(e,t,r){var n=Ct(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Ui(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Zr(e){return Ji&&e instanceof Map}function Qr(e){return Xi&&e instanceof Set}function tt(e){return e.o||e.t}function en(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Qi(e);delete t[Se];for(var r=an(t),n=0;n<r.length;n++){var a=r[n],u=t[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(t[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function tn(e,t){return t===void 0&&(t=!1),rn(e)||ot(e)||!lt(e)||(Ct(e)>1&&(e.set=e.add=e.clear=e.delete=Gi),Object.freeze(e),t&&Nt(e,function(r,n){return tn(n,!0)},!0)),e}function Gi(){Ie(2)}function rn(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function He(e){var t=eo[e];return t||Ie(18,e),t}function kn(){return It}function Ar(e,t){t&&(He("Patches"),e.u=[],e.s=[],e.v=t)}function nr(e){Rr(e),e.p.forEach(Yi),e.p=null}function Rr(e){e===It&&(It=e.l)}function Ln(e){return It={p:[],l:It,h:e,m:!0,_:0}}function Yi(e){var t=e[Se];t.i===0||t.i===1?t.j():t.g=!0}function br(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||He("ES5").S(t,e,n),n?(r[Se].P&&(nr(t),Ie(4)),lt(e)&&(e=ar(t,e),t.l||ur(t,e)),t.u&&He("Patches").M(r[Se].t,e,t.u,t.s)):e=ar(t,r,[]),nr(t),t.u&&t.v(t.u,t.s),e!==xu?e:void 0}function ar(e,t,r){if(rn(t))return t;var n=t[Se];if(!n)return Nt(t,function(o,c){return Wn(e,n,t,o,c,r)},!0),t;if(n.A!==e)return t;if(!n.P)return ur(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=n.i===4||n.i===5?n.o=en(n.k):n.o,u=a,s=!1;n.i===3&&(u=new Set(a),a.clear(),s=!0),Nt(u,function(o,c){return Wn(e,n,a,o,c,r,s)}),ur(e,a,!1),r&&e.u&&He("Patches").N(n,r,e.u,e.s)}return n.o}function Wn(e,t,r,n,a,u,s){if(ot(a)){var o=ar(e,a,u&&t&&t.i!==3&&!jr(t.R,n)?u.concat(n):void 0);if(Ou(r,n,o),!ot(o))return;e.m=!1}else s&&r.add(a);if(lt(a)&&!rn(a)){if(!e.h.D&&e._<1)return;ar(e,a),t&&t.A.l||ur(e,a)}}function ur(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&tn(t,r)}function Fr(e,t){var r=e[Se];return(r?tt(r):e)[t]}function zn(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Nr(e){e.P||(e.P=!0,e.l&&Nr(e.l))}function wr(e){e.o||(e.o=en(e.t))}function Ir(e,t,r){var n=Zr(t)?He("MapSet").F(t,r):Qr(t)?He("MapSet").T(t,r):e.O?function(a,u){var s=Array.isArray(a),o={i:s?1:0,A:u?u.A:kn(),P:!1,I:!1,R:{},l:u,t:a,k:null,o:null,j:null,C:!1},c=o,i=Mr;s&&(c=[o],i=Ot);var v=Proxy.revocable(c,i),d=v.revoke,D=v.proxy;return o.k=D,o.j=d,D}(t,r):He("ES5").J(t,r);return(r?r.A:kn()).p.push(n),n}function _i(e){return ot(e)||Ie(22,e),function t(r){if(!lt(r))return r;var n,a=r[Se],u=Ct(r);if(a){if(!a.P&&(a.i<4||!He("ES5").K(a)))return a.t;a.I=!0,n=Hn(r,u),a.I=!1}else n=Hn(r,u);return Nt(n,function(s,o){a&&qi(a.t,s)===o||Ou(n,s,t(o))}),u===3?new Set(n):n}(e)}function Hn(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return en(e)}var Vn,It,nn=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ji=typeof Map<"u",Xi=typeof Set<"u",Kn=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",xu=nn?Symbol.for("immer-nothing"):((Vn={})["immer-nothing"]=!0,Vn),qn=nn?Symbol.for("immer-draftable"):"__$immer_draftable",Se=nn?Symbol.for("immer-state"):"__$immer_state",Zi=""+Object.prototype.constructor,an=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Qi=Object.getOwnPropertyDescriptors||function(e){var t={};return an(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},eo={},Mr={get:function(e,t){if(t===Se)return e;var r=tt(e);if(!jr(r,t))return function(a,u,s){var o,c=zn(u,s);return c?"value"in c?c.value:(o=c.get)===null||o===void 0?void 0:o.call(a.k):void 0}(e,r,t);var n=r[t];return e.I||!lt(n)?n:n===Fr(e.t,t)?(wr(e),e.o[t]=Ir(e.A.h,n,e)):n},has:function(e,t){return t in tt(e)},ownKeys:function(e){return Reflect.ownKeys(tt(e))},set:function(e,t,r){var n=zn(tt(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var a=Fr(tt(e),t),u=a==null?void 0:a[Se];if(u&&u.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(Ui(r,a)&&(r!==void 0||jr(e.t,t)))return!0;wr(e),Nr(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return Fr(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,wr(e),Nr(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=tt(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){Ie(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ie(12)}},Ot={};Nt(Mr,function(e,t){Ot[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ot.deleteProperty=function(e,t){return Ot.set.call(this,e,t,void 0)},Ot.set=function(e,t,r){return Mr.set.call(this,e[0],t,r,e[0])};var to=function(){function e(r){var n=this;this.O=Kn,this.D=!0,this.produce=function(a,u,s){if(typeof a=="function"&&typeof u!="function"){var o=u;u=a;var c=n;return function(l){var B=this;l===void 0&&(l=o);for(var m=arguments.length,A=Array(m>1?m-1:0),O=1;O<m;O++)A[O-1]=arguments[O];return c.produce(l,function(P){var W;return(W=u).call.apply(W,[B,P].concat(A))})}}var i;if(typeof u!="function"&&Ie(6),s!==void 0&&typeof s!="function"&&Ie(7),lt(a)){var v=Ln(n),d=Ir(n,a,void 0),D=!0;try{i=u(d),D=!1}finally{D?nr(v):Rr(v)}return typeof Promise<"u"&&i instanceof Promise?i.then(function(l){return Ar(v,s),br(l,v)},function(l){throw nr(v),l}):(Ar(v,s),br(i,v))}if(!a||typeof a!="object"){if((i=u(a))===void 0&&(i=a),i===xu&&(i=void 0),n.D&&tn(i,!0),s){var p=[],h=[];He("Patches").M(a,i,p,h),s(p,h)}return i}Ie(21,a)},this.produceWithPatches=function(a,u){if(typeof a=="function")return function(i){for(var v=arguments.length,d=Array(v>1?v-1:0),D=1;D<v;D++)d[D-1]=arguments[D];return n.produceWithPatches(i,function(p){return a.apply(void 0,[p].concat(d))})};var s,o,c=n.produce(a,u,function(i,v){s=i,o=v});return typeof Promise<"u"&&c instanceof Promise?c.then(function(i){return[i,s,o]}):[c,s,o]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){lt(r)||Ie(8),ot(r)&&(r=_i(r));var n=Ln(this),a=Ir(this,r,void 0);return a[Se].C=!0,Rr(n),a},t.finishDraft=function(r,n){var a=r&&r[Se],u=a.A;return Ar(u,n),br(void 0,u)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!Kn&&Ie(20),this.O=r},t.applyPatches=function(r,n){var a;for(a=n.length-1;a>=0;a--){var u=n[a];if(u.path.length===0&&u.op==="replace"){r=u.value;break}}a>-1&&(n=n.slice(a+1));var s=He("Patches").$;return ot(r)?s(r,n):this.produce(r,function(o){return s(o,n)})},e}(),Pe=new to,un=Pe.produce;Pe.produceWithPatches.bind(Pe);Pe.setAutoFreeze.bind(Pe);Pe.setUseProxies.bind(Pe);Pe.applyPatches.bind(Pe);var Un=Pe.createDraft.bind(Pe),Gn=Pe.finishDraft.bind(Pe),ro={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var a=g.transform(r,t,{affinity:n});e.current=a,a==null&&e.unref()}}},no={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var a=te.transform(r,t,{affinity:n});e.current=a,a==null&&e.unref()}}},ao={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var a=E.transform(r,t,{affinity:n});e.current=a,a==null&&e.unref()}}},sr=new WeakMap,ir=new WeakMap,Tt=new WeakMap,Su=new WeakMap,Yn=new WeakMap,_n=new WeakMap,Jn=new WeakMap,g={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=g.levels(e,t);return r?n=n.slice(1):n=n.slice(0,-1),n},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var a=e[n],u=t[n];if(a!==u)break;r.push(a)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),u=e[r],s=t[r];return g.equals(n,a)&&u>s},endsAt(e,t){var r=e.length,n=e.slice(0,r),a=t.slice(0,r);return g.equals(n,a)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),u=e[r],s=t[r];return g.equals(n,a)&&u<s},equals(e,t){return e.length===t.length&&e.every((r,n)=>r===t[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return g.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&g.compare(e,t)===0},isBefore(e,t){return g.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&g.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&g.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&g.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&g.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1),a=e[e.length-1],u=t[t.length-1];return a!==u&&g.equals(r,n)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=[],a=0;a<=e.length;a++)n.push(e.slice(0,a));return r&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!g.isAncestor(t,e)&&!g.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:a="forward"}=r;if(e.length===0)return n;switch(t.type){case"insert_node":{var{path:u}=t;(g.equals(u,n)||g.endsBefore(u,n)||g.isAncestor(u,n))&&(n[u.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(g.equals(s,n)||g.isAncestor(s,n))return null;g.endsBefore(s,n)&&(n[s.length-1]-=1);break}case"merge_node":{var{path:o,position:c}=t;g.equals(o,n)||g.endsBefore(o,n)?n[o.length-1]-=1:g.isAncestor(o,n)&&(n[o.length-1]-=1,n[o.length]+=c);break}case"split_node":{var{path:i,position:v}=t;if(g.equals(i,n)){if(a==="forward")n[n.length-1]+=1;else if(a!=="backward")return null}else g.endsBefore(i,n)?n[i.length-1]+=1:g.isAncestor(i,n)&&e[i.length]>=v&&(n[i.length-1]+=1,n[i.length]-=v);break}case"move_node":{var{path:d,newPath:D}=t;if(g.equals(d,D))return n;if(g.isAncestor(d,n)||g.equals(d,n)){var p=D.slice();return g.endsBefore(d,D)&&d.length<D.length&&(p[d.length-1]-=1),p.concat(n.slice(d.length))}else g.isSibling(d,D)&&(g.isAncestor(D,n)||g.equals(D,n))?g.endsBefore(d,n)?n[d.length-1]-=1:n[d.length-1]+=1:g.endsBefore(D,n)||g.equals(D,n)||g.isAncestor(D,n)?(g.endsBefore(d,n)&&(n[d.length-1]-=1),n[D.length-1]+=1):g.endsBefore(d,n)&&(g.equals(D,n)&&(n[D.length-1]+=1),n[d.length-1]-=1);break}}return n}};function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xn(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var uo=(e,t,r)=>{switch(r.type){case"insert_node":{var{path:n,node:a}=r,u=$.parent(e,n),s=n[n.length-1];if(s>u.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(u.children.splice(s,0,a),t)for(var[o,c]of E.points(t))t[c]=te.transform(o,r);break}case"insert_text":{var{path:i,offset:v,text:d}=r;if(d.length===0)break;var D=$.leaf(e,i),p=D.text.slice(0,v),h=D.text.slice(v);if(D.text=p+d+h,t)for(var[l,B]of E.points(t))t[B]=te.transform(l,r);break}case"merge_node":{var{path:m}=r,A=$.get(e,m),O=g.previous(m),P=$.get(e,O),W=$.parent(e,m),H=m[m.length-1];if(q.isText(A)&&q.isText(P))P.text+=A.text;else if(!q.isText(A)&&!q.isText(P))P.children.push(...A.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interfaces: ").concat(Ce.stringify(A)," ").concat(Ce.stringify(P)));if(W.children.splice(H,1),t)for(var[T,Y]of E.points(t))t[Y]=te.transform(T,r);break}case"move_node":{var{path:S,newPath:V}=r;if(g.isAncestor(S,V))throw new Error("Cannot move a path [".concat(S,"] to new path [").concat(V,"] because the destination is inside itself."));var X=$.get(e,S),N=$.parent(e,S),z=S[S.length-1];N.children.splice(z,1);var k=g.transform(S,r),L=$.get(e,g.parent(k)),w=k[k.length-1];if(L.children.splice(w,0,X),t)for(var[I,U]of E.points(t))t[U]=te.transform(I,r);break}case"remove_node":{var{path:R}=r,G=R[R.length-1],J=$.parent(e,R);if(J.children.splice(G,1),t)for(var[re,be]of E.points(t)){var C=te.transform(re,r);if(t!=null&&C!=null)t[be]=C;else{var j=void 0,y=void 0;for(var[M,ee]of $.texts(e))if(g.compare(ee,R)===-1)j=[M,ee];else{y=[M,ee];break}var _=!1;j&&y&&(g.equals(y[1],R)?_=!g.hasPrevious(y[1]):_=g.common(j[1],R).length<g.common(y[1],R).length),j&&!_?(re.path=j[1],re.offset=j[0].text.length):y?(re.path=y[1],re.offset=0):t=null}}break}case"remove_text":{var{path:ne,offset:oe,text:se}=r;if(se.length===0)break;var he=$.leaf(e,ne),ae=he.text.slice(0,oe),me=he.text.slice(oe+se.length);if(he.text=ae+me,t)for(var[Be,De]of E.points(t))t[De]=te.transform(Be,r);break}case"set_node":{var{path:$e,properties:Le,newProperties:Fe}=r;if($e.length===0)throw new Error("Cannot set properties on the root node!");var je=$.get(e,$e);for(var ce in Fe){if(ce==="children"||ce==="text")throw new Error('Cannot set the "'.concat(ce,'" property of nodes!'));var xe=Fe[ce];xe==null?delete je[ce]:je[ce]=xe}for(var We in Le)Fe.hasOwnProperty(We)||delete je[We];break}case"set_selection":{var{newProperties:ue}=r;if(ue==null)t=ue;else{if(t==null){if(!E.isRange(ue))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Ce.stringify(ue)," when there is no current selection."));t=wt({},ue)}for(var Re in ue){var Ht=ue[Re];if(Ht==null){if(Re==="anchor"||Re==="focus")throw new Error('Cannot remove the "'.concat(Re,'" selection property'));delete t[Re]}else t[Re]=Ht}}break}case"split_node":{var{path:Ne,position:Qe,properties:Vt}=r;if(Ne.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ne,"] because the root node cannot be split."));var et=$.get(e,Ne),ys=$.parent(e,Ne),Os=Ne[Ne.length-1],mr;if(q.isText(et)){var xs=et.text.slice(0,Qe),Ss=et.text.slice(Qe);et.text=xs,mr=wt(wt({},Vt),{},{text:Ss})}else{var Ps=et.children.slice(0,Qe),Ts=et.children.slice(Qe);et.children=Ps,mr=wt(wt({},Vt),{},{children:Ts})}if(ys.children.splice(Os+1,0,mr),t)for(var[$s,js]of E.points(t))t[js]=te.transform($s,r);break}}return t},so={transform(e,t){e.children=Un(e.children);var r=e.selection&&Un(e.selection);try{r=uo(e,r,t)}finally{e.children=Gn(e.children),r?e.selection=ot(r)?Gn(r):r:e.selection=null}}},io={insertNodes(e,t,r){e.insertNodes(t,r)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,r){e.setNodes(t,r)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,r){e.unsetNodes(t,r)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,r){e.wrapNodes(t,r)}},oo={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,r){e.setPoint(t,r)},setSelection(e,t){e.setSelection(t)}},Pu=(e,t)=>{for(var r in e){var n=e[r],a=t[r];if(pe(n)&&pe(a)){if(!Pu(n,a))return!1}else if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!1;for(var u=0;u<n.length;u++)if(n[u]!==a[u])return!1}else if(n!==a)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0};function lo(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function qe(e,t){if(e==null)return{};var r=lo(e,t),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var fo=["anchor","focus"];function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zn(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var E={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:a}=e;return E.isBackward(e)===r?[n,a]:[a,n]},end(e){var[,t]=E.edges(e);return t},equals(e,t){return te.equals(e.anchor,t.anchor)&&te.equals(e.focus,t.focus)},includes(e,t){if(E.isRange(t)){if(E.includes(e,t.anchor)||E.includes(e,t.focus))return!0;var[r,n]=E.edges(e),[a,u]=E.edges(t);return te.isBefore(r,a)&&te.isAfter(n,u)}var[s,o]=E.edges(e),c=!1,i=!1;return te.isPoint(t)?(c=te.compare(t,s)>=0,i=te.compare(t,o)<=0):(c=g.compare(t,s.path)>=0,i=g.compare(t,o.path)<=0),c&&i},intersection(e,t){var r=qe(e,fo),[n,a]=E.edges(e),[u,s]=E.edges(t),o=te.isBefore(n,u)?u:n,c=te.isBefore(a,s)?a:s;return te.isBefore(c,o)?null:co({anchor:o,focus:c},r)},isBackward(e){var{anchor:t,focus:r}=e;return te.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return te.equals(t,r)},isExpanded(e){return!E.isCollapsed(e)},isForward(e){return!E.isBackward(e)},isRange(e){return pe(e)&&te.isPoint(e.anchor)&&te.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=E.edges(e);return t},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return un(e,n=>{if(n===null)return null;var{affinity:a="inward"}=r,u,s;if(a==="inward"){var o=E.isCollapsed(n);E.isForward(n)?(u="forward",s=o?u:"backward"):(u="backward",s=o?u:"forward")}else a==="outward"?E.isForward(n)?(u="backward",s="forward"):(u="forward",s="backward"):(u=a,s=a);var c=te.transform(n.anchor,t,{affinity:u}),i=te.transform(n.focus,t,{affinity:s});if(!c||!i)return null;n.anchor=c,n.focus=i})}},Qn=e=>pe(e)&&$.isNodeList(e.children)&&!f.isEditor(e),K={isAncestor(e){return pe(e)&&$.isNodeList(e.children)},isElement:Qn,isElementList(e){return Array.isArray(e)&&e.every(t=>K.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Qn(t)&&t[n]===r},matches(e,t){for(var r in t)if(r!=="children"&&e[r]!==t[r])return!1;return!0}},vo=["children"],ho=["text"],ea=new WeakMap,$={ancestor(e,t){var r=$.get(e,t);if(q.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Ce.stringify(r)));return r},*ancestors(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of g.ancestors(t,r)){var a=$.ancestor(e,n),u=[a,n];yield u}},child(e,t){if(q.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Ce.stringify(e)));var r=e.children[t];if(r==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Ce.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:n=!1}=r,a=$.ancestor(e,t),{children:u}=a,s=n?u.length-1:0;n?s>=0:s<u.length;){var o=$.child(a,s),c=t.concat(s);yield[o,c],s=n?s-1:s+1}},common(e,t,r){var n=g.common(t,r),a=$.get(e,n);return[a,n]},descendant(e,t){var r=$.get(e,t);if(f.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Ce.stringify(r)));return r},*descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of $.nodes(e,t))n.length!==0&&(yield[r,n])},*elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of $.nodes(e,t))K.isElement(r)&&(yield[r,n])},extractProps(e){if(K.isAncestor(e)){var t=qe(e,vo);return t}else{var t=qe(e,ho);return t}},first(e,t){for(var r=t.slice(),n=$.get(e,r);n&&!(q.isText(n)||n.children.length===0);)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(q.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Ce.stringify(e)));var r=un({children:e.children},n=>{var[a,u]=E.edges(t),s=$.nodes(n,{reverse:!0,pass:D=>{var[,p]=D;return!E.includes(t,p)}});for(var[,o]of s){if(!E.includes(t,o)){var c=$.parent(n,o),i=o[o.length-1];c.children.splice(i,1)}if(g.equals(o,u.path)){var v=$.leaf(n,o);v.text=v.text.slice(0,u.offset)}if(g.equals(o,a.path)){var d=$.leaf(n,o);d.text=d.text.slice(a.offset)}}f.isEditor(n)&&(n.selection=null)});return r.children},get(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(q.isText(r)||!r.children[a])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Ce.stringify(e)));r=r.children[a]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(q.isText(r)||!r.children[a])return!1;r=r.children[a]}return!0},isNode(e){return q.isText(e)||K.isElement(e)||f.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=ea.get(e);if(t!==void 0)return t;var r=e.every(n=>$.isNode(n));return ea.set(e,r),r},last(e,t){for(var r=t.slice(),n=$.get(e,r);n&&!(q.isText(n)||n.children.length===0);){var a=n.children.length-1;n=n.children[a],r.push(a)}return[n,r]},leaf(e,t){var r=$.get(e,t);if(!q.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Ce.stringify(r)));return r},*levels(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of g.levels(t,r)){var a=$.get(e,n);yield[a,n]}},matches(e,t){return K.isElement(e)&&K.isElementProps(t)&&K.matches(e,t)||q.isText(e)&&q.isTextProps(t)&&q.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:a=[],to:u}=t,s=new Set,o=[],c=e;!(u&&(n?g.isBefore(o,u):g.isAfter(o,u)));){if(s.has(c)||(yield[c,o]),!s.has(c)&&!q.isText(c)&&c.children.length!==0&&(r==null||r([c,o])===!1)){s.add(c);var i=n?c.children.length-1:0;g.isAncestor(o,a)&&(i=a[o.length]),o=o.concat(i),c=$.get(e,o);continue}if(o.length===0)break;if(!n){var v=g.next(o);if($.has(e,v)){o=v,c=$.get(e,o);continue}}if(n&&o[o.length-1]!==0){var d=g.previous(o);o=d,c=$.get(e,o);continue}o=g.parent(o),c=$.get(e,o),s.add(c)}},parent(e,t){var r=g.parent(t),n=$.get(e,r);if(q.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string(e){return q.isText(e)?e.text:e.children.map($.string).join("")},*texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[r,n]of $.nodes(e,t))q.isText(r)&&(yield[r,n])}};function ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ta(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ta(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var xt={isNodeOperation(e){return xt.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!pe(e))return!1;switch(e.type){case"insert_node":return g.isPath(e.path)&&$.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&g.isPath(e.path);case"merge_node":return typeof e.position=="number"&&g.isPath(e.path)&&pe(e.properties);case"move_node":return g.isPath(e.path)&&g.isPath(e.newPath);case"remove_node":return g.isPath(e.path)&&$.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&g.isPath(e.path);case"set_node":return g.isPath(e.path)&&pe(e.properties)&&pe(e.newProperties);case"set_selection":return e.properties===null&&E.isRange(e.newProperties)||e.newProperties===null&&E.isRange(e.properties)||pe(e.properties)&&pe(e.newProperties);case"split_node":return g.isPath(e.path)&&typeof e.position=="number"&&pe(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>xt.isOperation(t))},isSelectionOperation(e){return xt.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return xt.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return ve(ve({},e),{},{type:"remove_node"});case"insert_text":return ve(ve({},e),{},{type:"remove_text"});case"merge_node":return ve(ve({},e),{},{type:"split_node",path:g.previous(e.path)});case"move_node":{var{newPath:t,path:r}=e;if(g.equals(t,r))return e;if(g.isSibling(r,t))return ve(ve({},e),{},{path:t,newPath:r});var n=g.transform(r,e),a=g.transform(g.next(r),e);return ve(ve({},e),{},{path:n,newPath:a})}case"remove_node":return ve(ve({},e),{},{type:"insert_node"});case"remove_text":return ve(ve({},e),{},{type:"insert_text"});case"set_node":{var{properties:u,newProperties:s}=e;return ve(ve({},e),{},{properties:s,newProperties:u})}case"set_selection":{var{properties:o,newProperties:c}=e;return o==null?ve(ve({},e),{},{properties:c,newProperties:null}):c==null?ve(ve({},e),{},{properties:null,newProperties:o}):ve(ve({},e),{},{properties:c,newProperties:o})}case"split_node":return ve(ve({},e),{},{type:"merge_node",path:g.next(e.path)})}}},ra=new WeakMap,go=e=>{var t=ra.get(e);if(t!==void 0)return t;if(!pe(e))return!1;var r=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||pe(e.marks))&&(e.selection===null||E.isRange(e.selection))&&$.isNodeList(e.children)&&xt.isOperationList(e.operations);return ra.set(e,r),r},f={above(e,t){return e.above(t)},addMark(e,t,r){e.addMark(t,r)},after(e,t,r){return e.after(t,r)},before(e,t,r){return e.before(t,r)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,r){e.insertFragment(t,r)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,r){return e.isEdge(t,r)},isEditor(e){return go(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,r){return e.isEnd(t,r)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,r){return e.isStart(t,r)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,r){return e.leaf(t,r)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,r){return e.node(t,r)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,r){return e.parent(t,r)},path(e,t,r){return e.path(t,r)},pathRef(e,t,r){return e.pathRef(t,r)},pathRefs(e){return e.pathRefs()},point(e,t,r){return e.point(t,r)},pointRef(e,t,r){return e.pointRef(t,r)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,r){return e.range(t,r)},rangeRef(e,t,r){return e.rangeRef(t,r)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,r){return e.string(t,r)},unhangRange(e,t,r){return e.unhangRange(t,r)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},Do={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(g.isPath)}};function na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?na(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):na(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var te={compare(e,t){var r=g.compare(e.path,t.path);return r===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter(e,t){return te.compare(e,t)===1},isBefore(e,t){return te.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&g.equals(e.path,t.path)},isPoint(e){return pe(e)&&typeof e.offset=="number"&&g.isPath(e.path)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return un(e,n=>{if(n===null)return null;var{affinity:a="forward"}=r,{path:u,offset:s}=n;switch(t.type){case"insert_node":case"move_node":{n.path=g.transform(u,t,r);break}case"insert_text":{g.equals(t.path,u)&&(t.offset<s||t.offset===s&&a==="forward")&&(n.offset+=t.text.length);break}case"merge_node":{g.equals(t.path,u)&&(n.offset+=t.position),n.path=g.transform(u,t,r);break}case"remove_text":{g.equals(t.path,u)&&t.offset<=s&&(n.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(g.equals(t.path,u)||g.isAncestor(t.path,u))return null;n.path=g.transform(u,t,r);break}case"split_node":{if(g.equals(t.path,u)){if(t.position===s&&a==null)return null;(t.position<s||t.position===s&&a==="forward")&&(n.offset-=t.position,n.path=g.transform(u,t,aa(aa({},r),{},{affinity:"forward"})))}else n.path=g.transform(u,t,r);break}}})}},ua=void 0,Ce={setScrubber(e){ua=e},stringify(e){return JSON.stringify(e,ua)}},Co=["text"],po=["anchor","focus"];function sa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sa(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var q={equals(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;function a(u){var s=qe(u,Co);return s}return Pu(n?a(e):e,n?a(t):t)},isText(e){return pe(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>q.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var r in t)if(r!=="text"&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[Ve({},e)];for(var n of t){var a=qe(n,po),[u,s]=E.edges(n),o=[],c=0,i=u.offset,v=s.offset;for(var d of r){var{length:D}=d.text,p=c;if(c+=D,i<=p&&c<=v){Object.assign(d,a),o.push(d);continue}if(i!==v&&(i===c||v===p)||i>c||v<p||v===p&&p!==0){o.push(d);continue}var h=d,l=void 0,B=void 0;if(v<c){var m=v-p;B=Ve(Ve({},h),{},{text:h.text.slice(m)}),h=Ve(Ve({},h),{},{text:h.text.slice(0,m)})}if(i>p){var A=i-p;l=Ve(Ve({},h),{},{text:h.text.slice(0,A)}),h=Ve(Ve({},h),{},{text:h.text.slice(A)})}Object.assign(h,a),l&&o.push(l),o.push(h),B&&o.push(B)}r=o}return r}},sn=e=>e.selection?e.selection:e.children.length>0?f.end(e,[]):[0],pt=(e,t)=>{var[r]=f.node(e,t);return n=>n===r},on=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!r,a=r?Fo(t):t,u=Z.None,s=Z.None,o=0,c=null,i=null;for(var v of a){var d=v.codePointAt(0);if(!d)break;var D=Io(v,d);if([u,s]=n?[s,D]:[D,u],vt(u,Z.ZWJ)&&vt(s,Z.ExtPict)&&(n?c=ia(t.substring(0,o)):c=ia(t.substring(0,t.length-o)),!c)||vt(u,Z.RI)&&vt(s,Z.RI)&&(i!==null?i=!i:n?i=!0:i=zo(t.substring(0,t.length-o)),!i)||u!==Z.None&&s!==Z.None&&ko(u,s))break;o+=v.length}return o||1},mo=/\s/,Bo=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Eo=/['\u2018\u2019]/,Ao=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,a=!1;t.length>0;){var u=on(t,r),[s,o]=ln(t,u,r);if(bo(s,o,r))a=!0,n+=u;else if(!a)n+=u;else break;t=o}return n},ln=(e,t,r)=>{if(r){var n=e.length-t;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,t),e.slice(t)]},bo=function e(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(mo.test(t))return!1;if(Eo.test(t)){var a=on(r,n),[u,s]=ln(r,a,n);if(e(u,s,n))return!0}return!Bo.test(t)},Fo=function*(t){for(var r=t.length-1,n=0;n<t.length;n++){var a=t.charAt(r-n);if(yo(a.charCodeAt(0))){var u=t.charAt(r-n-1);if(wo(u.charCodeAt(0))){yield u+a,n++;continue}}yield a}},wo=e=>e>=55296&&e<=56319,yo=e=>e>=56320&&e<=57343,Z;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(Z||(Z={}));var Oo=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,xo=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,So=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Po=/^[\u1100-\u115F\uA960-\uA97C]$/,To=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,$o=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,jo=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Ro=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,No=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Io=(e,t)=>{var r=Z.Any;return e.search(Oo)!==-1&&(r|=Z.Extend),t===8205&&(r|=Z.ZWJ),t>=127462&&t<=127487&&(r|=Z.RI),e.search(xo)!==-1&&(r|=Z.Prepend),e.search(So)!==-1&&(r|=Z.SpacingMark),e.search(Po)!==-1&&(r|=Z.L),e.search(To)!==-1&&(r|=Z.V),e.search($o)!==-1&&(r|=Z.T),e.search(jo)!==-1&&(r|=Z.LV),e.search(Ro)!==-1&&(r|=Z.LVT),e.search(No)!==-1&&(r|=Z.ExtPict),r};function vt(e,t){return(e&t)!==0}var Mo=[[Z.L,Z.L|Z.V|Z.LV|Z.LVT],[Z.LV|Z.V,Z.V|Z.T],[Z.LVT|Z.T,Z.T],[Z.Any,Z.Extend|Z.ZWJ],[Z.Any,Z.SpacingMark],[Z.Prepend,Z.Any],[Z.ZWJ,Z.ExtPict],[Z.RI,Z.RI]];function ko(e,t){return Mo.findIndex(r=>vt(e,r[0])&&vt(t,r[1]))===-1}var Lo=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,ia=e=>e.search(Lo)!==-1,Wo=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,zo=e=>{var t=e.match(Wo);if(t===null)return!1;var r=t[0].length/2;return r%2===1},Ho={delete(e,t){e.delete(t)},insertFragment(e,t,r){e.insertFragment(t,r)},insertText(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:a=sn(e)}=r;if(g.isPath(a)&&(a=f.range(e,a)),E.isRange(a))if(E.isCollapsed(a))a=a.anchor;else{var u=E.end(a);if(!n&&f.void(e,{at:u}))return;var s=E.start(a),o=f.pointRef(e,s),c=f.pointRef(e,u);x.delete(e,{at:a,voids:n});var i=o.unref(),v=c.unref();a=i||v,x.setSelection(e,{anchor:a,focus:a})}if(!(!n&&f.void(e,{at:a})||f.elementReadOnly(e,{at:a}))){var{path:d,offset:D}=a;t.length>0&&e.apply({type:"insert_text",path:d,offset:D,text:t})}})}};function oa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oa(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var x=Ut(Ut(Ut(Ut({},so),io),oo),Ho),Vo=(e,t)=>{for(var r of f.pathRefs(e))ro.transform(r,t);for(var n of f.pointRefs(e))no.transform(n,t);for(var a of f.rangeRefs(e))ao.transform(a,t);var u=sr.get(e)||[],s=ir.get(e)||new Set,o,c,i=h=>{if(h){var l=h.join(",");c.has(l)||(c.add(l),o.push(h))}};if(g.operationCanTransformPath(t)){o=[],c=new Set;for(var v of u){var d=g.transform(v,t);i(d)}}else o=u,c=s;var D=e.getDirtyPaths(t);for(var p of D)i(p);sr.set(e,o),ir.set(e,c),x.transform(e,t),e.operations.push(t),f.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),Tt.get(e)||(Tt.set(e,!0),Promise.resolve().then(()=>{Tt.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},Ko=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:r}=t;return g.levels(r)}case"insert_node":{var{node:n,path:a}=t,u=g.levels(a),s=q.isText(n)?[]:Array.from($.nodes(n),V=>{var[,X]=V;return a.concat(X)});return[...u,...s]}case"merge_node":{var{path:o}=t,c=g.ancestors(o),i=g.previous(o);return[...c,i]}case"move_node":{var{path:v,newPath:d}=t;if(g.equals(v,d))return[];var D=[],p=[];for(var h of g.ancestors(v)){var l=g.transform(h,t);D.push(l)}for(var B of g.ancestors(d)){var m=g.transform(B,t);p.push(m)}var A=p[p.length-1],O=d[d.length-1],P=A.concat(O);return[...D,...p,P]}case"remove_node":{var{path:W}=t,H=g.ancestors(W);return[...H]}case"split_node":{var{path:T}=t,Y=g.levels(T),S=g.next(T);return[...Y,S]}default:return[]}},qo=e=>{var{selection:t}=e;return t?$.fragment(e,t):[]},Uo=(e,t)=>{var[r,n]=t;if(!q.isText(r)){if(K.isElement(r)&&r.children.length===0){var a={text:""};x.insertNodes(e,a,{at:n.concat(0),voids:!0});return}for(var u=f.isEditor(r)?!1:K.isElement(r)&&(e.isInline(r)||r.children.length===0||q.isText(r.children[0])||e.isInline(r.children[0])),s=0,o=0;o<r.children.length;o++,s++){var c=$.get(e,n);if(!q.isText(c)){var i=c.children[s],v=c.children[s-1],d=o===r.children.length-1,D=q.isText(i)||K.isElement(i)&&e.isInline(i);if(D!==u)x.removeNodes(e,{at:n.concat(s),voids:!0}),s--;else if(K.isElement(i)){if(e.isInline(i)){if(v==null||!q.isText(v)){var p={text:""};x.insertNodes(e,p,{at:n.concat(s),voids:!0}),s++}else if(d){var h={text:""};x.insertNodes(e,h,{at:n.concat(s+1),voids:!0}),s++}}}else v!=null&&q.isText(v)&&(q.equals(i,v,{loose:!0})?(x.mergeNodes(e,{at:n.concat(s),voids:!0}),s--):v.text===""?(x.removeNodes(e,{at:n.concat(s-1),voids:!0}),s--):i.text===""&&(x.removeNodes(e,{at:n.concat(s),voids:!0}),s--))}}}},Go=(e,t)=>{var{iteration:r,initialDirtyPathsLength:n}=t,a=n*42;if(r>a)throw new Error("Could not completely normalize the editor after ".concat(a," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},Yo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:a="lowest",at:u=t.selection,match:s}=r;if(u){var o=f.path(t,u),c=a==="lowest";for(var[i,v]of f.levels(t,{at:o,voids:n,match:s,reverse:c}))if(!q.isText(i)){if(E.isRange(u)){if(g.isAncestor(v,u.anchor.path)&&g.isAncestor(v,u.focus.path))return[i,v]}else if(!g.equals(o,v))return[i,v]}}};function la(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?la(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):la(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var _o=(e,t,r)=>{var{selection:n}=e;if(n){var a=(d,D)=>{if(!q.isText(d))return!1;var[p,h]=f.parent(e,D);return!e.isVoid(p)||e.markableVoid(p)},u=E.isExpanded(n),s=!1;if(!u){var[o,c]=f.node(e,n);if(o&&a(o,c)){var[i]=f.parent(e,c);s=i&&e.markableVoid(i)}}if(u||s)x.setNodes(e,{[t]:r},{match:a,split:!0,voids:!0});else{var v=fa(fa({},f.marks(e)||{}),{},{[t]:r});e.marks=v,Tt.get(e)||e.onChange()}}};function ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ca(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ca(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Jo=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=f.point(t,r,{edge:"end"}),u=f.end(t,[]),s={anchor:a,focus:u},{distance:o=1}=n,c=0,i;for(var v of f.positions(t,va(va({},n),{},{at:s}))){if(c>o)break;c!==0&&(i=v),c++}return i};function da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?da(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):da(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Xo=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=f.start(t,[]),u=f.point(t,r,{edge:"start"}),s={anchor:a,focus:u},{distance:o=1}=n,c=0,i;for(var v of f.positions(t,ha(ha({},n),{},{at:s,reverse:!0}))){if(c>o)break;c!==0&&(i=v),c++}return i},Zo=(e,t)=>{var{selection:r}=e;r&&E.isCollapsed(r)&&x.delete(e,{unit:t,reverse:!0})},Qo=(e,t)=>{var{selection:r}=e;r&&E.isCollapsed(r)&&x.delete(e,{unit:t})},el=function(t){var{direction:r="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=t;n&&E.isExpanded(n)&&x.delete(t,{reverse:r==="backward"})},tl=(e,t)=>[f.start(e,t),f.end(e,t)];function ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ga(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ga(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var rl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return f.above(t,Da(Da({},r),{},{match:n=>K.isElement(n)&&f.isElementReadOnly(t,n)}))},nl=(e,t)=>f.point(e,t,{edge:"end"}),al=(e,t)=>{var r=f.path(e,t,{edge:"start"});return f.node(e,r)},ul=(e,t)=>{var r=f.range(e,t);return $.fragment(e,r)};function Ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ca(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ca(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var sl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return f.above(t,pa(pa({},r),{},{match:n=>K.isElement(n)&&f.isVoid(t,n)}))},il=(e,t)=>t.children.some(r=>K.isElement(r)&&f.isBlock(e,r)),ol=(e,t)=>t.children.some(r=>q.isText(r)||f.isInline(e,r)),ll=(e,t)=>$.has(e,t),fl=(e,t)=>t.children.every(r=>q.isText(r)),cl=e=>{x.splitNodes(e,{always:!0})},vl=(e,t,r)=>{x.insertNodes(e,t,r)},dl=e=>{x.splitNodes(e,{always:!0})};function ma(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ma(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ma(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var gl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a,marks:u}=t;if(a){if(u){var s=hl({text:r},u);x.insertNodes(t,s,{at:n.at,voids:n.voids})}else x.insertText(t,r,n);t.marks=null}},Dl=(e,t)=>!e.isInline(t),Cl=(e,t,r)=>f.isStart(e,t,r)||f.isEnd(e,t,r),pl=(e,t)=>{var{children:r}=t,[n]=r;return r.length===0||r.length===1&&q.isText(n)&&n.text===""&&!e.isVoid(t)},ml=(e,t,r)=>{var n=f.end(e,r);return te.equals(t,n)},Bl=e=>{var t=Su.get(e);return t===void 0?!0:t},El=(e,t,r)=>{if(t.offset!==0)return!1;var n=f.start(e,r);return te.equals(t,n)},Al=(e,t)=>{var r=f.path(e,t,{edge:"end"});return f.node(e,r)},bl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=f.path(t,r,n),u=$.leaf(t,a);return[u,a]};function*Fl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:a=!1}=t,{match:u}=t;if(u==null&&(u=()=>!0),!!r){var s=[],o=f.path(e,r);for(var[c,i]of $.levels(e,o))if(u(c,i)&&(s.push([c,i]),!a&&K.isElement(c)&&f.isVoid(e,c)))break;n&&s.reverse(),yield*s}}var wl=["text"],yl=["text"],Ol=function(t){var{marks:r,selection:n}=t;if(!n)return null;if(r)return r;if(E.isExpanded(n)){var[a]=f.nodes(t,{match:q.isText});if(a){var[u]=a,s=qe(u,wl);return s}else return{}}var{anchor:o}=n,{path:c}=o,[i]=f.leaf(t,c);if(o.offset===0){var v=f.previous(t,{at:c,match:q.isText}),d=f.above(t,{match:m=>K.isElement(m)&&f.isVoid(t,m)&&t.markableVoid(m)});if(!d){var D=f.above(t,{match:m=>K.isElement(m)&&f.isBlock(t,m)});if(v&&D){var[p,h]=v,[,l]=D;g.isAncestor(l,h)&&(i=p)}}}var B=qe(i,yl);return B},xl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=r,{match:u,at:s=t.selection}=r;if(s){var o=f.after(t,s,{voids:a});if(o){var[,c]=f.last(t,[]),i=[o.path,c];if(g.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(u==null)if(g.isPath(s)){var[v]=f.parent(t,s);u=D=>v.children.includes(D)}else u=()=>!0;var[d]=f.nodes(t,{at:i,match:u,mode:n,voids:a});return d}}},Sl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=f.path(t,r,n),u=$.get(t,a);return[u,a]};function*Pl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:a=!1,reverse:u=!1,voids:s=!1,ignoreNonSelectable:o=!1}=t,{match:c}=t;if(c||(c=()=>!0),!!r){var i,v;if(Do.isSpan(r))i=r[0],v=r[1];else{var d=f.path(e,r,{edge:"start"}),D=f.path(e,r,{edge:"end"});i=u?D:d,v=u?d:D}var p=$.nodes(e,{reverse:u,from:i,to:v,pass:P=>{var[W]=P;return K.isElement(W)?!!(!s&&(f.isVoid(e,W)||f.isElementReadOnly(e,W))||o&&!f.isSelectable(e,W)):!1}}),h=[],l;for(var[B,m]of p)if(!(o&&K.isElement(B)&&!f.isSelectable(e,B))){var A=l&&g.compare(m,l[1])===0;if(!(n==="highest"&&A)){if(!c(B,m)){if(a&&!A&&q.isText(B))return;continue}if(n==="lowest"&&A){l=[B,m];continue}var O=n==="lowest"?l:[B,m];O&&(a?h.push(O):yield O),l=[B,m]}}n==="lowest"&&l&&(a?h.push(l):yield l),a&&(yield*h)}}var Tl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:a}=r,u=v=>sr.get(v)||[],s=v=>ir.get(v)||new Set,o=v=>{var d=u(v).pop(),D=d.join(",");return s(v).delete(D),d};if(f.isNormalizing(t)){if(n){var c=Array.from($.nodes(t),v=>{var[,d]=v;return d}),i=new Set(c.map(v=>v.join(",")));sr.set(t,c),ir.set(t,i)}u(t).length!==0&&f.withoutNormalizing(t,()=>{for(var v of u(t))if($.has(t,v)){var d=f.node(t,v),[D,p]=d;K.isElement(D)&&D.children.length===0&&t.normalizeNode(d,{operation:a})}for(var h=u(t),l=h.length,B=0;h.length!==0;){if(!t.shouldNormalize({dirtyPaths:h,iteration:B,initialDirtyPathsLength:l,operation:a}))return;var m=o(t);if($.has(t,m)){var A=f.node(t,m);t.normalizeNode(A,{operation:a})}B++,h=u(t)}})}},$l=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=f.path(t,r,n),u=g.parent(a),s=f.node(t,u);return s},jl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:r,affinity:a,unref(){var{current:o}=u,c=f.pathRefs(t);return c.delete(u),u.current=null,o}},s=f.pathRefs(t);return s.add(u),u},Rl=e=>{var t=Yn.get(e);return t||(t=new Set,Yn.set(e,t)),t},Nl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:a,edge:u}=n;if(g.isPath(r)){if(u==="start"){var[,s]=$.first(t,r);r=s}else if(u==="end"){var[,o]=$.last(t,r);r=o}}return E.isRange(r)&&(u==="start"?r=E.start(r):u==="end"?r=E.end(r):r=g.common(r.anchor.path,r.focus.path)),te.isPoint(r)&&(r=r.path),a!=null&&(r=r.slice(0,a)),r},Il=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:r,affinity:a,unref(){var{current:o}=u,c=f.pointRefs(t);return c.delete(u),u.current=null,o}},s=f.pointRefs(t);return s.add(u),u},Ml=e=>{var t=_n.get(e);return t||(t=new Set,_n.set(e,t)),t},kl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:a="start"}=n;if(g.isPath(r)){var u;if(a==="end"){var[,s]=$.last(t,r);u=s}else{var[,o]=$.first(t,r);u=o}var c=$.get(t,u);if(!q.isText(c))throw new Error("Cannot get the ".concat(a," point in the node at path [").concat(r,"] because it has no ").concat(a," text node."));return{path:u,offset:a==="end"?c.text.length:0}}if(E.isRange(r)){var[i,v]=E.edges(r);return a==="start"?i:v}return r};function*Ll(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:a=!1,voids:u=!1,ignoreNonSelectable:s=!1}=t;if(!r)return;var o=f.range(e,r),[c,i]=E.edges(o),v=a?i:c,d=!1,D="",p=0,h=0,l=0;for(var[B,m]of f.nodes(e,{at:r,reverse:a,voids:u,ignoreNonSelectable:s})){if(K.isElement(B)){if(!u&&(e.isVoid(B)||e.isElementReadOnly(B))){yield f.start(e,m);continue}if(e.isInline(B))continue;if(f.hasInlines(e,B)){var A=g.isAncestor(m,i.path)?i:f.end(e,m),O=g.isAncestor(m,c.path)?c:f.start(e,m);D=f.string(e,{anchor:O,focus:A},{voids:u}),d=!0}}if(q.isText(B)){var P=g.equals(m,v.path);for(P?(h=a?v.offset:B.text.length-v.offset,l=v.offset):(h=B.text.length,l=a?h:0),(P||d||n==="offset")&&(yield{path:m,offset:l},d=!1);;){if(p===0){if(D==="")break;p=W(D,n,a),D=ln(D,p,a)[1]}if(l=a?l-p:l+p,h=h-p,h<0){p=-h;break}p=0,yield{path:m,offset:l}}}}function W(H,T,Y){return T==="character"?on(H,Y):T==="word"?Ao(H,Y):T==="line"||T==="block"?H.length:1}}var Wl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=r,{match:u,at:s=t.selection}=r;if(s){var o=f.before(t,s,{voids:a});if(o){var[,c]=f.first(t,[]),i=[o.path,c];if(g.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(u==null)if(g.isPath(s)){var[v]=f.parent(t,s);u=D=>v.children.includes(D)}else u=()=>!0;var[d]=f.nodes(t,{reverse:!0,at:i,match:u,mode:n,voids:a});return d}}},zl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:r,affinity:a,unref(){var{current:o}=u,c=f.rangeRefs(t);return c.delete(u),u.current=null,o}},s=f.rangeRefs(t);return s.add(u),u},Hl=e=>{var t=Jn.get(e);return t||(t=new Set,Jn.set(e,t)),t},Vl=(e,t,r)=>{if(E.isRange(t)&&!r)return t;var n=f.start(e,t),a=f.end(e,r||t);return{anchor:n,focus:a}};function Ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ba(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ba(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ql=(e,t)=>{var{selection:r}=e;if(r){var n=(v,d)=>{if(!q.isText(v))return!1;var[D,p]=f.parent(e,d);return!e.isVoid(D)||e.markableVoid(D)},a=E.isExpanded(r),u=!1;if(!a){var[s,o]=f.node(e,r);if(s&&n(s,o)){var[c]=f.parent(e,o);u=c&&e.markableVoid(c)}}if(a||u)x.unsetNodes(e,t,{match:n,split:!0,voids:!0});else{var i=Kl({},f.marks(e)||{});delete i[t],e.marks=i,Tt.get(e)||e.onChange()}}},Ul=(e,t)=>{Su.set(e,t)},Gl=(e,t)=>f.point(e,t,{edge:"start"}),Yl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,u=f.range(t,r),[s,o]=E.edges(u),c="";for(var[i,v]of f.nodes(t,{at:u,match:q.isText,voids:a})){var d=i.text;g.equals(v,o.path)&&(d=d.slice(0,o.offset)),g.equals(v,s.path)&&(d=d.slice(s.offset)),c+=d}return c},_l=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,[u,s]=E.edges(r);if(u.offset!==0||s.offset!==0||E.isCollapsed(r)||g.hasPrevious(s.path))return r;var o=f.above(t,{at:s,match:h=>K.isElement(h)&&f.isBlock(t,h),voids:a}),c=o?o[1]:[],i=f.start(t,u),v={anchor:i,focus:s},d=!0;for(var[D,p]of f.nodes(t,{at:v,match:q.isText,reverse:!0,voids:a})){if(d){d=!1;continue}if(D.text!==""||g.isBefore(p,c)){s={path:p,offset:D.text.length};break}}return{anchor:u,focus:s}},Jl=(e,t)=>{var r=f.isNormalizing(e);f.setNormalizing(e,!1);try{t()}finally{f.setNormalizing(e,r)}f.normalize(e)},Xl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(t,()=>{var n,a,{reverse:u=!1,unit:s="character",distance:o=1,voids:c=!1}=r,{at:i=t.selection,hanging:v=!1}=r;if(i){var d=!1;if(E.isRange(i)&&E.isCollapsed(i)&&(d=!0,i=i.anchor),te.isPoint(i)){var D=f.void(t,{at:i,mode:"highest"});if(!c&&D){var[,p]=D;i=p}else{var h={unit:s,distance:o},l=u?f.before(t,i,h)||f.start(t,[]):f.after(t,i,h)||f.end(t,[]);i={anchor:i,focus:l},v=!0}}if(g.isPath(i)){x.removeNodes(t,{at:i,voids:c});return}if(!E.isCollapsed(i)){if(!v){var[,B]=E.edges(i),m=f.end(t,[]);te.equals(B,m)||(i=f.unhangRange(t,i,{voids:c}))}var[A,O]=E.edges(i),P=f.above(t,{match:ae=>K.isElement(ae)&&f.isBlock(t,ae),at:A,voids:c}),W=f.above(t,{match:ae=>K.isElement(ae)&&f.isBlock(t,ae),at:O,voids:c}),H=P&&W&&!g.equals(P[1],W[1]),T=g.equals(A.path,O.path),Y=c?null:(n=f.void(t,{at:A,mode:"highest"}))!==null&&n!==void 0?n:f.elementReadOnly(t,{at:A,mode:"highest"}),S=c?null:(a=f.void(t,{at:O,mode:"highest"}))!==null&&a!==void 0?a:f.elementReadOnly(t,{at:O,mode:"highest"});if(Y){var V=f.before(t,A);V&&P&&g.isAncestor(P[1],V.path)&&(A=V)}if(S){var X=f.after(t,O);X&&W&&g.isAncestor(W[1],X.path)&&(O=X)}var N=[],z;for(var k of f.nodes(t,{at:i,voids:c})){var[L,w]=k;z&&g.compare(w,z)===0||(!c&&K.isElement(L)&&(f.isVoid(t,L)||f.isElementReadOnly(t,L))||!g.isCommon(w,A.path)&&!g.isCommon(w,O.path))&&(N.push(k),z=w)}var I=Array.from(N,ae=>{var[,me]=ae;return f.pathRef(t,me)}),U=f.pointRef(t,A),R=f.pointRef(t,O),G="";if(!T&&!Y){var J=U.current,[re]=f.leaf(t,J),{path:be}=J,{offset:C}=A,j=re.text.slice(C);j.length>0&&(t.apply({type:"remove_text",path:be,offset:C,text:j}),G=j)}if(I.reverse().map(ae=>ae.unref()).filter(ae=>ae!==null).forEach(ae=>x.removeNodes(t,{at:ae,voids:c})),!S){var y=R.current,[M]=f.leaf(t,y),{path:ee}=y,_=T?A.offset:0,ne=M.text.slice(_,O.offset);ne.length>0&&(t.apply({type:"remove_text",path:ee,offset:_,text:ne}),G=ne)}!T&&H&&R.current&&U.current&&x.mergeNodes(t,{at:R.current,hanging:!0,voids:c}),d&&u&&s==="character"&&G.length>1&&G.match(/[\u0E00-\u0E7F]+/)&&x.insertText(t,G.slice(0,G.length-o));var oe=U.unref(),se=R.unref(),he=u?oe||se:se||oe;r.at==null&&he&&x.select(t,he)}}})},Zl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(t,()=>{var{hanging:a=!1,voids:u=!1}=n,{at:s=sn(t)}=n;if(r.length){if(E.isRange(s))if(a||(s=f.unhangRange(t,s,{voids:u})),E.isCollapsed(s))s=s.anchor;else{var[,o]=E.edges(s);if(!u&&f.void(t,{at:o}))return;var c=f.pointRef(t,o);x.delete(t,{at:s}),s=c.unref()}else g.isPath(s)&&(s=f.start(t,s));if(!(!u&&f.void(t,{at:s}))){var i=f.above(t,{at:s,match:C=>K.isElement(C)&&f.isInline(t,C),mode:"highest",voids:u});if(i){var[,v]=i;if(f.isEnd(t,s,v)){var d=f.after(t,v);s=d}else if(f.isStart(t,s,v)){var D=f.before(t,v);s=D}}var p=f.above(t,{match:C=>K.isElement(C)&&f.isBlock(t,C),at:s,voids:u}),[,h]=p,l=f.isStart(t,s,h),B=f.isEnd(t,s,h),m=l&&B,A=!l||l&&B,O=!B,[,P]=$.first({children:r},[]),[,W]=$.last({children:r},[]),H=[],T=C=>{var[j,y]=C,M=y.length===0;return M?!1:m?!0:!(A&&g.isAncestor(y,P)&&K.isElement(j)&&!t.isVoid(j)&&!t.isInline(j)||O&&g.isAncestor(y,W)&&K.isElement(j)&&!t.isVoid(j)&&!t.isInline(j))};for(var Y of $.nodes({children:r},{pass:T}))T(Y)&&H.push(Y);var S=[],V=[],X=[],N=!0,z=!1;for(var[k]of H)K.isElement(k)&&!t.isInline(k)?(N=!1,z=!0,V.push(k)):N?S.push(k):X.push(k);var[L]=f.nodes(t,{at:s,match:C=>q.isText(C)||f.isInline(t,C),mode:"highest",voids:u}),[,w]=L,I=f.isStart(t,s,w),U=f.isEnd(t,s,w),R=f.pathRef(t,B&&!X.length?g.next(h):h),G=f.pathRef(t,U?g.next(w):w);x.splitNodes(t,{at:s,match:C=>z?K.isElement(C)&&f.isBlock(t,C):q.isText(C)||f.isInline(t,C),mode:z?"lowest":"highest",always:z&&(!l||S.length>0)&&(!B||X.length>0),voids:u});var J=f.pathRef(t,!I||I&&U?g.next(w):w);if(x.insertNodes(t,S,{at:J.current,match:C=>q.isText(C)||f.isInline(t,C),mode:"highest",voids:u}),m&&!S.length&&V.length&&!X.length&&x.delete(t,{at:h,voids:u}),x.insertNodes(t,V,{at:R.current,match:C=>K.isElement(C)&&f.isBlock(t,C),mode:"lowest",voids:u}),x.insertNodes(t,X,{at:G.current,match:C=>q.isText(C)||f.isInline(t,C),mode:"highest",voids:u}),!n.at){var re;if(X.length>0&&G.current?re=g.previous(G.current):V.length>0&&R.current?re=g.previous(R.current):J.current&&(re=g.previous(J.current)),re){var be=f.end(t,re);x.select(t,be)}}J.unref(),R.unref(),G.unref()}}})},Ql=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=r,{selection:a}=t;if(a){if(n==="anchor")x.select(t,a.anchor);else if(n==="focus")x.select(t,a.focus);else if(n==="start"){var[u]=E.edges(a);x.select(t,u)}else if(n==="end"){var[,s]=E.edges(a);x.select(t,s)}}else return},ef=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},tf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=t,{distance:a=1,unit:u="character",reverse:s=!1}=r,{edge:o=null}=r;if(n){o==="start"&&(o=E.isBackward(n)?"focus":"anchor"),o==="end"&&(o=E.isBackward(n)?"anchor":"focus");var{anchor:c,focus:i}=n,v={distance:a,unit:u,ignoreNonSelectable:!0},d={};if(o==null||o==="anchor"){var D=s?f.before(t,c,v):f.after(t,c,v);D&&(d.anchor=D)}if(o==null||o==="focus"){var p=s?f.before(t,i,v):f.after(t,i,v);p&&(d.focus=p)}x.setSelection(t,d)}},rf=(e,t)=>{var{selection:r}=e;if(t=f.range(e,t),r){x.setSelection(e,t);return}if(!E.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Ce.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})};function Ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ea(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ea(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var nf=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a}=t,{edge:u="both"}=n;if(a){u==="start"&&(u=E.isBackward(a)?"focus":"anchor"),u==="end"&&(u=E.isBackward(a)?"anchor":"focus");var{anchor:s,focus:o}=a,c=u==="anchor"?s:o;x.setSelection(t,{[u==="anchor"?"anchor":"focus"]:Aa(Aa({},c),r)})}},af=(e,t)=>{var{selection:r}=e,n={},a={};if(r){for(var u in t)(u==="anchor"&&t.anchor!=null&&!te.equals(t.anchor,r.anchor)||u==="focus"&&t.focus!=null&&!te.equals(t.focus,r.focus)||u!=="anchor"&&u!=="focus"&&t[u]!==r[u])&&(n[u]=r[u],a[u]=t[u]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:a})}},uf=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(t,()=>{var{hanging:a=!1,voids:u=!1,mode:s="lowest"}=n,{at:o,match:c,select:i}=n;if($.isNode(r)&&(r=[r]),r.length!==0){var[v]=r;if(o||(o=sn(t),i=!0),i==null&&(i=!1),E.isRange(o))if(a||(o=f.unhangRange(t,o,{voids:u})),E.isCollapsed(o))o=o.anchor;else{var[,d]=E.edges(o),D=f.pointRef(t,d);x.delete(t,{at:o}),o=D.unref()}if(te.isPoint(o)){c==null&&(q.isText(v)?c=T=>q.isText(T):t.isInline(v)?c=T=>q.isText(T)||f.isInline(t,T):c=T=>K.isElement(T)&&f.isBlock(t,T));var[p]=f.nodes(t,{at:o.path,match:c,mode:s,voids:u});if(p){var[,h]=p,l=f.pathRef(t,h),B=f.isEnd(t,o,h);x.splitNodes(t,{at:o,match:c,mode:s,voids:u});var m=l.unref();o=B?g.next(m):m}else return}var A=g.parent(o),O=o[o.length-1];if(!(!u&&f.void(t,{at:A}))){for(var P of r){var W=A.concat(O);O++,t.apply({type:"insert_node",path:W,node:P}),o=g.next(o)}if(o=g.previous(o),i){var H=f.end(t,o);H&&x.select(t,H)}}}})},sf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(t,()=>{var{at:n=t.selection,mode:a="lowest",voids:u=!1}=r,{match:s}=r;if(s==null&&(s=g.isPath(n)?pt(t,n):P=>K.isElement(P)&&f.isBlock(t,P)),!!n){var o=f.nodes(t,{at:n,match:s,mode:a,voids:u}),c=Array.from(o,P=>{var[,W]=P;return f.pathRef(t,W)});for(var i of c){var v=i.unref();if(v.length<2)throw new Error("Cannot lift node at a path [".concat(v,"] because it has a depth of less than `2`."));var d=f.node(t,g.parent(v)),[D,p]=d,h=v[v.length-1],{length:l}=D.children;if(l===1){var B=g.next(p);x.moveNodes(t,{at:v,to:B,voids:u}),x.removeNodes(t,{at:p,voids:u})}else if(h===0)x.moveNodes(t,{at:v,to:p,voids:u});else if(h===l-1){var m=g.next(p);x.moveNodes(t,{at:v,to:m,voids:u})}else{var A=g.next(v),O=g.next(p);x.splitNodes(t,{at:A,voids:u}),x.moveNodes(t,{at:v,to:O,voids:u})}}}})},of=["text"],lf=["children"],Tu=(e,t)=>{if(K.isElement(t)){var r=t;return f.isVoid(e,t)?!0:r.children.length===1?Tu(e,r.children[0]):!1}else return!f.isEditor(t)},ff=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(t,()=>{var{match:n,at:a=t.selection}=r,{hanging:u=!1,voids:s=!1,mode:o="lowest"}=r;if(a){if(n==null)if(g.isPath(a)){var[c]=f.parent(t,a);n=V=>c.children.includes(V)}else n=V=>K.isElement(V)&&f.isBlock(t,V);if(!u&&E.isRange(a)&&(a=f.unhangRange(t,a,{voids:s})),E.isRange(a))if(E.isCollapsed(a))a=a.anchor;else{var[,i]=E.edges(a),v=f.pointRef(t,i);x.delete(t,{at:a}),a=v.unref(),r.at==null&&x.select(t,a)}var[d]=f.nodes(t,{at:a,match:n,voids:s,mode:o}),D=f.previous(t,{at:a,match:n,voids:s,mode:o});if(!(!d||!D)){var[p,h]=d,[l,B]=D;if(!(h.length===0||B.length===0)){var m=g.next(B),A=g.common(h,B),O=g.isSibling(h,B),P=Array.from(f.levels(t,{at:h}),V=>{var[X]=V;return X}).slice(A.length).slice(0,-1),W=f.above(t,{at:h,mode:"highest",match:V=>P.includes(V)&&Tu(t,V)}),H=W&&f.pathRef(t,W[1]),T,Y;if(q.isText(p)&&q.isText(l)){var S=qe(p,of);Y=l.text.length,T=S}else if(K.isElement(p)&&K.isElement(l)){var S=qe(p,lf);Y=l.children.length,T=S}else throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(Ce.stringify(p)," ").concat(Ce.stringify(l)));O||x.moveNodes(t,{at:h,to:m,voids:s}),H&&x.removeNodes(t,{at:H.current,voids:s}),K.isElement(l)&&f.isEmpty(t,l)||q.isText(l)&&l.text===""&&B[B.length-1]!==0?x.removeNodes(t,{at:B,voids:s}):t.apply({type:"merge_node",path:m,position:Y,properties:T}),H&&H.unref()}}}})},cf=(e,t)=>{f.withoutNormalizing(e,()=>{var{to:r,at:n=e.selection,mode:a="lowest",voids:u=!1}=t,{match:s}=t;if(n){s==null&&(s=g.isPath(n)?pt(e,n):p=>K.isElement(p)&&f.isBlock(e,p));var o=f.pathRef(e,r),c=f.nodes(e,{at:n,match:s,mode:a,voids:u}),i=Array.from(c,p=>{var[,h]=p;return f.pathRef(e,h)});for(var v of i){var d=v.unref(),D=o.current;d.length!==0&&e.apply({type:"move_node",path:d,newPath:D}),o.current&&g.isSibling(D,d)&&g.isAfter(D,d)&&(o.current=g.next(o.current))}o.unref()}})},vf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(t,()=>{var{hanging:n=!1,voids:a=!1,mode:u="lowest"}=r,{at:s=t.selection,match:o}=r;if(s){o==null&&(o=g.isPath(s)?pt(t,s):p=>K.isElement(p)&&f.isBlock(t,p)),!n&&E.isRange(s)&&(s=f.unhangRange(t,s,{voids:a}));var c=f.nodes(t,{at:s,match:o,mode:u,voids:a}),i=Array.from(c,p=>{var[,h]=p;return f.pathRef(t,h)});for(var v of i){var d=v.unref();if(d){var[D]=f.node(t,d);t.apply({type:"remove_node",path:d,node:D})}}}})},df=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(t,()=>{var{match:a,at:u=t.selection,compare:s,merge:o}=n,{hanging:c=!1,mode:i="lowest",split:v=!1,voids:d=!1}=n;if(u){if(a==null&&(a=g.isPath(u)?pt(t,u):Y=>K.isElement(Y)&&f.isBlock(t,Y)),!c&&E.isRange(u)&&(u=f.unhangRange(t,u,{voids:d})),v&&E.isRange(u)){if(E.isCollapsed(u)&&f.leaf(t,u.anchor)[0].text.length>0)return;var D=f.rangeRef(t,u,{affinity:"inward"}),[p,h]=E.edges(u),l=i==="lowest"?"lowest":"highest",B=f.isEnd(t,h,h.path);x.splitNodes(t,{at:h,match:a,mode:l,voids:d,always:!B});var m=f.isStart(t,p,p.path);x.splitNodes(t,{at:p,match:a,mode:l,voids:d,always:!m}),u=D.unref(),n.at==null&&x.select(t,u)}s||(s=(Y,S)=>Y!==S);for(var[A,O]of f.nodes(t,{at:u,match:a,mode:i,voids:d})){var P={},W={};if(O.length!==0){var H=!1;for(var T in r)T==="children"||T==="text"||s(r[T],A[T])&&(H=!0,A.hasOwnProperty(T)&&(P[T]=A[T]),o?r[T]!=null&&(W[T]=o(A[T],r[T])):r[T]!=null&&(W[T]=r[T]));H&&t.apply({type:"set_node",path:O,properties:P,newProperties:W})}}}})},hf=(e,t)=>{if(E.isCollapsed(t))return t.anchor;var[,r]=E.edges(t),n=f.pointRef(e,r);return x.delete(e,{at:t}),n.unref()},gf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(t,()=>{var{mode:n="lowest",voids:a=!1}=r,{match:u,at:s=t.selection,height:o=0,always:c=!1}=r;if(u==null&&(u=R=>K.isElement(R)&&f.isBlock(t,R)),E.isRange(s)&&(s=hf(t,s)),g.isPath(s)){var i=s,v=f.point(t,i),[d]=f.parent(t,i);u=R=>R===d,o=v.path.length-i.length+1,s=v,c=!0}if(s){var D=f.pointRef(t,s,{affinity:"backward"}),p;try{var[h]=f.nodes(t,{at:s,match:u,mode:n,voids:a});if(!h)return;var l=f.void(t,{at:s,mode:"highest"}),B=0;if(!a&&l){var[m,A]=l;if(K.isElement(m)&&t.isInline(m)){var O=f.after(t,A);if(!O){var P={text:""},W=g.next(A);x.insertNodes(t,P,{at:W,voids:a}),O=f.point(t,W)}s=O,c=!0}var H=s.path.length-A.length;o=H+1,c=!0}p=f.pointRef(t,s);var T=s.path.length-o,[,Y]=h,S=s.path.slice(0,T),V=o===0?s.offset:s.path[T]+B;for(var[X,N]of f.levels(t,{at:S,reverse:!0,voids:a})){var z=!1;if(N.length<Y.length||N.length===0||!a&&K.isElement(X)&&f.isVoid(t,X))break;var k=D.current,L=f.isEnd(t,k,N);if(c||!D||!f.isEdge(t,k,N)){z=!0;var w=$.extractProps(X);t.apply({type:"split_node",path:N,position:V,properties:w})}V=N[N.length-1]+(z||L?1:0)}if(r.at==null){var I=p.current||f.end(t,[]);x.select(t,I)}}finally{var U;D.unref(),(U=p)===null||U===void 0||U.unref()}}})},Df=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(r)||(r=[r]);var a={};for(var u of r)a[u]=null;x.setNodes(t,a,n)},Cf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f.withoutNormalizing(t,()=>{var{mode:n="lowest",split:a=!1,voids:u=!1}=r,{at:s=t.selection,match:o}=r;if(s){o==null&&(o=g.isPath(s)?pt(t,s):p=>K.isElement(p)&&f.isBlock(t,p)),g.isPath(s)&&(s=f.range(t,s));var c=E.isRange(s)?f.rangeRef(t,s):null,i=f.nodes(t,{at:s,match:o,mode:n,voids:u}),v=Array.from(i,p=>{var[,h]=p;return f.pathRef(t,h)}).reverse(),d=function(h){var l=h.unref(),[B]=f.node(t,l),m=f.range(t,l);a&&c&&(m=E.intersection(c.current,m)),x.liftNodes(t,{at:m,match:A=>K.isAncestor(B)&&B.children.includes(A),voids:u})};for(var D of v)d(D);c&&c.unref()}})};function ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ba(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ba(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var pf=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f.withoutNormalizing(t,()=>{var{mode:a="lowest",split:u=!1,voids:s=!1}=n,{match:o,at:c=t.selection}=n;if(c){if(o==null&&(g.isPath(c)?o=pt(t,c):t.isInline(r)?o=m=>K.isElement(m)&&f.isInline(t,m)||q.isText(m):o=m=>K.isElement(m)&&f.isBlock(t,m)),u&&E.isRange(c)){var[i,v]=E.edges(c),d=f.rangeRef(t,c,{affinity:"inward"});x.splitNodes(t,{at:v,match:o,voids:s}),x.splitNodes(t,{at:i,match:o,voids:s}),c=d.unref(),n.at==null&&x.select(t,c)}var D=Array.from(f.nodes(t,{at:c,match:t.isInline(r)?m=>K.isElement(m)&&f.isBlock(t,m):m=>f.isEditor(m),mode:"lowest",voids:s}));for(var[,p]of D){var h=E.isRange(c)?E.intersection(c,f.range(t,p)):c;if(h){var l=Array.from(f.nodes(t,{at:h,match:o,mode:a,voids:s}));if(l.length>0){var B=function(){var[m]=l,A=l[l.length-1],[,O]=m,[,P]=A;if(O.length===0&&P.length===0)return"continue";var W=g.equals(O,P)?g.parent(O):g.common(O,P),H=f.range(t,O,P),T=f.node(t,W),[Y]=T,S=W.length+1,V=g.next(P.slice(0,S)),X=Fa(Fa({},r),{},{children:[]});x.insertNodes(t,X,{at:V,voids:s}),x.moveNodes(t,{at:H,match:N=>K.isAncestor(Y)&&Y.children.includes(N),to:V.concat(0),voids:s})}();if(B==="continue")continue}}}}})},mf=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Vo(e,...n)},addMark:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return _o(e,...n)},deleteBackward:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Zo(e,...n)},deleteForward:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Qo(e,...n)},deleteFragment:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return el(e,...n)},getFragment:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return qo(e,...n)},insertBreak:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return cl(e,...n)},insertSoftBreak:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return dl(e,...n)},insertFragment:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Zl(e,...n)},insertNode:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return vl(e,...n)},insertText:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return gl(e,...n)},normalizeNode:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Uo(e,...n)},removeMark:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ql(e,...n)},getDirtyPaths:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ko(e,...n)},shouldNormalize:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Go(e,...n)},above:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Yo(e,...n)},after:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Jo(e,...n)},before:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Xo(e,...n)},collapse:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ql(e,...n)},delete:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Xl(e,...n)},deselect:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ef(e,...n)},edges:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return tl(e,...n)},elementReadOnly:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return rl(e,...n)},end:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return nl(e,...n)},first:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return al(e,...n)},fragment:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ul(e,...n)},getMarks:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ol(e,...n)},hasBlocks:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return il(e,...n)},hasInlines:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ol(e,...n)},hasPath:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ll(e,...n)},hasTexts:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return fl(e,...n)},insertNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return uf(e,...n)},isBlock:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Dl(e,...n)},isEdge:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Cl(e,...n)},isEmpty:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return pl(e,...n)},isEnd:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ml(e,...n)},isNormalizing:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Bl(e,...n)},isStart:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return El(e,...n)},last:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Al(e,...n)},leaf:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return bl(e,...n)},levels:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Fl(e,...n)},liftNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return sf(e,...n)},mergeNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ff(e,...n)},move:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return tf(e,...n)},moveNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return cf(e,...n)},next:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return xl(e,...n)},node:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Sl(e,...n)},nodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Pl(e,...n)},normalize:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Tl(e,...n)},parent:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return $l(e,...n)},path:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Nl(e,...n)},pathRef:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return jl(e,...n)},pathRefs:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Rl(e,...n)},point:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return kl(e,...n)},pointRef:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Il(e,...n)},pointRefs:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ml(e,...n)},positions:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ll(e,...n)},previous:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Wl(e,...n)},range:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Vl(e,...n)},rangeRef:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return zl(e,...n)},rangeRefs:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Hl(e,...n)},removeNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return vf(e,...n)},select:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return rf(e,...n)},setNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return df(e,...n)},setNormalizing:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ul(e,...n)},setPoint:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return nf(e,...n)},setSelection:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return af(e,...n)},splitNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return gf(e,...n)},start:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Gl(e,...n)},string:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Yl(e,...n)},unhangRange:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return _l(e,...n)},unsetNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Df(e,...n)},unwrapNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Cf(e,...n)},void:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return sl(e,...n)},withoutNormalizing:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Jl(e,...n)},wrapNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return pf(e,...n)}};return e},ut=[],Bf=function(){return ut.some(function(e){return e.activeTargets.length>0})},Ef=function(){return ut.some(function(e){return e.skippedTargets.length>0})},wa="ResizeObserver loop completed with undelivered notifications.",Af=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:wa}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=wa),window.dispatchEvent(e)},Mt;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Mt||(Mt={}));var st=function(e){return Object.freeze(e)},bf=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,st(this)}return e}(),$u=function(){function e(t,r,n,a){return this.x=t,this.y=r,this.width=n,this.height=a,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,st(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,a=t.top,u=t.right,s=t.bottom,o=t.left,c=t.width,i=t.height;return{x:r,y:n,top:a,right:u,bottom:s,left:o,width:c,height:i}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),fn=function(e){return e instanceof SVGElement&&"getBBox"in e},ju=function(e){if(fn(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var a=e,u=a.offsetWidth,s=a.offsetHeight;return!(u||s||e.getClientRects().length)},ya=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},Ff=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},$t=typeof window<"u"?window:{},Gt=new WeakMap,Oa=/auto|scroll/,wf=/^tb|vertical/,yf=/msie|trident/i.test($t.navigator&&$t.navigator.userAgent),ze=function(e){return parseFloat(e||"0")},dt=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new bf((r?t:e)||0,(r?e:t)||0)},xa=st({devicePixelContentBoxSize:dt(),borderBoxSize:dt(),contentBoxSize:dt(),contentRect:new $u(0,0,0,0)}),Ru=function(e,t){if(t===void 0&&(t=!1),Gt.has(e)&&!t)return Gt.get(e);if(ju(e))return Gt.set(e,xa),xa;var r=getComputedStyle(e),n=fn(e)&&e.ownerSVGElement&&e.getBBox(),a=!yf&&r.boxSizing==="border-box",u=wf.test(r.writingMode||""),s=!n&&Oa.test(r.overflowY||""),o=!n&&Oa.test(r.overflowX||""),c=n?0:ze(r.paddingTop),i=n?0:ze(r.paddingRight),v=n?0:ze(r.paddingBottom),d=n?0:ze(r.paddingLeft),D=n?0:ze(r.borderTopWidth),p=n?0:ze(r.borderRightWidth),h=n?0:ze(r.borderBottomWidth),l=n?0:ze(r.borderLeftWidth),B=d+i,m=c+v,A=l+p,O=D+h,P=o?e.offsetHeight-O-e.clientHeight:0,W=s?e.offsetWidth-A-e.clientWidth:0,H=a?B+A:0,T=a?m+O:0,Y=n?n.width:ze(r.width)-H-W,S=n?n.height:ze(r.height)-T-P,V=Y+B+W+A,X=S+m+P+O,N=st({devicePixelContentBoxSize:dt(Math.round(Y*devicePixelRatio),Math.round(S*devicePixelRatio),u),borderBoxSize:dt(V,X,u),contentBoxSize:dt(Y,S,u),contentRect:new $u(d,c,Y,S)});return Gt.set(e,N),N},Nu=function(e,t,r){var n=Ru(e,r),a=n.borderBoxSize,u=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(t){case Mt.DEVICE_PIXEL_CONTENT_BOX:return s;case Mt.BORDER_BOX:return a;default:return u}},Of=function(){function e(t){var r=Ru(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=st([r.borderBoxSize]),this.contentBoxSize=st([r.contentBoxSize]),this.devicePixelContentBoxSize=st([r.devicePixelContentBoxSize])}return e}(),Iu=function(e){if(ju(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},xf=function(){var e=1/0,t=[];ut.forEach(function(s){if(s.activeTargets.length!==0){var o=[];s.activeTargets.forEach(function(i){var v=new Of(i.target),d=Iu(i.target);o.push(v),i.lastReportedSize=Nu(i.target,i.observedBox),d<e&&(e=d)}),t.push(function(){s.callback.call(s.observer,o,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var a=n[r];a()}return e},Sa=function(e){ut.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(a){a.isActive()&&(Iu(a.target)>e?r.activeTargets.push(a):r.skippedTargets.push(a))})})},Sf=function(){var e=0;for(Sa(e);Bf();)e=xf(),Sa(e);return Ef()&&Af(),e>0},yr,Mu=[],Pf=function(){return Mu.splice(0).forEach(function(e){return e()})},Tf=function(e){if(!yr){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return Pf()}).observe(r,n),yr=function(){r.textContent="".concat(t?t--:t++)}}Mu.push(e),yr()},$f=function(e){Tf(function(){requestAnimationFrame(e)})},Qt=0,jf=function(){return!!Qt},Rf=250,Nf={attributes:!0,characterData:!0,childList:!0,subtree:!0},Pa=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Ta=function(e){return e===void 0&&(e=0),Date.now()+e},Or=!1,If=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=Rf),!Or){Or=!0;var n=Ta(t);$f(function(){var a=!1;try{a=Sf()}finally{if(Or=!1,t=n-Ta(),!jf())return;a?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,Nf)};document.body?r():$t.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Pa.forEach(function(r){return $t.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Pa.forEach(function(r){return $t.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),kr=new If,$a=function(e){!Qt&&e>0&&kr.start(),Qt+=e,!Qt&&kr.stop()},Mf=function(e){return!fn(e)&&!Ff(e)&&getComputedStyle(e).display==="inline"},kf=function(){function e(t,r){this.target=t,this.observedBox=r||Mt.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Nu(this.target,this.observedBox,!0);return Mf(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Lf=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}(),Yt=new WeakMap,ja=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},_t=function(){function e(){}return e.connect=function(t,r){var n=new Lf(t,r);Yt.set(t,n)},e.observe=function(t,r,n){var a=Yt.get(t),u=a.observationTargets.length===0;ja(a.observationTargets,r)<0&&(u&&ut.push(a),a.observationTargets.push(new kf(r,n&&n.box)),$a(1),kr.schedule())},e.unobserve=function(t,r){var n=Yt.get(t),a=ja(n.observationTargets,r),u=n.observationTargets.length===1;a>=0&&(u&&ut.splice(ut.indexOf(n),1),n.observationTargets.splice(a,1),$a(-1))},e.disconnect=function(t){var r=this,n=Yt.get(t);n.observationTargets.slice().forEach(function(a){return r.unobserve(t,a.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Wf=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");_t.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ya(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");_t.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ya(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");_t.unobserve(this,t)},e.prototype.disconnect=function(){_t.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});var zf=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),xr={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Hf={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:zf?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},ku={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var Jt=1;Jt<20;Jt++)ku["f"+Jt]=111+Jt;function cr(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map(function(s){return Lu(s,t)}),a=function(o){return n.some(function(c){return Wu(c,o)})},u=r==null?a:a(r);return u}function Vf(e,t){return cr(e,t)}function Kf(e,t){return cr(e,{byKey:!0},t)}function Lu(e,t){var r=t&&t.byKey,n={};e=e.replace("++","+add");var a=e.split("+"),u=a.length;for(var s in xr)n[xr[s]]=!1;var o=!0,c=!1,i=void 0;try{for(var v=a[Symbol.iterator](),d;!(o=(d=v.next()).done);o=!0){var D=d.value,p=D.endsWith("?")&&D.length>1;p&&(D=D.slice(0,-1));var h=cn(D),l=xr[h];(u===1||!l)&&(r?n.key=h:n.which=zu(D)),l&&(n[l]=p?null:!0)}}catch(B){c=!0,i=B}finally{try{!o&&v.return&&v.return()}finally{if(c)throw i}}return n}function Wu(e,t){for(var r in e){var n=e[r],a=void 0;if(n!=null&&(r==="key"&&t.key!=null?a=t.key.toLowerCase():r==="which"?a=n===91&&t.which===93?91:t.which:a=t[r],!(a==null&&n===!1)&&a!==n))return!1}return!0}function zu(e){e=cn(e);var t=ku[e]||e.toUpperCase().charCodeAt(0);return t}function cn(e){return e=e.toLowerCase(),e=Hf[e]||e,e}Ue.default=cr;var Sr=Ue.isHotkey=cr;Ue.isCodeHotkey=Vf;Ue.isKeyHotkey=Kf;Ue.parseHotkey=Lu;Ue.compareHotkey=Wu;Ue.toKeyCode=zu;Ue.toKeyName=cn;function vr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qf(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ht(e,t){if(e==null)return{};var r=qf(e,t),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var vn=F.createContext(null),Ze=()=>{var e=F.useContext(vn);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},Hu=parseInt(Q.version.split(".")[0],10),Uf=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ra=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Oe=typeof navigator<"u"&&/Android/.test(navigator.userAgent),jt=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),St=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),Gf=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Vu=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),Yf=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),_f=Oe&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Jf=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),Xf=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),Zf=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),er=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ge=(!Yf||!_f)&&!Gf&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",dn=new WeakMap,hn=new WeakMap,Ku=new WeakMap,tr=new WeakMap,Lr=new WeakMap,kt=new WeakMap,it=new WeakMap,Wr=new WeakMap,dr=new WeakMap,zr=new WeakMap,nt=new WeakMap,at=new WeakMap,Rt=new WeakMap,Hr=new WeakMap,gn=new WeakMap,Me=new WeakMap,Ke=new WeakMap,ye=new WeakMap,Ye=new WeakMap,_e=new WeakMap,qu=new WeakMap,gt=Symbol("placeholder"),Uu=Symbol("mark-placeholder"),Qf=globalThis.Text,Dn=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,ec=e=>Je(e)&&e.nodeType===8,Te=e=>Je(e)&&e.nodeType===1,Je=e=>{var t=Dn(e);return!!t&&e instanceof t.Node},Vr=e=>{var t=e&&e.anchorNode&&Dn(e.anchorNode);return!!t&&e instanceof t.Selection},Gu=e=>Je(e)&&e.nodeType===3,tc=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,rc=e=>{var[t,r]=e;if(Te(t)&&t.childNodes.length){var n=r===t.childNodes.length,a=n?r-1:r;for([t,a]=Yu(t,a,n?"backward":"forward"),n=a<r;Te(t)&&t.childNodes.length;){var u=n?t.childNodes.length-1:0;t=ac(t,u,n?"backward":"forward")}r=n&&t.textContent!=null?t.textContent.length:0}return[t,r]},nc=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},Yu=(e,t,r)=>{for(var{childNodes:n}=e,a=n[t],u=t,s=!1,o=!1;(ec(a)||Te(a)&&a.childNodes.length===0||Te(a)&&a.getAttribute("contenteditable")==="false")&&!(s&&o);){if(u>=n.length){s=!0,u=t-1,r="backward";continue}if(u<0){o=!0,u=t+1,r="forward";continue}a=n[u],t=u,u+=r==="forward"?1:-1}return[a,t]},ac=(e,t,r)=>{var[n]=Yu(e,t,r);return n},_u=e=>{var t="";if(Gu(e)&&e.nodeValue)return e.nodeValue;if(Te(e)){for(var r of Array.from(e.childNodes))t+=_u(r);var n=getComputedStyle(e).getPropertyValue("display");(n==="block"||n==="list"||e.tagName==="BR")&&(t+=`
`)}return t},uc=/data-slate-fragment="(.+?)"/m,sc=e=>{var t=e.getData("text/html"),[,r]=t.match(uc)||[];return r},Cn=(e,t,r)=>{var{target:n}=t;if(Te(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:a}=b.getWindow(e);if(a.contains(n))return b.hasDOMNode(e,n,{editable:!0});var u=r.find(s=>{var{addedNodes:o,removedNodes:c}=s;for(var i of o)if(i===n||i.contains(n))return!0;for(var v of c)if(v===n||v.contains(n))return!0});return!u||u===t?!1:Cn(e,u,r)},ic=0;class oc{constructor(){this.id="".concat(ic++)}}var b={androidPendingDiffs:e=>ye.get(e),androidScheduleFlush:e=>{var t;(t=gn.get(e))===null||t===void 0||t()},blur:e=>{var t=b.toDOMNode(e,e),r=b.findDocumentOrShadowRoot(e);nt.set(e,!1),r.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,r=b.findDocumentOrShadowRoot(e),n=r.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&x.deselect(e)},findDocumentOrShadowRoot:e=>{var t=b.toDOMNode(e,e),r=t.getRootNode();return(r instanceof Document||r instanceof ShadowRoot)&&r.getSelection!=null?r:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:a}=t;if(r==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var u=b.toSlateNode(e,t.target),s=b.findPath(e,u);if(K.isElement(u)&&f.isVoid(e,u)){var o=a.getBoundingClientRect(),c=e.isInline(u)?r-o.left<o.left+o.width-r:n-o.top<o.top+o.height-n,i=f.point(e,s,{edge:c?"start":"end"}),v=c?f.before(e,i):f.after(e,i);if(v){var d=f.range(e,v);return d}}var D,{document:p}=b.getWindow(e);if(p.caretRangeFromPoint)D=p.caretRangeFromPoint(r,n);else{var h=p.caretPositionFromPoint(r,n);h&&(D=p.createRange(),D.setStart(h.offsetNode,h.offset),D.setEnd(h.offsetNode,h.offset))}if(!D)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var l=b.toSlateRange(e,D,{exactMatch:!1,suppressThrow:!1});return l},findKey:(e,t)=>{var r=Wr.get(t);return r||(r=new oc,Wr.set(t,r)),r},findPath:(e,t)=>{for(var r=[],n=t;;){var a=hn.get(n);if(a==null){if(f.isEditor(n))return r;break}var u=dn.get(n);if(u==null)break;r.unshift(u),n=a}throw new Error("Unable to find the path for Slate node: ".concat(Ce.stringify(t)))},focus:e=>{var t=b.toDOMNode(e,e),r=b.findDocumentOrShadowRoot(e);nt.set(e,!0),r.activeElement!==t&&t.focus({preventScroll:!0})},getWindow:e=>{var t=Ku.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:a=!1}=n,u=b.toDOMNode(t,t),s;try{s=Te(r)?r:r.parentElement}catch(o){if(!o.message.includes('Permission denied to access property "nodeType"'))throw o}return s?s.closest("[data-slate-editor]")===u&&(!a||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===u||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>Je(t)&&b.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:r,focus:n}=t;return f.hasPath(e,r.path)&&f.hasPath(e,n.path)},hasSelectableTarget:(e,t)=>b.hasEditableTarget(e,t)||b.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Je(t)&&b.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!at.get(e),isFocused:e=>!!nt.get(e),isReadOnly:e=>!!zr.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(zr.get(e))return!1;var r=b.hasTarget(e,t)&&b.toSlateNode(e,t);return K.isElement(r)&&f.isVoid(e,r)},setFragmentData:(e,t,r)=>e.setFragmentData(t,r),toDOMNode:(e,t)=>{var r=dr.get(e),n=f.isEditor(t)?tr.get(e):r==null?void 0:r.get(b.findKey(e,t));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Ce.stringify(t)));return n},toDOMPoint:(e,t)=>{var[r]=f.node(e,t.path),n=b.toDOMNode(e,r),a;f.void(e,{at:t})&&(t={path:t.path,offset:0});for(var u="[data-slate-string], [data-slate-zero-width]",s=Array.from(n.querySelectorAll(u)),o=0,c=0;c<s.length;c++){var i=s[c],v=i.childNodes[0];if(!(v==null||v.textContent==null)){var{length:d}=v.textContent,D=i.getAttribute("data-slate-length"),p=D==null?d:parseInt(D,10),h=o+p,l=s[c+1];if(t.offset===h&&l!==null&&l!==void 0&&l.hasAttribute("data-slate-mark-placeholder")){var B,m=l.childNodes[0];a=[m instanceof Qf?m:l,(B=l.textContent)!==null&&B!==void 0&&B.startsWith("\uFEFF")?1:0];break}if(t.offset<=h){var A=Math.min(d,Math.max(0,t.offset-o));a=[v,A];break}o=h}}if(!a)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Ce.stringify(t)));return a},toDOMRange:(e,t)=>{var{anchor:r,focus:n}=t,a=E.isBackward(t),u=b.toDOMPoint(e,r),s=E.isCollapsed(t)?u:b.toDOMPoint(e,n),o=b.getWindow(e),c=o.document.createRange(),[i,v]=a?s:u,[d,D]=a?u:s,p=Te(i)?i:i.parentElement,h=!!p.getAttribute("data-slate-zero-width"),l=Te(d)?d:d.parentElement,B=!!l.getAttribute("data-slate-zero-width");return c.setStart(i,h?1:v),c.setEnd(d,B?1:D),c},toSlateNode:(e,t)=>{var r=Te(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?kt.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},toSlatePoint:(e,t,r)=>{var{exactMatch:n,suppressThrow:a}=r,[u,s]=n?t:rc(t),o=u.parentNode,c=null,i=0;if(o){var v,d,D=b.toDOMNode(e,e),p=o.closest('[data-slate-void="true"]'),h=p&&D.contains(p)?p:null,l=o.closest("[data-slate-leaf]"),B=null;if(l){if(c=l.closest('[data-slate-node="text"]'),c){var m=b.getWindow(e),A=m.document.createRange();A.setStart(c,0),A.setEnd(u,s);var O=A.cloneContents(),P=[...Array.prototype.slice.call(O.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(O.querySelectorAll("[contenteditable=false]"))];P.forEach(k=>{if(Oe&&!n&&k.hasAttribute("data-slate-zero-width")&&k.textContent.length>0&&k.textContext!=="\uFEFF"){k.textContent.startsWith("\uFEFF")&&(k.textContent=k.textContent.slice(1));return}k.parentNode.removeChild(k)}),i=O.textContent.length,B=c}}else if(h){for(var W=h.querySelectorAll("[data-slate-leaf]"),H=0;H<W.length;H++){var T=W[H];if(b.hasDOMNode(e,T)){l=T;break}}l?(c=l.closest('[data-slate-node="text"]'),B=l,i=B.textContent.length,B.querySelectorAll("[data-slate-zero-width]").forEach(k=>{i-=k.textContent.length})):i=1}B&&i===B.textContent.length&&Oe&&B.getAttribute("data-slate-zero-width")==="z"&&(v=B.textContent)!==null&&v!==void 0&&v.startsWith("\uFEFF")&&(o.hasAttribute("data-slate-zero-width")||jt&&(d=B.textContent)!==null&&d!==void 0&&d.endsWith(`

`))&&i--}if(Oe&&!c&&!n){var Y=o.hasAttribute("data-slate-node")?o:o.closest("[data-slate-node]");if(Y&&b.hasDOMNode(e,Y,{editable:!0})){var S=b.toSlateNode(e,Y),{path:V,offset:X}=f.start(e,b.findPath(e,S));return Y.querySelector("[data-slate-leaf]")||(X=s),{path:V,offset:X}}}if(!c){if(a)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var N=b.toSlateNode(e,c),z=b.findPath(e,N);return{path:z,offset:i}},toSlateRange:(e,t,r)=>{var{exactMatch:n,suppressThrow:a}=r,u=Vr(t)?t.anchorNode:t.startContainer,s,o,c,i,v;if(u)if(Vr(t)){if(jt&&t.rangeCount>1){c=t.focusNode;var d=t.getRangeAt(0),D=t.getRangeAt(t.rangeCount-1);if(c instanceof HTMLTableRowElement&&d.startContainer instanceof HTMLTableRowElement&&D.startContainer instanceof HTMLTableRowElement){let W=function(H){return H.childElementCount>0?W(H.children[0]):H};var p=d.startContainer,h=D.startContainer,l=W(p.children[d.startOffset]),B=W(h.children[D.startOffset]);i=0,B.childNodes.length>0?s=B.childNodes[0]:s=B,l.childNodes.length>0?c=l.childNodes[0]:c=l,B instanceof HTMLElement?o=B.innerHTML.length:o=0}else d.startContainer===c?(s=D.endContainer,o=D.endOffset,i=d.startOffset):(s=d.startContainer,o=d.endOffset,i=D.startOffset)}else s=t.anchorNode,o=t.anchorOffset,c=t.focusNode,i=t.focusOffset;Vu&&nc(s)||jt?v=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:v=t.isCollapsed}else s=t.startContainer,o=t.startOffset,c=t.endContainer,i=t.endOffset,v=t.collapsed;if(s==null||c==null||o==null||i==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if("getAttribute"in c&&c.getAttribute("contenteditable")==="false"&&c.getAttribute("data-slate-void")!=="true"){var m;c=s,i=((m=s.textContent)===null||m===void 0?void 0:m.length)||0}var A=b.toSlatePoint(e,[s,o],{exactMatch:n,suppressThrow:a});if(!A)return null;var O=v?A:b.toSlatePoint(e,[c,i],{exactMatch:n,suppressThrow:a});if(!O)return null;var P={anchor:A,focus:O};return E.isExpanded(P)&&E.isForward(P)&&Te(c)&&f.void(e,{at:P.focus,mode:"highest"})&&(P=f.unhangRange(e,P,{voids:!0})),P}};function lc(e,t){var{path:r,diff:n}=t;if(!f.hasPath(e,r))return!1;var a=$.get(e,r);if(!q.isText(a))return!1;if(n.start!==a.text.length||n.text.length===0)return a.text.slice(n.start,n.start+n.text.length)===n.text;var u=g.next(r);if(!f.hasPath(e,u))return!1;var s=$.get(e,u);return q.isText(s)&&s.text.startsWith(n.text)}function Ju(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((a,u)=>a.slice(0,u.start)+u.text+a.slice(u.end),e)}function fc(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n))return n;return r}function cc(e,t,r){for(var n=Math.min(e.length,t.length,r),a=0;a<n;a++)if(e.charAt(e.length-a-1)!==t.charAt(t.length-a-1))return a;return n}function Xu(e,t){var{start:r,end:n,text:a}=t,u=e.slice(r,n),s=fc(u,a),o=Math.min(u.length-s,a.length-s),c=cc(u,a,o),i={start:r+s,end:n-c,text:a.slice(s,a.length-c)};return i.start===i.end&&i.text.length===0?null:i}function vc(e,t,r){var n=Math.min(t.start,r.start),a=Math.max(0,Math.min(t.start+t.text.length,r.end)-r.start),u=Ju(e,t,r),s=Math.max(r.start+r.text.length,t.start+t.text.length+(t.start+t.text.length>r.start?r.text.length:0)-a),o=u.slice(n,s),c=Math.max(t.end,r.end-t.text.length+(t.end-t.start));return Xu(e,{start:n,end:c,text:o})}function dc(e){var{path:t,diff:r}=e;return{anchor:{path:t,offset:r.start},focus:{path:t,offset:r.end}}}function Kr(e,t){var{path:r,offset:n}=t;if(!f.hasPath(e,r))return null;var a=$.get(e,r);if(!q.isText(a))return null;var u=f.above(e,{match:o=>K.isElement(o)&&f.isBlock(e,o),at:r});if(!u)return null;for(;n>a.text.length;){var s=f.next(e,{at:r,match:q.isText});if(!s||!g.isDescendant(s[1],u[1]))return null;n-=a.text.length,a=s[0],r=s[1]}return{path:r,offset:n}}function Na(e,t){var r=Kr(e,t.anchor);if(!r)return null;if(E.isCollapsed(t))return{anchor:r,focus:r};var n=Kr(e,t.focus);return n?{anchor:r,focus:n}:null}function qr(e,t,r){var n=ye.get(e),a=n==null?void 0:n.find(v=>{var{path:d}=v;return g.equals(d,t.path)});if(!a||t.offset<=a.diff.start)return te.transform(t,r,{affinity:"backward"});var{diff:u}=a;if(t.offset<=u.start+u.text.length){var s={path:t.path,offset:u.start},o=te.transform(s,r,{affinity:"backward"});return o?{path:o.path,offset:o.offset+t.offset-u.start}:null}var c={path:t.path,offset:t.offset-u.text.length+u.end-u.start},i=te.transform(c,r,{affinity:"backward"});return i?r.type==="split_node"&&g.equals(r.path,t.path)&&c.offset<r.position&&u.start<r.position?i:{path:i.path,offset:i.offset+u.text.length-u.end+u.start}:null}function Ia(e,t,r){var n=qr(e,t.anchor,r);if(!n)return null;if(E.isCollapsed(t))return{anchor:n,focus:n};var a=qr(e,t.focus,r);return a?{anchor:n,focus:a}:null}function hc(e,t){var{path:r,diff:n,id:a}=e;switch(t.type){case"insert_text":return!g.equals(t.path,r)||t.offset>=n.end?e:t.offset<=n.start?{diff:{start:t.text.length+n.start,end:t.text.length+n.end,text:n.text},id:a,path:r}:{diff:{start:n.start,end:n.end+t.text.length,text:n.text},id:a,path:r};case"remove_text":return!g.equals(t.path,r)||t.offset>=n.end?e:t.offset+t.text.length<=n.start?{diff:{start:n.start-t.text.length,end:n.end-t.text.length,text:n.text},id:a,path:r}:{diff:{start:n.start,end:n.end-t.text.length,text:n.text},id:a,path:r};case"split_node":return!g.equals(t.path,r)||t.position>=n.end?{diff:n,id:a,path:g.transform(r,t,{affinity:"backward"})}:t.position>n.start?{diff:{start:n.start,end:Math.min(t.position,n.end),text:n.text},id:a,path:r}:{diff:{start:n.start-t.position,end:n.end-t.position,text:n.text},id:a,path:g.transform(r,t,{affinity:"forward"})};case"merge_node":return g.equals(t.path,r)?{diff:{start:n.start+t.position,end:n.end+t.position,text:n.text},id:a,path:g.transform(r,t)}:{diff:n,id:a,path:g.transform(r,t)}}var u=g.transform(r,t);return u?{diff:n,path:u,id:a}:null}function Ma(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ma(Object(r),!0).forEach(function(n){vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ma(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var gc=25,Dc=200,Cc=function(){},pc=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function mc(e){var{editor:t,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:n}=e,a=!1,u=null,s=null,o=null,c=0,i=!1,v=()=>{var N=_e.get(t);if(_e.delete(t),N){var{selection:z}=t,k=Na(t,N);k&&(!z||!E.equals(k,z))&&x.select(t,k)}},d=()=>{var N=Ye.get(t);if(Ye.delete(t),!!N){if(N.at){var z=te.isPoint(N.at)?Kr(t,N.at):Na(t,N.at);if(!z)return;var k=f.range(t,z);(!t.selection||!E.equals(t.selection,k))&&x.select(t,z)}N.run()}},D=()=>{if(s&&(clearTimeout(s),s=null),o&&(clearTimeout(o),o=null),!P()&&!O()){v();return}a||(a=!0,setTimeout(()=>a=!1)),O()&&(a="action");var N=t.selection&&f.rangeRef(t,t.selection,{affinity:"forward"});Ke.set(t,t.marks),Cc("flush",Ye.get(t),ye.get(t));for(var z=P(),k;k=(L=ye.get(t))===null||L===void 0?void 0:L[0];){var L,w,I=Me.get(t);I!==void 0&&(Me.delete(t),t.marks=I),I&&i===!1&&(i=null);var U=dc(k);(!t.selection||!E.equals(t.selection,U))&&x.select(t,U),k.diff.text?f.insertText(t,k.diff.text):f.deleteFragment(t),ye.set(t,(w=ye.get(t))===null||w===void 0?void 0:w.filter(J=>{var{id:re}=J;return re!==k.id})),lc(t,k)||(z=!1,Ye.delete(t),Ke.delete(t),a="action",_e.delete(t),r.cancel(),n.cancel(),N==null||N.unref())}var R=N==null?void 0:N.unref();if(R&&!_e.get(t)&&(!t.selection||!E.equals(R,t.selection))&&x.select(t,R),O()){d();return}z&&r(),r.flush(),n.flush(),v();var G=Ke.get(t);Ke.delete(t),G!==void 0&&(t.marks=G,t.onChange())},p=N=>{u&&clearTimeout(u),u=setTimeout(()=>{at.set(t,!1),D()},gc)},h=N=>{at.set(t,!0),u&&(clearTimeout(u),u=null)},l=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,k=Lr.get(t);if(k){if(P()||z){k.style.display="none";return}k.style.removeProperty("display")}},B=(N,z)=>{var k,L=(k=ye.get(t))!==null&&k!==void 0?k:[];ye.set(t,L);var w=$.leaf(t,N),I=L.findIndex(G=>g.equals(G.path,N));if(I<0){var U=Xu(w.text,z);U&&L.push({path:N,diff:z,id:c++}),l();return}var R=vc(w.text,L[I].diff,z);if(!R){L.splice(I,1),l();return}L[I]=Xt(Xt({},L[I]),{},{diff:R})},m=function(z){var{at:k}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i=!1,_e.delete(t),r.cancel(),n.cancel(),O()&&D(),Ye.set(t,{at:k,run:z}),o=setTimeout(D)},A=N=>{var z;s&&(clearTimeout(s),s=null);var{inputType:k}=N,L=null,w=N.dataTransfer||N.data||void 0;i!==!1&&k!=="insertText"&&k!=="insertCompositionText"&&(i=!1);var[I]=N.getTargetRanges();I&&(L=b.toSlateRange(t,I,{exactMatch:!1,suppressThrow:!0}));var U=b.getWindow(t),R=U.getSelection();if(!L&&R&&(I=R,L=b.toSlateRange(t,R,{exactMatch:!1,suppressThrow:!0})),L=(z=L)!==null&&z!==void 0?z:t.selection,!!L){var G=!0;if(k.startsWith("delete")){if(E.isExpanded(L)){var[J,re]=E.edges(L),be=$.leaf(t,J.path);if(be.text.length===J.offset&&re.offset===0){var C=f.next(t,{at:J.path,match:q.isText});C&&g.equals(C[1],re.path)&&(L={anchor:re,focus:re})}}var j=k.endsWith("Backward")?"backward":"forward",[y,M]=E.edges(L),[ee,_]=f.leaf(t,y.path),ne={text:"",start:y.offset,end:M.offset},oe=ye.get(t),se=oe==null?void 0:oe.find(Ne=>g.equals(Ne.path,_)),he=se?[se.diff,ne]:[ne],ae=Ju(ee.text,...he);if(ae.length===0&&(G=!1),E.isExpanded(L)){if(G&&g.equals(L.anchor.path,L.focus.path)){var me={path:L.anchor.path,offset:y.offset},Be=f.range(t,me,me);return T(Be),B(L.anchor.path,{text:"",end:M.offset,start:y.offset})}return m(()=>f.deleteFragment(t,{direction:j}),{at:L})}}switch(k){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return m(()=>f.deleteFragment(t),{at:L});case"deleteContent":case"deleteContentForward":{var{anchor:De}=L;if(G&&E.isCollapsed(L)){var $e=$.leaf(t,De.path);if(De.offset<$e.text.length)return B(De.path,{text:"",start:De.offset,end:De.offset+1})}return m(()=>f.deleteForward(t),{at:L})}case"deleteContentBackward":{var Le,{anchor:Fe}=L,je=Vr(I)?I.isCollapsed:!!((Le=I)!==null&&Le!==void 0&&Le.collapsed);return G&&je&&E.isCollapsed(L)&&Fe.offset>0?B(Fe.path,{text:"",start:Fe.offset-1,end:Fe.offset}):m(()=>f.deleteBackward(t),{at:L})}case"deleteEntireSoftLine":return m(()=>{f.deleteBackward(t,{unit:"line"}),f.deleteForward(t,{unit:"line"})},{at:L});case"deleteHardLineBackward":return m(()=>f.deleteBackward(t,{unit:"block"}),{at:L});case"deleteSoftLineBackward":return m(()=>f.deleteBackward(t,{unit:"line"}),{at:L});case"deleteHardLineForward":return m(()=>f.deleteForward(t,{unit:"block"}),{at:L});case"deleteSoftLineForward":return m(()=>f.deleteForward(t,{unit:"line"}),{at:L});case"deleteWordBackward":return m(()=>f.deleteBackward(t,{unit:"word"}),{at:L});case"deleteWordForward":return m(()=>f.deleteForward(t,{unit:"word"}),{at:L});case"insertLineBreak":return m(()=>f.insertSoftBreak(t),{at:L});case"insertParagraph":return m(()=>f.insertBreak(t),{at:L});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(pc(w))return m(()=>b.insertData(t,w),{at:L});var ce=w??"";if(Me.get(t)&&(ce=ce.replace("\uFEFF","")),k==="insertText"&&/.*\n.*\n$/.test(ce)&&(ce=ce.slice(0,-1)),ce.includes(`
`))return m(()=>{var Ne=ce.split(`
`);Ne.forEach((Qe,Vt)=>{Qe&&f.insertText(t,Qe),Vt!==Ne.length-1&&f.insertSoftBreak(t)})},{at:L});if(g.equals(L.anchor.path,L.focus.path)){var[xe,We]=E.edges(L),ue={start:xe.offset,end:We.offset,text:ce};if(ce&&i&&k==="insertCompositionText"){var Re=i.start+i.text.search(/\S|$/),Ht=ue.start+ue.text.search(/\S|$/);Ht===Re+1&&ue.end===i.start+i.text.length?(ue.start-=1,i=null,V()):i=!1}else k==="insertText"?i===null?i=ue:i&&E.isCollapsed(L)&&i.end+i.text.length===xe.offset?i=Xt(Xt({},i),{},{text:i.text+ce}):i=!1:i=!1;if(G){B(xe.path,ue);return}}return m(()=>f.insertText(t,ce),{at:L})}}}},O=()=>!!Ye.get(t),P=()=>{var N;return!!((N=ye.get(t))!==null&&N!==void 0&&N.length)},W=()=>O()||P(),H=()=>a,T=N=>{_e.set(t,N),s&&(clearTimeout(s),s=null);var{selection:z}=t;if(N){var k=!z||!g.equals(z.anchor.path,N.anchor.path),L=!z||!g.equals(z.anchor.path.slice(0,-1),N.anchor.path.slice(0,-1));(k&&i||L)&&(i=!1),(k||P())&&(s=setTimeout(D,Dc))}},Y=()=>{(O()||!P())&&D()},S=N=>{P()||(l(!0),setTimeout(l))},V=()=>{O()||(o=setTimeout(D))},X=N=>{if(!(P()||O())&&N.some(k=>Cn(t,k,N))){var z;(z=qu.get(t))===null||z===void 0||z()}};return{flush:D,scheduleFlush:V,hasPendingDiffs:P,hasPendingAction:O,hasPendingChanges:W,isFlushing:H,handleUserSelect:T,handleCompositionEnd:p,handleCompositionStart:h,handleDOMBeforeInput:A,handleKeyDown:S,handleDomMutations:X,handleInput:Y}}function Bc(){var e=F.useRef(!1);return F.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var Lt=er?F.useLayoutEffect:F.useEffect;function Ec(e,t,r){var[n]=F.useState(()=>new MutationObserver(t));Lt(()=>{n.takeRecords()}),F.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(e.current,r),()=>n.disconnect()},[n,e,r])}var Ac=["node"];function ka(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ka(Object(r),!0).forEach(function(n){vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ka(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Fc={subtree:!0,childList:!0,characterData:!0},wc=Oe?e=>{var{node:t}=e,r=ht(e,Ac);if(!Oe)return null;var n=Ze(),a=Bc(),[u]=F.useState(()=>mc(bc({editor:n},r)));return Ec(t,u.handleDomMutations,Fc),gn.set(n,u.scheduleFlush),a&&u.flush(),u}:()=>null,yc=["anchor","focus"],Oc=["anchor","focus"],xc=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>t.hasOwnProperty(r)&&e[r]===t[r]),Zu=(e,t)=>{var r=ht(e,yc),n=ht(t,Oc);return e[gt]===t[gt]&&xc(r,n)},Sc=(e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],a=t[r];if(!E.equals(n,a)||!Zu(n,a))return!1}return!0},Pc=(e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],a=t[r];if(n.anchor.offset!==a.anchor.offset||n.focus.offset!==a.focus.offset||!Zu(n,a))return!1}return!0},Tc=e=>{var{isLast:t,leaf:r,parent:n,text:a}=e,u=Ze(),s=b.findPath(u,a),o=g.parent(s),c=r[Uu]===!0;return u.isVoid(n)?Q.createElement(Pr,{length:$.string(n).length}):r.text===""&&n.children[n.children.length-1]===a&&!u.isInline(n)&&f.string(u,o)===""?Q.createElement(Pr,{isLineBreak:!0,isMarkPlaceholder:c}):r.text===""?Q.createElement(Pr,{isMarkPlaceholder:c}):t&&r.text.slice(-1)===`
`?Q.createElement(La,{isTrailing:!0,text:r.text}):Q.createElement(La,{text:r.text})},La=e=>{var{text:t,isTrailing:r=!1}=e,n=F.useRef(null),a=()=>"".concat(t??"").concat(r?`
`:""),[u]=F.useState(a);return Lt(()=>{var s=a();n.current&&n.current.textContent!==s&&(n.current.textContent=s)}),Q.createElement($c,{ref:n},u)},$c=F.memo(F.forwardRef((e,t)=>Q.createElement("span",{"data-slate-string":!0,ref:t},e.children))),Pr=e=>{var{length:t=0,isLineBreak:r=!1,isMarkPlaceholder:n=!1}=e,a={"data-slate-zero-width":r?"n":"z","data-slate-length":t};return n&&(a["data-slate-mark-placeholder"]=!0),Q.createElement("span",Object.assign({},a),!Oe||!r?"\uFEFF":null,r?Q.createElement("br",null):null)};function jc(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function Wa(e){e.current&&(clearTimeout(e.current),e.current=null)}var Rc=e=>{var{leaf:t,isLast:r,text:n,parent:a,renderPlaceholder:u,renderLeaf:s=A=>Q.createElement(Ic,Object.assign({},A))}=e,o=Ze(),c=F.useRef(null),i=F.useRef(null),[v,d]=F.useState(!1),D=F.useRef(null),p=F.useCallback(A=>{if(jc(c,A==null),A==null){var O;Lr.delete(o),(O=t.onPlaceholderResize)===null||O===void 0||O.call(t,null)}else{if(Lr.set(o,A),!c.current){var P=window.ResizeObserver||Wf;c.current=new P(()=>{var W;(W=t.onPlaceholderResize)===null||W===void 0||W.call(t,A)})}c.current.observe(A),i.current=A}},[i,t,o]),h=Q.createElement(Tc,{isLast:r,leaf:t,parent:a,text:n}),l=t[gt];if(F.useEffect(()=>(l?D.current||(D.current=setTimeout(()=>{d(!0),D.current=null},300)):(Wa(D),d(!1)),()=>Wa(D)),[l,d]),l&&v){var B={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:St?"inherit":void 0},contentEditable:!1,ref:p}};h=Q.createElement(Q.Fragment,null,u(B),h)}var m={"data-slate-leaf":!0};return s({attributes:m,children:h,leaf:t,text:n})},Nc=Q.memo(Rc,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&q.equals(t.leaf,e.leaf)&&t.leaf[gt]===e.leaf[gt]),Ic=e=>{var{attributes:t,children:r}=e;return Q.createElement("span",Object.assign({},t),r)},Mc=e=>{for(var{decorations:t,isLast:r,parent:n,renderPlaceholder:a,renderLeaf:u,text:s}=e,o=Ze(),c=F.useRef(null),i=q.decorations(s,t),v=b.findKey(o,s),d=[],D=0;D<i.length;D++){var p=i[D];d.push(Q.createElement(Nc,{isLast:r&&D===i.length-1,key:"".concat(v.id,"-").concat(D),renderPlaceholder:a,leaf:p,text:s,parent:n,renderLeaf:u}))}var h=F.useCallback(l=>{var B=dr.get(o);l?(B==null||B.set(v,l),it.set(s,l),kt.set(l,s)):(B==null||B.delete(v),it.delete(s),c.current&&kt.delete(c.current)),c.current=l},[c,o,v,s]);return Q.createElement("span",{"data-slate-node":"text",ref:h},d)},Qu=Q.memo(Mc,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&Pc(t.decorations,e.decorations)),kc=e=>{var{decorations:t,element:r,renderElement:n=A=>Q.createElement(Wc,Object.assign({},A)),renderPlaceholder:a,renderLeaf:u,selection:s}=e,o=Ze(),c=Vc(),i=o.isInline(r),v=b.findKey(o,r),d=F.useCallback(A=>{var O=dr.get(o);A?(O==null||O.set(v,A),it.set(r,A),kt.set(A,r)):(O==null||O.delete(v),it.delete(r))},[o,v,r]),D=ts({decorations:t,node:r,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:s}),p={"data-slate-node":"element",ref:d};if(i&&(p["data-slate-inline"]=!0),!i&&f.hasInlines(o,r)){var h=$.string(r),l=Au(h);l==="rtl"&&(p.dir=l)}if(f.isVoid(o,r)){p["data-slate-void"]=!0,!c&&i&&(p.contentEditable=!1);var B=i?"span":"div",[[m]]=$.texts(r);D=Q.createElement(B,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},Q.createElement(Qu,{renderPlaceholder:a,decorations:[],isLast:!1,parent:r,text:m})),dn.set(m,0),hn.set(m,r)}return n({attributes:p,children:D,element:r})},Lc=Q.memo(kc,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&Sc(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&E.equals(e.selection,t.selection))),Wc=e=>{var{attributes:t,children:r,element:n}=e,a=Ze(),u=a.isInline(n)?"span":"div";return Q.createElement(u,Object.assign({},t,{style:{position:"relative"}}),r)},es=F.createContext(()=>[]),zc=()=>F.useContext(es),Hc=F.createContext(!1),ts=e=>{for(var{decorations:t,node:r,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:s}=e,o=zc(),c=Ze(),i=b.findPath(c,r),v=[],d=K.isElement(r)&&!c.isInline(r)&&f.hasInlines(c,r),D=0;D<r.children.length;D++){var p=i.concat(D),h=r.children[D],l=b.findKey(c,h),B=f.range(c,p),m=s&&E.intersection(B,s),A=o([h,p]);for(var O of t){var P=E.intersection(O,B);P&&A.push(P)}K.isElement(h)?v.push(Q.createElement(Hc.Provider,{key:"provider-".concat(l.id),value:!!m},Q.createElement(Lc,{decorations:A,element:h,key:l.id,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:m}))):v.push(Q.createElement(Qu,{decorations:A,key:l.id,isLast:d&&D===r.children.length-1,parent:r,renderPlaceholder:a,renderLeaf:u,text:h})),dn.set(h,D),hn.set(h,r)}return v},rs=F.createContext(!1),Vc=()=>F.useContext(rs),ns=F.createContext(null),Kc=()=>{var e=F.useContext(ns);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function qc(){var e=Ze(),t=F.useRef(!1),r=F.useRef(0),n=F.useCallback(()=>{if(!t.current){t.current=!0;var a=b.getWindow(e);a.cancelAnimationFrame(r.current),r.current=a.requestAnimationFrame(()=>{t.current=!1})}},[e]);return F.useEffect(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:t,onUserInput:n}}var Uc=3,Gc={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Yc={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},_c={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},de=e=>{var t=Gc[e],r=Yc[e],n=_c[e],a=t&&Sr(t),u=r&&Sr(r),s=n&&Sr(n);return o=>!!(a&&a(o)||Ra&&u&&u(o)||!Ra&&s&&s(o))},ge={isBold:de("bold"),isCompose:de("compose"),isMoveBackward:de("moveBackward"),isMoveForward:de("moveForward"),isDeleteBackward:de("deleteBackward"),isDeleteForward:de("deleteForward"),isDeleteLineBackward:de("deleteLineBackward"),isDeleteLineForward:de("deleteLineForward"),isDeleteWordBackward:de("deleteWordBackward"),isDeleteWordForward:de("deleteWordForward"),isExtendBackward:de("extendBackward"),isExtendForward:de("extendForward"),isExtendLineBackward:de("extendLineBackward"),isExtendLineForward:de("extendLineForward"),isItalic:de("italic"),isMoveLineBackward:de("moveLineBackward"),isMoveLineForward:de("moveLineForward"),isMoveWordBackward:de("moveWordBackward"),isMoveWordForward:de("moveWordForward"),isRedo:de("redo"),isSoftBreak:de("insertSoftBreak"),isSplitBlock:de("splitBlock"),isTransposeCharacter:de("transposeCharacter"),isUndo:de("undo")},Jc=(e,t)=>{var r=[],n=()=>{r=[]},a=s=>{if(t.current){var o=s.filter(c=>Cn(e,c,s));r.push(...o)}};function u(){r.length>0&&(r.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(o=>{s.target.insertBefore(o,s.nextSibling)}),s.addedNodes.forEach(o=>{s.target.removeChild(o)}))}),n())}return{registerMutations:a,restoreDOM:u,clear:n}},Xc={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class as extends F.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var t,{node:r}=this.props;if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(r.current,Xc)}componentDidMount(){var{receivedUserInput:t}=this.props,r=this.context;this.manager=Jc(r,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,r,n,a=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(a!=null&&a.length){var u;(u=this.manager)===null||u===void 0||u.registerMutations(a)}return(r=this.mutationObserver)===null||r===void 0||r.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}as.contextType=vn;var Zc=Oe?as:e=>{var{children:t}=e;return Q.createElement(Q.Fragment,null,t)},Qc=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],ev=["text"];function za(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?za(Object(r),!0).forEach(function(n){vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):za(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var tv=e=>Q.createElement(Q.Fragment,null,ts(e)),rv=e=>{var t=F.useCallback(C=>Q.createElement(nv,Object.assign({},C)),[]),{autoFocus:r,decorate:n=av,onDOMBeforeInput:a,placeholder:u,readOnly:s=!1,renderElement:o,renderLeaf:c,renderPlaceholder:i=t,scrollSelectionIntoView:v=uv,style:d={},as:D="div",disableDefaultStyles:p=!1}=e,h=ht(e,Qc),l=Kc(),[B,m]=F.useState(!1),A=F.useRef(null),O=F.useRef([]),[P,W]=F.useState(),{onUserInput:H,receivedUserInput:T}=qc(),[,Y]=F.useReducer(C=>C+1,0);qu.set(l,Y),zr.set(l,s);var S=F.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);F.useEffect(()=>{A.current&&r&&A.current.focus()},[r]);var V=F.useRef(),X=F.useMemo(()=>zi(()=>{var C=V.current;if((Oe||!b.isComposing(l))&&(!S.isUpdatingSelection||C!=null&&C.isFlushing())&&!S.isDraggingInternally){var j=b.findDocumentOrShadowRoot(l),{activeElement:y}=j,M=b.toDOMNode(l,l),ee=j.getSelection();if(y===M?(S.latestElement=y,nt.set(l,!0)):nt.delete(l),!ee)return x.deselect(l);var{anchorNode:_,focusNode:ne}=ee,oe=b.hasEditableTarget(l,_)||b.isTargetInsideNonReadonlyVoid(l,_),se=b.hasEditableTarget(l,ne)||b.isTargetInsideNonReadonlyVoid(l,ne);if(oe&&se){var he=b.toSlateRange(l,ee,{exactMatch:!1,suppressThrow:!0});he&&(!b.isComposing(l)&&!(C!=null&&C.hasPendingChanges())&&!(C!=null&&C.isFlushing())?x.select(l,he):C==null||C.handleUserSelect(he))}s&&(!oe||!se)&&x.deselect(l)}},100),[l,s,S]),N=F.useMemo(()=>Ni(X,0),[X]);V.current=wc({node:A,onDOMSelectionChange:X,scheduleOnDOMSelectionChange:N}),Lt(()=>{var C,j,y;A.current&&(y=Dn(A.current))?(Ku.set(l,y),tr.set(l,A.current),it.set(l,A.current),kt.set(A.current,l)):it.delete(l);var{selection:M}=l,ee=b.findDocumentOrShadowRoot(l),_=ee.getSelection();if(!(!_||!b.isFocused(l)||(C=V.current)!==null&&C!==void 0&&C.hasPendingAction())){var ne=ae=>{var me=_.type!=="None";if(!(!M&&!me)){var Be=_.focusNode,De;if(jt&&_.rangeCount>1){var $e=_.getRangeAt(0),Le=_.getRangeAt(_.rangeCount-1);$e.startContainer===Be?De=Le.endContainer:De=$e.startContainer}else De=_.anchorNode;var Fe=tr.get(l),je=!1;if(Fe.contains(De)&&Fe.contains(Be)&&(je=!0),me&&je&&M&&!ae){var ce=b.toSlateRange(l,_,{exactMatch:!0,suppressThrow:!0});if(ce&&E.equals(ce,M)){var xe,We;if(!S.hasMarkPlaceholder||(xe=De)!==null&&xe!==void 0&&(We=xe.parentElement)!==null&&We!==void 0&&We.hasAttribute("data-slate-mark-placeholder"))return}}if(M&&!b.hasRange(l,M)){l.selection=b.toSlateRange(l,_,{exactMatch:!1,suppressThrow:!0});return}S.isUpdatingSelection=!0;var ue=M&&b.toDOMRange(l,M);return ue?(b.isComposing(l)&&!Oe?_.collapseToEnd():E.isBackward(M)?_.setBaseAndExtent(ue.endContainer,ue.endOffset,ue.startContainer,ue.startOffset):_.setBaseAndExtent(ue.startContainer,ue.startOffset,ue.endContainer,ue.endOffset),v(l,ue)):_.removeAllRanges(),ue}};_.rangeCount<=1&&ne();var oe=((j=V.current)===null||j===void 0?void 0:j.isFlushing())==="action";if(!Oe||!oe){setTimeout(()=>{S.isUpdatingSelection=!1});return}var se=null,he=requestAnimationFrame(()=>{if(oe){var ae=me=>{try{var Be=b.toDOMNode(l,l);Be.focus(),ne(me)}catch{}};ae(),se=setTimeout(()=>{ae(!0),S.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(he),se&&clearTimeout(se)}}});var z=F.useCallback(C=>{if(H(),!s&&b.hasEditableTarget(l,C.target)&&!sv(C,a)){var j;if(V.current)return V.current.handleDOMBeforeInput(C);N.flush(),X.flush();var{selection:y}=l,{inputType:M}=C,ee=C.dataTransfer||C.data||void 0,_=M==="insertCompositionText"||M==="deleteCompositionText";if(_&&b.isComposing(l))return;var ne=!1;if(M==="insertText"&&y&&E.isCollapsed(y)&&C.data&&C.data.length===1&&/[a-z ]/i.test(C.data)&&y.anchor.offset!==0){var oe,se;ne=!0,l.marks&&(ne=!1);var{anchor:he}=y,[ae,me]=b.toDOMPoint(l,he),Be=(oe=ae.parentElement)===null||oe===void 0?void 0:oe.closest("a"),De=b.getWindow(l);if(ne&&Be&&b.hasDOMNode(l,Be)){var $e,Le=De==null?void 0:De.document.createTreeWalker(Be,NodeFilter.SHOW_TEXT).lastChild();Le===ae&&(($e=Le.textContent)===null||$e===void 0?void 0:$e.length)===me&&(ne=!1)}if(ne&&ae.parentElement&&(De==null||(se=De.getComputedStyle(ae.parentElement))===null||se===void 0?void 0:se.whiteSpace)==="pre"){var Fe=f.above(l,{at:he.path,match:Re=>K.isElement(Re)&&f.isBlock(l,Re)});Fe&&$.string(Fe[0]).includes("	")&&(ne=!1)}}if(!M.startsWith("delete")||M.startsWith("deleteBy")){var[je]=C.getTargetRanges();if(je){var ce=b.toSlateRange(l,je,{exactMatch:!1,suppressThrow:!1});if(!y||!E.equals(y,ce)){ne=!1;var xe=!_&&l.selection&&f.rangeRef(l,l.selection);x.select(l,ce),xe&&Rt.set(l,xe)}}}if(_)return;if(ne||C.preventDefault(),y&&E.isExpanded(y)&&M.startsWith("delete")){var We=M.endsWith("Backward")?"backward":"forward";f.deleteFragment(l,{direction:We});return}switch(M){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{f.deleteFragment(l);break}case"deleteContent":case"deleteContentForward":{f.deleteForward(l);break}case"deleteContentBackward":{f.deleteBackward(l);break}case"deleteEntireSoftLine":{f.deleteBackward(l,{unit:"line"}),f.deleteForward(l,{unit:"line"});break}case"deleteHardLineBackward":{f.deleteBackward(l,{unit:"block"});break}case"deleteSoftLineBackward":{f.deleteBackward(l,{unit:"line"});break}case"deleteHardLineForward":{f.deleteForward(l,{unit:"block"});break}case"deleteSoftLineForward":{f.deleteForward(l,{unit:"line"});break}case"deleteWordBackward":{f.deleteBackward(l,{unit:"word"});break}case"deleteWordForward":{f.deleteForward(l,{unit:"word"});break}case"insertLineBreak":f.insertSoftBreak(l);break;case"insertParagraph":{f.insertBreak(l);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{M==="insertFromComposition"&&b.isComposing(l)&&(m(!1),at.set(l,!1)),(ee==null?void 0:ee.constructor.name)==="DataTransfer"?b.insertData(l,ee):typeof ee=="string"&&(ne?O.current.push(()=>f.insertText(l,ee)):f.insertText(l,ee));break}}var ue=(j=Rt.get(l))===null||j===void 0?void 0:j.unref();Rt.delete(l),ue&&(!l.selection||!E.equals(l.selection,ue))&&x.select(l,ue)}},[l,X,H,a,s,N]),k=F.useCallback(C=>{C==null?(X.cancel(),N.cancel(),tr.delete(l),it.delete(l),A.current&&Ge&&A.current.removeEventListener("beforeinput",z)):Ge&&C.addEventListener("beforeinput",z),A.current=C},[X,N,l,z]);Lt(()=>{var C=b.getWindow(l);return C.document.addEventListener("selectionchange",N),()=>{C.document.removeEventListener("selectionchange",N)}},[N]);var L=n([l,[]]),w=u&&l.children.length===1&&Array.from($.texts(l)).length===1&&$.string(l)===""&&!B,I=F.useCallback(C=>{if(C&&w){var j;W((j=C.getBoundingClientRect())===null||j===void 0?void 0:j.height)}else W(void 0)},[w]);if(w){var U=f.start(l,[]);L.push({[gt]:!0,placeholder:u,onPlaceholderResize:I,anchor:U,focus:U})}var{marks:R}=l;if(S.hasMarkPlaceholder=!1,l.selection&&E.isCollapsed(l.selection)&&R){var{anchor:G}=l.selection,J=$.leaf(l,G.path),re=ht(J,ev);if(!q.equals(J,R,{loose:!0})){S.hasMarkPlaceholder=!0;var be=Object.fromEntries(Object.keys(re).map(C=>[C,null]));L.push(ct(ct(ct({[Uu]:!0},be),R),{},{anchor:G,focus:G}))}}return F.useEffect(()=>{setTimeout(()=>{var{selection:C}=l;if(C){var{anchor:j}=C,y=$.leaf(l,j.path);if(R&&!q.equals(y,R,{loose:!0})){Me.set(l,R);return}}Me.delete(l)})}),Q.createElement(rs.Provider,{value:s},Q.createElement(es.Provider,{value:n},Q.createElement(Zc,{node:A,receivedUserInput:T},Q.createElement(D,Object.assign({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},h,{spellCheck:Ge||!er?h.spellCheck:!1,autoCorrect:Ge||!er?h.autoCorrect:"false",autoCapitalize:Ge||!er?h.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:k,style:ct(ct({},p?{}:ct({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},P?{minHeight:P}:{})),d),onBeforeInput:F.useCallback(C=>{if(!Ge&&!s&&!Ee(C,h.onBeforeInput)&&b.hasSelectableTarget(l,C.target)&&(C.preventDefault(),!b.isComposing(l))){var j=C.data;f.insertText(l,j)}},[h.onBeforeInput,l,s]),onInput:F.useCallback(C=>{if(!Ee(C,h.onInput)){if(V.current){V.current.handleInput();return}for(var j of O.current)j();O.current=[]}},[h.onInput]),onBlur:F.useCallback(C=>{if(!(s||S.isUpdatingSelection||!b.hasSelectableTarget(l,C.target)||Ee(C,h.onBlur))){var j=b.findDocumentOrShadowRoot(l);if(S.latestElement!==j.activeElement){var{relatedTarget:y}=C,M=b.toDOMNode(l,l);if(y!==M&&!(Te(y)&&y.hasAttribute("data-slate-spacer"))){if(y!=null&&Je(y)&&b.hasDOMNode(l,y)){var ee=b.toSlateNode(l,y);if(K.isElement(ee)&&!l.isVoid(ee))return}if(St){var _=j.getSelection();_==null||_.removeAllRanges()}nt.delete(l)}}}},[s,S.isUpdatingSelection,S.latestElement,l,h.onBlur]),onClick:F.useCallback(C=>{if(b.hasTarget(l,C.target)&&!Ee(C,h.onClick)&&Je(C.target)){var j=b.toSlateNode(l,C.target),y=b.findPath(l,j);if(!f.hasPath(l,y)||$.get(l,y)!==j)return;if(C.detail===Uc&&y.length>=1){var M=y;if(!(K.isElement(j)&&f.isBlock(l,j))){var ee,_=f.above(l,{match:Be=>K.isElement(Be)&&f.isBlock(l,Be),at:y});M=(ee=_==null?void 0:_[1])!==null&&ee!==void 0?ee:y.slice(0,1)}var ne=f.range(l,M);x.select(l,ne);return}if(s)return;var oe=f.start(l,y),se=f.end(l,y),he=f.void(l,{at:oe}),ae=f.void(l,{at:se});if(he&&ae&&g.equals(he[1],ae[1])){var me=f.range(l,oe);x.select(l,me)}}},[l,h.onClick,s]),onCompositionEnd:F.useCallback(C=>{if(b.hasSelectableTarget(l,C.target)){var j;if(b.isComposing(l)&&(m(!1),at.set(l,!1)),(j=V.current)===null||j===void 0||j.handleCompositionEnd(C),Ee(C,h.onCompositionEnd)||Oe)return;if(!St&&!Jf&&!Uf&&!Zf&&!Xf&&C.data){var y=Me.get(l);Me.delete(l),y!==void 0&&(Ke.set(l,l.marks),l.marks=y),f.insertText(l,C.data);var M=Ke.get(l);Ke.delete(l),M!==void 0&&(l.marks=M)}}},[h.onCompositionEnd,l]),onCompositionUpdate:F.useCallback(C=>{b.hasSelectableTarget(l,C.target)&&!Ee(C,h.onCompositionUpdate)&&(b.isComposing(l)||(m(!0),at.set(l,!0)))},[h.onCompositionUpdate,l]),onCompositionStart:F.useCallback(C=>{if(b.hasSelectableTarget(l,C.target)){var j;if((j=V.current)===null||j===void 0||j.handleCompositionStart(C),Ee(C,h.onCompositionStart)||Oe)return;m(!0);var{selection:y}=l;if(y){if(E.isExpanded(y)){f.deleteFragment(l);return}var M=f.above(l,{match:ne=>K.isElement(ne)&&f.isInline(l,ne),mode:"highest"});if(M){var[,ee]=M;if(f.isEnd(l,y.anchor,ee)){var _=f.after(l,ee);x.setSelection(l,{anchor:_,focus:_})}}}}},[h.onCompositionStart,l]),onCopy:F.useCallback(C=>{b.hasSelectableTarget(l,C.target)&&!Ee(C,h.onCopy)&&!Ha(C)&&(C.preventDefault(),b.setFragmentData(l,C.clipboardData,"copy"))},[h.onCopy,l]),onCut:F.useCallback(C=>{if(!s&&b.hasSelectableTarget(l,C.target)&&!Ee(C,h.onCut)&&!Ha(C)){C.preventDefault(),b.setFragmentData(l,C.clipboardData,"cut");var{selection:j}=l;if(j)if(E.isExpanded(j))f.deleteFragment(l);else{var y=$.parent(l,j.anchor.path);f.isVoid(l,y)&&x.delete(l)}}},[s,l,h.onCut]),onDragOver:F.useCallback(C=>{if(b.hasTarget(l,C.target)&&!Ee(C,h.onDragOver)){var j=b.toSlateNode(l,C.target);K.isElement(j)&&f.isVoid(l,j)&&C.preventDefault()}},[h.onDragOver,l]),onDragStart:F.useCallback(C=>{if(!s&&b.hasTarget(l,C.target)&&!Ee(C,h.onDragStart)){var j=b.toSlateNode(l,C.target),y=b.findPath(l,j),M=K.isElement(j)&&f.isVoid(l,j)||f.void(l,{at:y,voids:!0});if(M){var ee=f.range(l,y);x.select(l,ee)}S.isDraggingInternally=!0,b.setFragmentData(l,C.dataTransfer,"drag")}},[s,l,h.onDragStart,S]),onDrop:F.useCallback(C=>{if(!s&&b.hasTarget(l,C.target)&&!Ee(C,h.onDrop)){C.preventDefault();var j=l.selection,y=b.findEventRange(l,C),M=C.dataTransfer;x.select(l,y),S.isDraggingInternally&&j&&!E.equals(j,y)&&!f.void(l,{at:y,voids:!0})&&x.delete(l,{at:j}),b.insertData(l,M),b.isFocused(l)||b.focus(l)}S.isDraggingInternally=!1},[s,l,h.onDrop,S]),onDragEnd:F.useCallback(C=>{!s&&S.isDraggingInternally&&h.onDragEnd&&b.hasTarget(l,C.target)&&h.onDragEnd(C),S.isDraggingInternally=!1},[s,S,h,l]),onFocus:F.useCallback(C=>{if(!s&&!S.isUpdatingSelection&&b.hasEditableTarget(l,C.target)&&!Ee(C,h.onFocus)){var j=b.toDOMNode(l,l),y=b.findDocumentOrShadowRoot(l);if(S.latestElement=y.activeElement,jt&&C.target!==j){j.focus();return}nt.set(l,!0)}},[s,S,l,h.onFocus]),onKeyDown:F.useCallback(C=>{if(!s&&b.hasEditableTarget(l,C.target)){var j;(j=V.current)===null||j===void 0||j.handleKeyDown(C);var{nativeEvent:y}=C;if(b.isComposing(l)&&y.isComposing===!1&&(at.set(l,!1),m(!1)),Ee(C,h.onKeyDown)||b.isComposing(l))return;var{selection:M}=l,ee=l.children[M!==null?M.focus.path[0]:0],_=Au($.string(ee))==="rtl";if(ge.isRedo(y)){C.preventDefault();var ne=l;typeof ne.redo=="function"&&ne.redo();return}if(ge.isUndo(y)){C.preventDefault();var oe=l;typeof oe.undo=="function"&&oe.undo();return}if(ge.isMoveLineBackward(y)){C.preventDefault(),x.move(l,{unit:"line",reverse:!0});return}if(ge.isMoveLineForward(y)){C.preventDefault(),x.move(l,{unit:"line"});return}if(ge.isExtendLineBackward(y)){C.preventDefault(),x.move(l,{unit:"line",edge:"focus",reverse:!0});return}if(ge.isExtendLineForward(y)){C.preventDefault(),x.move(l,{unit:"line",edge:"focus"});return}if(ge.isMoveBackward(y)){C.preventDefault(),M&&E.isCollapsed(M)?x.move(l,{reverse:!_}):x.collapse(l,{edge:"start"});return}if(ge.isMoveForward(y)){C.preventDefault(),M&&E.isCollapsed(M)?x.move(l,{reverse:_}):x.collapse(l,{edge:"end"});return}if(ge.isMoveWordBackward(y)){C.preventDefault(),M&&E.isExpanded(M)&&x.collapse(l,{edge:"focus"}),x.move(l,{unit:"word",reverse:!_});return}if(ge.isMoveWordForward(y)){C.preventDefault(),M&&E.isExpanded(M)&&x.collapse(l,{edge:"focus"}),x.move(l,{unit:"word",reverse:_});return}if(Ge){if((Vu||St)&&M&&(ge.isDeleteBackward(y)||ge.isDeleteForward(y))&&E.isCollapsed(M)){var se=$.parent(l,M.anchor.path);if(K.isElement(se)&&f.isVoid(l,se)&&(f.isInline(l,se)||f.isBlock(l,se))){C.preventDefault(),f.deleteBackward(l,{unit:"block"});return}}}else{if(ge.isBold(y)||ge.isItalic(y)||ge.isTransposeCharacter(y)){C.preventDefault();return}if(ge.isSoftBreak(y)){C.preventDefault(),f.insertSoftBreak(l);return}if(ge.isSplitBlock(y)){C.preventDefault(),f.insertBreak(l);return}if(ge.isDeleteBackward(y)){C.preventDefault(),M&&E.isExpanded(M)?f.deleteFragment(l,{direction:"backward"}):f.deleteBackward(l);return}if(ge.isDeleteForward(y)){C.preventDefault(),M&&E.isExpanded(M)?f.deleteFragment(l,{direction:"forward"}):f.deleteForward(l);return}if(ge.isDeleteLineBackward(y)){C.preventDefault(),M&&E.isExpanded(M)?f.deleteFragment(l,{direction:"backward"}):f.deleteBackward(l,{unit:"line"});return}if(ge.isDeleteLineForward(y)){C.preventDefault(),M&&E.isExpanded(M)?f.deleteFragment(l,{direction:"forward"}):f.deleteForward(l,{unit:"line"});return}if(ge.isDeleteWordBackward(y)){C.preventDefault(),M&&E.isExpanded(M)?f.deleteFragment(l,{direction:"backward"}):f.deleteBackward(l,{unit:"word"});return}if(ge.isDeleteWordForward(y)){C.preventDefault(),M&&E.isExpanded(M)?f.deleteFragment(l,{direction:"forward"}):f.deleteForward(l,{unit:"word"});return}}}},[s,l,h.onKeyDown]),onPaste:F.useCallback(C=>{!s&&b.hasEditableTarget(l,C.target)&&!Ee(C,h.onPaste)&&(!Ge||tc(C.nativeEvent)||St)&&(C.preventDefault(),b.insertData(l,C.clipboardData))},[s,l,h.onPaste])}),Q.createElement(tv,{decorations:L,node:l,renderElement:o,renderPlaceholder:i,renderLeaf:c,selection:l.selection})))))},nv=e=>{var{attributes:t,children:r}=e;return Q.createElement("span",Object.assign({},t),r,Oe&&Q.createElement("br",null))},av=()=>[],uv=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&E.isCollapsed(e.selection))){var r=t.startContainer.parentElement;r.getBoundingClientRect=t.getBoundingClientRect.bind(t),Ki(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},Ee=(e,t)=>{if(!t)return!1;var r=t(e);return r??(e.isDefaultPrevented()||e.isPropagationStopped())},Ha=e=>Je(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),sv=(e,t)=>{if(!t)return!1;var r=t(e);return r??e.defaultPrevented},iv=F.createContext(!1),ov=F.createContext({});function lv(e){var t=F.useRef([]).current,r=F.useRef({editor:e}).current,n=F.useCallback(u=>{r.editor=u,t.forEach(s=>s(u))},[t,r]),a=F.useMemo(()=>({getSlate:()=>r.editor,addEventListener:u=>(t.push(u),()=>{t.splice(t.indexOf(u),1)})}),[t,r]);return{selectorContext:a,onChange:n}}var fv=["editor","children","onChange","initialValue"],cv=e=>{var{editor:t,children:r,onChange:n,initialValue:a}=e,u=ht(e,fv),s=F.useRef(!1),[o,c]=Q.useState(()=>{if(!$.isNodeList(a))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Ce.stringify(a)));if(!f.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(Ce.stringify(t)));return t.children=a,Object.assign(t,u),{v:0,editor:t}}),{selectorContext:i,onChange:v}=lv(t),d=F.useCallback(()=>{n&&n(t.children),c(h=>({v:h.v+1,editor:t})),v(t)},[t,v,n]);F.useEffect(()=>(Hr.set(t,d),()=>{Hr.set(t,()=>{}),s.current=!0}),[t,d]);var[D,p]=F.useState(b.isFocused(t));return F.useEffect(()=>{p(b.isFocused(t))},[t]),Lt(()=>{var h=()=>p(b.isFocused(t));return Hu>=17?(document.addEventListener("focusin",h),document.addEventListener("focusout",h),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",h)}):(document.addEventListener("focus",h,!0),document.addEventListener("blur",h,!0),()=>{document.removeEventListener("focus",h,!0),document.removeEventListener("blur",h,!0)})},[]),Q.createElement(ov.Provider,{value:i},Q.createElement(ns.Provider,{value:o},Q.createElement(vn.Provider,{value:o.editor},Q.createElement(iv.Provider,{value:D},r))))},Va=(e,t)=>{var r=(t.top+t.bottom)/2;return e.top<=r&&e.bottom>=r},Ka=(e,t,r)=>{var n=b.toDOMRange(e,t).getBoundingClientRect(),a=b.toDOMRange(e,r).getBoundingClientRect();return Va(n,a)&&Va(a,n)},vv=(e,t)=>{var r=f.range(e,E.end(t)),n=Array.from(f.positions(e,{at:t})),a=0,u=n.length,s=Math.floor(u/2);if(Ka(e,f.range(e,n[a]),r))return f.range(e,n[a],r);if(n.length<2)return f.range(e,n[n.length-1],r);for(;s!==n.length&&s!==a;)Ka(e,f.range(e,n[s]),r)?u=s:a=s,s=Math.floor((a+u)/2);return f.range(e,n[u],r)};function qa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qa(Object(r),!0).forEach(function(n){vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var dv=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=t,{apply:a,onChange:u,deleteBackward:s,addMark:o,removeMark:c}=n;return dr.set(n,new WeakMap),n.addMark=(i,v)=>{var d,D;(d=gn.get(n))===null||d===void 0||d(),!Me.get(n)&&(D=ye.get(n))!==null&&D!==void 0&&D.length&&Me.set(n,null),Ke.delete(n),o(i,v)},n.removeMark=i=>{var v;!Me.get(n)&&(v=ye.get(n))!==null&&v!==void 0&&v.length&&Me.set(n,null),Ke.delete(n),c(i)},n.deleteBackward=i=>{if(i!=="line")return s(i);if(n.selection&&E.isCollapsed(n.selection)){var v=f.above(n,{match:h=>K.isElement(h)&&f.isBlock(n,h),at:n.selection});if(v){var[,d]=v,D=f.range(n,d,n.selection.anchor),p=vv(n,D);E.isCollapsed(p)||x.delete(n,{at:p})}}},n.apply=i=>{var v=[],d=ye.get(n);if(d!=null&&d.length){var D=d.map(H=>hc(H,i)).filter(Boolean);ye.set(n,D)}var p=_e.get(n);p&&_e.set(n,Ia(n,p,i));var h=Ye.get(n);if(h!=null&&h.at){var l=te.isPoint(h==null?void 0:h.at)?qr(n,h.at,i):Ia(n,h.at,i);Ye.set(n,l?Ua(Ua({},h),{},{at:l}):null)}switch(i.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{v.push(...Zt(n,i.path));break}case"set_selection":{var B;(B=Rt.get(n))===null||B===void 0||B.unref(),Rt.delete(n);break}case"insert_node":case"remove_node":{v.push(...Zt(n,g.parent(i.path)));break}case"merge_node":{var m=g.previous(i.path);v.push(...Zt(n,m));break}case"move_node":{var A=g.common(g.parent(i.path),g.parent(i.newPath));v.push(...Zt(n,A));break}}a(i);for(var[O,P]of v){var[W]=f.node(n,O);Wr.set(W,P)}},n.setFragmentData=i=>{var{selection:v}=n;if(v){var[d,D]=E.edges(v),p=f.void(n,{at:d.path}),h=f.void(n,{at:D.path});if(!(E.isCollapsed(v)&&!p)){var l=b.toDOMRange(n,v),B=l.cloneContents(),m=B.childNodes[0];if(B.childNodes.forEach(V=>{V.textContent&&V.textContent.trim()!==""&&(m=V)}),h){var[A]=h,O=l.cloneRange(),P=b.toDOMNode(n,A);O.setEndAfter(P),B=O.cloneContents()}if(p&&(m=B.querySelector("[data-slate-spacer]")),Array.from(B.querySelectorAll("[data-slate-zero-width]")).forEach(V=>{var X=V.getAttribute("data-slate-zero-width")==="n";V.textContent=X?`
`:""}),Gu(m)){var W=m.ownerDocument.createElement("span");W.style.whiteSpace="pre",W.appendChild(m),B.appendChild(W),m=W}var H=n.getFragment(),T=JSON.stringify(H),Y=window.btoa(encodeURIComponent(T));m.setAttribute("data-slate-fragment",Y),i.setData("application/".concat(r),Y);var S=B.ownerDocument.createElement("div");return S.appendChild(B),S.setAttribute("hidden","true"),B.ownerDocument.body.appendChild(S),i.setData("text/html",S.innerHTML),i.setData("text/plain",_u(S)),B.ownerDocument.body.removeChild(S),i}}},n.insertData=i=>{n.insertFragmentData(i)||n.insertTextData(i)},n.insertFragmentData=i=>{var v=i.getData("application/".concat(r))||sc(i);if(v){var d=decodeURIComponent(window.atob(v)),D=JSON.parse(d);return n.insertFragment(D),!0}return!1},n.insertTextData=i=>{var v=i.getData("text/plain");if(v){var d=v.split(/\r\n|\r|\n/),D=!1;for(var p of d)D&&x.splitNodes(n,{always:!0}),n.insertText(p),D=!0;return!0}return!1},n.onChange=i=>{var v=Hu<18?Rs.unstable_batchedUpdates:d=>d();v(()=>{var d=Hr.get(n);d&&d(),u(i)})},n},Zt=(e,t)=>{var r=[];for(var[n,a]of f.levels(e,{at:t})){var u=b.findKey(e,n);r.push([a,u])}return r};/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var hv=/["'&<>]/,gv=Dv;function Dv(e){var t=""+e,r=hv.exec(t);if(!r)return t;var n,a="",u=0,s=0;for(u=r.index;u<t.length;u++){switch(t.charCodeAt(u)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}s!==u&&(a+=t.substring(s,u)),s=u+1,a+=n}return s!==u?a+t.substring(s,u):a}const Ga=Wt(gv);function Cv(){this.__data__=[],this.size=0}var pv=Cv;function mv(e,t){return e===t||e!==e&&t!==t}var us=mv,Bv=us;function Ev(e,t){for(var r=e.length;r--;)if(Bv(e[r][0],t))return r;return-1}var hr=Ev,Av=hr,bv=Array.prototype,Fv=bv.splice;function wv(e){var t=this.__data__,r=Av(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Fv.call(t,r,1),--this.size,!0}var yv=wv,Ov=hr;function xv(e){var t=this.__data__,r=Ov(t,e);return r<0?void 0:t[r][1]}var Sv=xv,Pv=hr;function Tv(e){return Pv(this.__data__,e)>-1}var $v=Tv,jv=hr;function Rv(e,t){var r=this.__data__,n=jv(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Nv=Rv,Iv=pv,Mv=yv,kv=Sv,Lv=$v,Wv=Nv;function mt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mt.prototype.clear=Iv;mt.prototype.delete=Mv;mt.prototype.get=kv;mt.prototype.has=Lv;mt.prototype.set=Wv;var gr=mt,zv=gr;function Hv(){this.__data__=new zv,this.size=0}var Vv=Hv;function Kv(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var qv=Kv;function Uv(e){return this.__data__.get(e)}var Gv=Uv;function Yv(e){return this.__data__.has(e)}var _v=Yv,Jv=zt,Xv=Xe,Zv="[object AsyncFunction]",Qv="[object Function]",ed="[object GeneratorFunction]",td="[object Proxy]";function rd(e){if(!Xv(e))return!1;var t=Jv(e);return t==Qv||t==ed||t==Zv||t==td}var ss=rd,nd=ke,ad=nd["__core-js_shared__"],ud=ad,Tr=ud,Ya=function(){var e=/[^.]+$/.exec(Tr&&Tr.keys&&Tr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sd(e){return!!Ya&&Ya in e}var id=sd,od=Function.prototype,ld=od.toString;function fd(e){if(e!=null){try{return ld.call(e)}catch{}try{return e+""}catch{}}return""}var is=fd,cd=ss,vd=id,dd=Xe,hd=is,gd=/[\\^$.*+?()[\]{}|]/g,Dd=/^\[object .+?Constructor\]$/,Cd=Function.prototype,pd=Object.prototype,md=Cd.toString,Bd=pd.hasOwnProperty,Ed=RegExp("^"+md.call(Bd).replace(gd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ad(e){if(!dd(e)||vd(e))return!1;var t=cd(e)?Ed:Dd;return t.test(hd(e))}var bd=Ad;function Fd(e,t){return e==null?void 0:e[t]}var wd=Fd,yd=bd,Od=wd;function xd(e,t){var r=Od(e,t);return yd(r)?r:void 0}var ft=xd,Sd=ft,Pd=ke,Td=Sd(Pd,"Map"),pn=Td,$d=ft,jd=$d(Object,"create"),Dr=jd,_a=Dr;function Rd(){this.__data__=_a?_a(null):{},this.size=0}var Nd=Rd;function Id(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Md=Id,kd=Dr,Ld="__lodash_hash_undefined__",Wd=Object.prototype,zd=Wd.hasOwnProperty;function Hd(e){var t=this.__data__;if(kd){var r=t[e];return r===Ld?void 0:r}return zd.call(t,e)?t[e]:void 0}var Vd=Hd,Kd=Dr,qd=Object.prototype,Ud=qd.hasOwnProperty;function Gd(e){var t=this.__data__;return Kd?t[e]!==void 0:Ud.call(t,e)}var Yd=Gd,_d=Dr,Jd="__lodash_hash_undefined__";function Xd(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_d&&t===void 0?Jd:t,this}var Zd=Xd,Qd=Nd,eh=Md,th=Vd,rh=Yd,nh=Zd;function Bt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bt.prototype.clear=Qd;Bt.prototype.delete=eh;Bt.prototype.get=th;Bt.prototype.has=rh;Bt.prototype.set=nh;var ah=Bt,Ja=ah,uh=gr,sh=pn;function ih(){this.size=0,this.__data__={hash:new Ja,map:new(sh||uh),string:new Ja}}var oh=ih;function lh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var fh=lh,ch=fh;function vh(e,t){var r=e.__data__;return ch(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Cr=vh,dh=Cr;function hh(e){var t=dh(this,e).delete(e);return this.size-=t?1:0,t}var gh=hh,Dh=Cr;function Ch(e){return Dh(this,e).get(e)}var ph=Ch,mh=Cr;function Bh(e){return mh(this,e).has(e)}var Eh=Bh,Ah=Cr;function bh(e,t){var r=Ah(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Fh=bh,wh=oh,yh=gh,Oh=ph,xh=Eh,Sh=Fh;function Et(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Et.prototype.clear=wh;Et.prototype.delete=yh;Et.prototype.get=Oh;Et.prototype.has=xh;Et.prototype.set=Sh;var Ph=Et,Th=gr,$h=pn,jh=Ph,Rh=200;function Nh(e,t){var r=this.__data__;if(r instanceof Th){var n=r.__data__;if(!$h||n.length<Rh-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new jh(n)}return r.set(e,t),this.size=r.size,this}var Ih=Nh,Mh=gr,kh=Vv,Lh=qv,Wh=Gv,zh=_v,Hh=Ih;function At(e){var t=this.__data__=new Mh(e);this.size=t.size}At.prototype.clear=kh;At.prototype.delete=Lh;At.prototype.get=Wh;At.prototype.has=zh;At.prototype.set=Hh;var Vh=At;function Kh(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var qh=Kh,Uh=ft,Gh=function(){try{var e=Uh(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Yh=Gh,Xa=Yh;function _h(e,t,r){t=="__proto__"&&Xa?Xa(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var os=_h,Jh=os,Xh=us,Zh=Object.prototype,Qh=Zh.hasOwnProperty;function eg(e,t,r){var n=e[t];(!(Qh.call(e,t)&&Xh(n,r))||r===void 0&&!(t in e))&&Jh(e,t,r)}var ls=eg,tg=ls,rg=os;function ng(e,t,r,n){var a=!r;r||(r={});for(var u=-1,s=t.length;++u<s;){var o=t[u],c=n?n(r[o],e[o],o,r,e):void 0;c===void 0&&(c=e[o]),a?rg(r,o,c):tg(r,o,c)}return r}var pr=ng;function ag(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var ug=ag,sg=zt,ig=Dt,og="[object Arguments]";function lg(e){return ig(e)&&sg(e)==og}var fg=lg,Za=fg,cg=Dt,fs=Object.prototype,vg=fs.hasOwnProperty,dg=fs.propertyIsEnumerable,hg=Za(function(){return arguments}())?Za:function(e){return cg(e)&&vg.call(e,"callee")&&!dg.call(e,"callee")},gg=hg,Dg=Array.isArray,mn=Dg,or={exports:{}};function Cg(){return!1}var pg=Cg;or.exports;(function(e,t){var r=ke,n=pg,a=t&&!t.nodeType&&t,u=a&&!0&&e&&!e.nodeType&&e,s=u&&u.exports===a,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,i=c||n;e.exports=i})(or,or.exports);var cs=or.exports,mg=9007199254740991,Bg=/^(?:0|[1-9]\d*)$/;function Eg(e,t){var r=typeof e;return t=t??mg,!!t&&(r=="number"||r!="symbol"&&Bg.test(e))&&e>-1&&e%1==0&&e<t}var Ag=Eg,bg=9007199254740991;function Fg(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bg}var vs=Fg,wg=zt,yg=vs,Og=Dt,xg="[object Arguments]",Sg="[object Array]",Pg="[object Boolean]",Tg="[object Date]",$g="[object Error]",jg="[object Function]",Rg="[object Map]",Ng="[object Number]",Ig="[object Object]",Mg="[object RegExp]",kg="[object Set]",Lg="[object String]",Wg="[object WeakMap]",zg="[object ArrayBuffer]",Hg="[object DataView]",Vg="[object Float32Array]",Kg="[object Float64Array]",qg="[object Int8Array]",Ug="[object Int16Array]",Gg="[object Int32Array]",Yg="[object Uint8Array]",_g="[object Uint8ClampedArray]",Jg="[object Uint16Array]",Xg="[object Uint32Array]",fe={};fe[Vg]=fe[Kg]=fe[qg]=fe[Ug]=fe[Gg]=fe[Yg]=fe[_g]=fe[Jg]=fe[Xg]=!0;fe[xg]=fe[Sg]=fe[zg]=fe[Pg]=fe[Hg]=fe[Tg]=fe[$g]=fe[jg]=fe[Rg]=fe[Ng]=fe[Ig]=fe[Mg]=fe[kg]=fe[Lg]=fe[Wg]=!1;function Zg(e){return Og(e)&&yg(e.length)&&!!fe[wg(e)]}var Qg=Zg;function eD(e){return function(t){return e(t)}}var Bn=eD,lr={exports:{}};lr.exports;(function(e,t){var r=bu,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,u=a&&a.exports===n,s=u&&r.process,o=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(lr,lr.exports);var En=lr.exports,tD=Qg,rD=Bn,Qa=En,eu=Qa&&Qa.isTypedArray,nD=eu?rD(eu):tD,aD=nD,uD=ug,sD=gg,iD=mn,oD=cs,lD=Ag,fD=aD,cD=Object.prototype,vD=cD.hasOwnProperty;function dD(e,t){var r=iD(e),n=!r&&sD(e),a=!r&&!n&&oD(e),u=!r&&!n&&!a&&fD(e),s=r||n||a||u,o=s?uD(e.length,String):[],c=o.length;for(var i in e)(t||vD.call(e,i))&&!(s&&(i=="length"||a&&(i=="offset"||i=="parent")||u&&(i=="buffer"||i=="byteLength"||i=="byteOffset")||lD(i,c)))&&o.push(i);return o}var ds=dD,hD=Object.prototype;function gD(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||hD;return e===r}var An=gD;function DD(e,t){return function(r){return e(t(r))}}var hs=DD,CD=hs,pD=CD(Object.keys,Object),mD=pD,BD=An,ED=mD,AD=Object.prototype,bD=AD.hasOwnProperty;function FD(e){if(!BD(e))return ED(e);var t=[];for(var r in Object(e))bD.call(e,r)&&r!="constructor"&&t.push(r);return t}var wD=FD,yD=ss,OD=vs;function xD(e){return e!=null&&OD(e.length)&&!yD(e)}var gs=xD,SD=ds,PD=wD,TD=gs;function $D(e){return TD(e)?SD(e):PD(e)}var bn=$D,jD=pr,RD=bn;function ND(e,t){return e&&jD(t,RD(t),e)}var ID=ND;function MD(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var kD=MD,LD=Xe,WD=An,zD=kD,HD=Object.prototype,VD=HD.hasOwnProperty;function KD(e){if(!LD(e))return zD(e);var t=WD(e),r=[];for(var n in e)n=="constructor"&&(t||!VD.call(e,n))||r.push(n);return r}var qD=KD,UD=ds,GD=qD,YD=gs;function _D(e){return YD(e)?UD(e,!0):GD(e)}var Fn=_D,JD=pr,XD=Fn;function ZD(e,t){return e&&JD(t,XD(t),e)}var QD=ZD,fr={exports:{}};fr.exports;(function(e,t){var r=ke,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,u=a&&a.exports===n,s=u?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function c(i,v){if(v)return i.slice();var d=i.length,D=o?o(d):new i.constructor(d);return i.copy(D),D}e.exports=c})(fr,fr.exports);var e0=fr.exports;function t0(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var r0=t0;function n0(e,t){for(var r=-1,n=e==null?0:e.length,a=0,u=[];++r<n;){var s=e[r];t(s,r,e)&&(u[a++]=s)}return u}var a0=n0;function u0(){return[]}var Ds=u0,s0=a0,i0=Ds,o0=Object.prototype,l0=o0.propertyIsEnumerable,tu=Object.getOwnPropertySymbols,f0=tu?function(e){return e==null?[]:(e=Object(e),s0(tu(e),function(t){return l0.call(e,t)}))}:i0,wn=f0,c0=pr,v0=wn;function d0(e,t){return c0(e,v0(e),t)}var h0=d0;function g0(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Cs=g0,D0=hs,C0=D0(Object.getPrototypeOf,Object),ps=C0,p0=Cs,m0=ps,B0=wn,E0=Ds,A0=Object.getOwnPropertySymbols,b0=A0?function(e){for(var t=[];e;)p0(t,B0(e)),e=m0(e);return t}:E0,ms=b0,F0=pr,w0=ms;function y0(e,t){return F0(e,w0(e),t)}var O0=y0,x0=Cs,S0=mn;function P0(e,t,r){var n=t(e);return S0(e)?n:x0(n,r(e))}var Bs=P0,T0=Bs,$0=wn,j0=bn;function R0(e){return T0(e,j0,$0)}var N0=R0,I0=Bs,M0=ms,k0=Fn;function L0(e){return I0(e,k0,M0)}var W0=L0,z0=ft,H0=ke,V0=z0(H0,"DataView"),K0=V0,q0=ft,U0=ke,G0=q0(U0,"Promise"),Y0=G0,_0=ft,J0=ke,X0=_0(J0,"Set"),Z0=X0,Q0=ft,eC=ke,tC=Q0(eC,"WeakMap"),rC=tC,Ur=K0,Gr=pn,Yr=Y0,_r=Z0,Jr=rC,Es=zt,bt=is,ru="[object Map]",nC="[object Object]",nu="[object Promise]",au="[object Set]",uu="[object WeakMap]",su="[object DataView]",aC=bt(Ur),uC=bt(Gr),sC=bt(Yr),iC=bt(_r),oC=bt(Jr),rt=Es;(Ur&&rt(new Ur(new ArrayBuffer(1)))!=su||Gr&&rt(new Gr)!=ru||Yr&&rt(Yr.resolve())!=nu||_r&&rt(new _r)!=au||Jr&&rt(new Jr)!=uu)&&(rt=function(e){var t=Es(e),r=t==nC?e.constructor:void 0,n=r?bt(r):"";if(n)switch(n){case aC:return su;case uC:return ru;case sC:return nu;case iC:return au;case oC:return uu}return t});var yn=rt,lC=Object.prototype,fC=lC.hasOwnProperty;function cC(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&fC.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var vC=cC,dC=ke,hC=dC.Uint8Array,gC=hC,iu=gC;function DC(e){var t=new e.constructor(e.byteLength);return new iu(t).set(new iu(e)),t}var On=DC,CC=On;function pC(e,t){var r=t?CC(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var mC=pC,BC=/\w*$/;function EC(e){var t=new e.constructor(e.source,BC.exec(e));return t.lastIndex=e.lastIndex,t}var AC=EC,ou=Xr,lu=ou?ou.prototype:void 0,fu=lu?lu.valueOf:void 0;function bC(e){return fu?Object(fu.call(e)):{}}var FC=bC,wC=On;function yC(e,t){var r=t?wC(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var OC=yC,xC=On,SC=mC,PC=AC,TC=FC,$C=OC,jC="[object Boolean]",RC="[object Date]",NC="[object Map]",IC="[object Number]",MC="[object RegExp]",kC="[object Set]",LC="[object String]",WC="[object Symbol]",zC="[object ArrayBuffer]",HC="[object DataView]",VC="[object Float32Array]",KC="[object Float64Array]",qC="[object Int8Array]",UC="[object Int16Array]",GC="[object Int32Array]",YC="[object Uint8Array]",_C="[object Uint8ClampedArray]",JC="[object Uint16Array]",XC="[object Uint32Array]";function ZC(e,t,r){var n=e.constructor;switch(t){case zC:return xC(e);case jC:case RC:return new n(+e);case HC:return SC(e,r);case VC:case KC:case qC:case UC:case GC:case YC:case _C:case JC:case XC:return $C(e,r);case NC:return new n;case IC:case LC:return new n(e);case MC:return PC(e);case kC:return new n;case WC:return TC(e)}}var QC=ZC,ep=Xe,cu=Object.create,tp=function(){function e(){}return function(t){if(!ep(t))return{};if(cu)return cu(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),rp=tp,np=rp,ap=ps,up=An;function sp(e){return typeof e.constructor=="function"&&!up(e)?np(ap(e)):{}}var ip=sp,op=yn,lp=Dt,fp="[object Map]";function cp(e){return lp(e)&&op(e)==fp}var vp=cp,dp=vp,hp=Bn,vu=En,du=vu&&vu.isMap,gp=du?hp(du):dp,Dp=gp,Cp=yn,pp=Dt,mp="[object Set]";function Bp(e){return pp(e)&&Cp(e)==mp}var Ep=Bp,Ap=Ep,bp=Bn,hu=En,gu=hu&&hu.isSet,Fp=gu?bp(gu):Ap,wp=Fp,yp=Vh,Op=qh,xp=ls,Sp=ID,Pp=QD,Tp=e0,$p=r0,jp=h0,Rp=O0,Np=N0,Ip=W0,Mp=yn,kp=vC,Lp=QC,Wp=ip,zp=mn,Hp=cs,Vp=Dp,Kp=Xe,qp=wp,Up=bn,Gp=Fn,Yp=1,_p=2,Jp=4,As="[object Arguments]",Xp="[object Array]",Zp="[object Boolean]",Qp="[object Date]",em="[object Error]",bs="[object Function]",tm="[object GeneratorFunction]",rm="[object Map]",nm="[object Number]",Fs="[object Object]",am="[object RegExp]",um="[object Set]",sm="[object String]",im="[object Symbol]",om="[object WeakMap]",lm="[object ArrayBuffer]",fm="[object DataView]",cm="[object Float32Array]",vm="[object Float64Array]",dm="[object Int8Array]",hm="[object Int16Array]",gm="[object Int32Array]",Dm="[object Uint8Array]",Cm="[object Uint8ClampedArray]",pm="[object Uint16Array]",mm="[object Uint32Array]",le={};le[As]=le[Xp]=le[lm]=le[fm]=le[Zp]=le[Qp]=le[cm]=le[vm]=le[dm]=le[hm]=le[gm]=le[rm]=le[nm]=le[Fs]=le[am]=le[um]=le[sm]=le[im]=le[Dm]=le[Cm]=le[pm]=le[mm]=!0;le[em]=le[bs]=le[om]=!1;function rr(e,t,r,n,a,u){var s,o=t&Yp,c=t&_p,i=t&Jp;if(r&&(s=a?r(e,n,a,u):r(e)),s!==void 0)return s;if(!Kp(e))return e;var v=zp(e);if(v){if(s=kp(e),!o)return $p(e,s)}else{var d=Mp(e),D=d==bs||d==tm;if(Hp(e))return Tp(e,o);if(d==Fs||d==As||D&&!a){if(s=c||D?{}:Wp(e),!o)return c?Rp(e,Pp(s,e)):jp(e,Sp(s,e))}else{if(!le[d])return a?e:{};s=Lp(e,d,o)}}u||(u=new yp);var p=u.get(e);if(p)return p;u.set(e,s),qp(e)?e.forEach(function(B){s.add(rr(B,t,r,B,e,u))}):Vp(e)&&e.forEach(function(B,m){s.set(m,rr(B,t,r,m,e,u))});var h=i?c?Ip:Np:c?Gp:Up,l=v?void 0:h(e);return Op(l||e,function(B,m){l&&(m=B,B=e[m]),xp(s,m,rr(B,t,r,m,e,u))}),s}var Bm=rr,Em=Bm,Am=4;function bm(e){return Em(e,Am)}var Fm=bm;const wm=Wt(Fm),we="mooncatcher-new-article",Du="mooncatcher-local-articles-key",Cu="mooncatcher-current-article-key",ym=[{type:"paragraph",children:[{text:"A line of text in a paragraph.",bold:!0}]},{type:"code",children:[{text:"const a = 'b'"}]}],yt=wm(ym),ws=e=>{var r;if(q.isText(e)){let n=Ga(e.text);return e.bold&&(n=`<strong>${n}</strong>`),n}const t=(r=e.children)==null?void 0:r.map(n=>ws(n)).join("");switch(e.type){case"quote":return`<blockquote><p>${t}</p></blockquote>`;case"paragraph":return`<p>${t}</p>`;case"link":return`<a href="${Ga(e.url)}">${t}</a>`;case"code":return` <pre className="code-line"><code>${t}</code></pre>`;default:return t}},Om=F.memo(function(t){const[r]=F.useState(()=>dv(mf())),[n,a]=F.useState(!1),[u,s]=F.useState(""),[o,c]=F.useState(!1),[i,v]=F.useState(null),[d,D]=F.useState([]);F.useState(!1);const[p,h]=F.useState(""),[l,B]=F.useState(null),{setLinkBntAction:m}=Ns(),{octokit:A,userInfo:O,login:P}=mu(),W=F.useCallback(w=>{switch(w.element.type){case"code":return ie.jsx(xm,{...w});default:return ie.jsx(Sm,{...w})}},[]),H=F.useCallback(w=>ie.jsx(Pm,{...w}),[]),T=F.useCallback(({title:w,content:I,currentArticle:U,localArticles:R})=>{I&&w&&(s(I),U!=null&&U.warning?localStorage.setItem(`${we}_${U.warning}`,I):localStorage.setItem(`${we}_${w}`,I)),U&&(v(U),localStorage.setItem(Cu,JSON.stringify(U))),R&&(D(R),localStorage.setItem(Du,JSON.stringify(R)))},[]),Y=F.useCallback(()=>{let w="标题";for(;d.some(R=>R.title===w);)w+="(1)";const I={title:w,remote:!1},U=JSON.stringify(yt);D(R=>[...R,I]),B(null),T({localArticles:[...d,I],currentArticle:I,title:w,content:U}),setTimeout(()=>{B(yt)},1)},[T,d]),S=F.useCallback(w=>{const I={title:w.content.name.replace(".json",""),sha:w.content.sha,remote:!0};let U=!1;const R=d.map(G=>`${G.title}.json`===w.content.name||G.sha===w.content.sha?(U=!0,I):G);T({currentArticle:I}),U&&T({localArticles:R}),alert("已保存至草稿箱")},[T,d]);F.useCallback(w=>{B(null),console.log(w,"article.warning");const I=localStorage.getItem(w!=null&&w.warning?`${we}_${w.warning}`:`${we}_${w.title}`);let U=yt;console.log(I,"currentContext",w!=null&&w.warning?`${we}_${w.warning}`:`${we}_${w.title}`),I&&(U=JSON.parse(I)),T({currentArticle:w}),setTimeout(()=>{B(U)},1)},[T]);const V=F.useCallback(({newCurrentArticle:w,newContent:I})=>{const{title:U}=w;console.log(U,I,w,"newTitlenewTitle");let R=d.length?[...d]:[w];const G={};R=R.map(J=>{let re=J;return(J.title===(i==null?void 0:i.title)||J.sha&&J.sha===(i==null?void 0:i.sha))&&J.warning===i.warning&&(re=w),G[re.title]||(G[re.title]=0),G[re.title]+=1,re}),R=R.map(J=>{if(J.warning&&G[J.title]===1){const re=localStorage.getItem(`${we}_${J.warning}`);return localStorage.setItem(`${we}_${J.title}`,re??""),{...J,warning:void 0}}return J}),T({title:U,content:I,localArticles:R,currentArticle:w})},[i,T,d]),X=F.useCallback(w=>{if(console.log("handleContentChange???"),r.operations.some(U=>U.type!=="set_selection")){const U=JSON.stringify(w),R={...i,remote:!1,title:(i==null?void 0:i.title)??""};V({newCurrentArticle:R,newContent:U})}},[i,r.operations,V]),N=F.useCallback(w=>{const I=[...d],U={title:w.target.value,sha:i==null?void 0:i.sha,remote:!1};w.target.value&&I.some(({title:J})=>J===w.target.value)&&(U.warning=$r().format()+"标题重复");const R=i==null?void 0:i.title,G=localStorage.getItem(i!=null&&i.warning?`${we}_${i.warning}`:`${we}_${R}`);localStorage.removeItem(i!=null&&i.warning?`${we}_${i==null?void 0:i.warning}`:`${we}_${R}`),V({newCurrentArticle:U,newContent:G??""})},[d,i,V]),z=F.useCallback(({sha:w,title:I,owner:U,name:R,email:G})=>{A.request("DELETE /repos/{owner}/{repo}/contents/{path}",{owner:U,repo:`${U}.github.io`,sha:w,path:`public/jsonStore/write/${I}.json`,message:` create or update draft article ${I}`,committer:{name:R,email:G||"moon-catcher@gmail.com"},headers:xn})},[A]),k=F.useCallback(()=>{if(i!=null&&i.warning){alert("标题重复！请修改");return}if(u&&A&&(i!=null&&i.title)){const{login:w,name:I,email:U}=O;A.request("PUT /repos/{owner}/{repo}/contents/{path}",{owner:w,repo:`${w}.github.io`,sha:i.sha,path:`public/jsonStore/write/${i.title}.json`,message:` create or update draft article ${i.title}`,committer:{name:I,email:U||"moon-catcher@gmail.com"},content:btoa(u),headers:xn}).then(R=>{console.log(R,"tetttttt"),i.sha&&p!==i.title&&(z({sha:i.sha,title:p,owner:w,name:I,email:U}),h(i.title)),S(R.data)}).catch(R=>{console.log(R,"error"),R.message?alert("同名文章已存在!"):alert(R.message)})}else A||confirm("未登录,是否登录")&&(P(),c(!0))},[u,A,i,O,p,S,z,P]),L=F.useCallback(()=>{if(i!=null&&i.warning){alert("标题重复！请修改");return}const w=JSON.parse(u);console.log(w.map(I=>ws(I)))},[u,i]);return F.useEffect(()=>{o&&O.login&&(console.log(u,"************"),k())},[o,O.login]),F.useEffect(()=>{typeof m=="function"&&(m("save",k),m("submit",L))},[k,L,m]),F.useEffect(()=>{let w="标题",I={title:"标题",remote:!1};if(t.title)w=t.title;else{const G=localStorage.getItem(Cu)??"";try{if(G){const J=JSON.parse(G);J.title&&(w=J.title,I=J)}}catch(J){console.log(J)}}const U=localStorage.getItem(Du)??"";try{if(U){const G=JSON.parse(U);console.log(G,"tempArr"),G.length&&T({localArticles:G})}}catch(G){console.log(G)}h(w),v(I);let R;if(w){R=localStorage.getItem(I!=null&&I.warning?`${we}_${I.warning}`:`${we}_${I==null?void 0:I.title}`);let G=yt;if(R)try{G=JSON.parse(R)}catch(J){console.log(J)}else R=JSON.stringify(yt);console.log(R,"contentcontentcontentcontent"),B(G),s(R)}},[T,t.title]),F.useEffect(()=>{r?Pt.toggleBoldMark(r,n):a(!1)},[n,r]),F.useEffect(()=>{if(r&&l){const w=l.length-1,I=l[w].children,U=I[I.length-1];r.select({offset:U.text.length,path:[w,I.length-1]})}},[r,l]),ie.jsxs("div",{className:"editor",children:[ie.jsx("div",{className:"header",children:ie.jsx("input",{className:"title",onInput:N,suppressContentEditableWarning:!0,value:(i==null?void 0:i.title)??""})}),ie.jsxs("div",{className:"article-actions",children:[ie.jsx("div",{className:["file-list",t.filePickerOpen?"file-list-active":""].join(" "),onClick:t.onFilePickerOpenChange,children:"文件列表"}),ie.jsx("span",{className:"create-button",onClick:Y,children:"新建"}),(i==null?void 0:i.warning)&&ie.jsxs("div",{className:"titleCeffg-warning",title:"标题重复，请修改",children:["❗❗❗❗❗❗❗❗",i==null?void 0:i.warning,"❗❗❗❗❗❗❗❗❗"]})]}),ie.jsxs("div",{children:[ie.jsx("button",{onMouseDown:w=>{w.preventDefault(),a(I=>!I)},style:{fontWeight:n?"bold":"normal"},children:"Bold"}),ie.jsx("button",{onMouseDown:w=>{w.preventDefault(),Pt.toggleCodeBlock(r)},children:"Code Block"})]}),l?ie.jsx(cv,{editor:r,initialValue:l,onChange:X,children:ie.jsx(rv,{className:"editable",renderElement:W,renderLeaf:H,autoFocus:!0,onSelect:()=>{a(Pt.isBoldMarkActive(r))},onKeyDown:w=>{if(w.key==="Tab"&&(w.preventDefault(),r.insertText("	")),!!w.ctrlKey)switch(w.key){case"`":{w.preventDefault(),Pt.toggleCodeBlock(r);break}case"b":{w.preventDefault(),a(I=>!I);break}}}})}):ie.jsx("div",{className:"editable loading",children:ie.jsx("h2",{children:"loading..."})})]})}),xm=e=>ie.jsx("pre",{...e.attributes,className:"code-line",children:ie.jsx("code",{children:e.children})}),Sm=e=>ie.jsx("p",{...e.attributes,children:e.children}),Pm=e=>ie.jsx("span",{...e.attributes,style:{fontWeight:e.leaf.bold?"bold":"normal"},children:e.children}),Pt={isBoldMarkActive(e){const t=f.marks(e);return t?t.bold===!0:!1},isCodeBlockActive(e){const[t]=f.nodes(e,{match:r=>r.type==="code"});return!!t},toggleBoldMark(e,t){t?f.addMark(e,"bold",!0):f.removeMark(e,"bold")},toggleCodeBlock(e){const t=Pt.isCodeBlockActive(e);x.setNodes(e,{type:t?null:"code"},{match:r=>K.isElement(r)&&f.isBlock(e,r)})}};const Tm=e=>{const[t,r]=F.useState([]),[n,a]=F.useState();F.useReducer($m,{});const u=F.useCallback(async o=>{const c=await window.showDirectoryPicker({startIn:o}),i=await s(c,{});a(i),console.log("--fileList--",t)},[t]);async function s(o,c){console.log(o.values(),"dirHandle");for await(const i of o.values()){if(console.log(i,"entry"),i.kind==="file"){const v=await i.getFile();v.name.endsWith(".md")&&(c[v.name]=v)}i.kind==="directory"&&(console.log(i.name,"entry.name"),c[i.name]={})}return c}return console.log(n,"tree"),F.useEffect(()=>{e.defaultDirectory&&u(e.defaultDirectory)},[u,e.defaultDirectory]),ie.jsx("div",{className:["FilePicker",e.open?"filepicker-show":"filepicker-hidden"].join(" "),children:ie.jsxs("div",{className:"box",children:[ie.jsx("button",{onClick:()=>u(),children:"本地文件保存路径"}),JSON.stringify(n)]})})},$m=(e,t)=>e,jm=F.memo(Tm),pu="YYYY/MM/DD HH:mm:ss";function km(){const e=F.useRef(null),{userInfo:t,login:r}=mu(),[n,a]=F.useState($r().format(pu)),[u,s]=F.useState(!0);F.useEffect(()=>(e.current=setTimeout(()=>{a($r().format(pu))},1e3),()=>{e.current&&clearTimeout(e.current)}),[n]),F.useEffect(()=>{const c=localStorage.getItem("filePickerOpen");s(c!=="close");const i=v=>{console.log(v,"event"),v.ctrlKey&&v.key==="e"&&(v.preventDefault(),s(d=>!d))};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[]);const o=F.useCallback(()=>{s(c=>(localStorage.setItem("filePickerOpen",c?"close":"open"),!c))},[]);return ie.jsxs("div",{className:"write-page",children:[ie.jsxs("div",{className:"author",children:["author: ",t.name??ie.jsx("span",{onClick:()=>r(),children:"未登录"}),`  |       ${n}`]}),ie.jsx(jm,{open:u,defaultDirectory:"E:\\myCode\\OMS\\docs\\code"}),ie.jsx(Om,{filePickerOpen:u,onFilePickerOpenChange:o})]})}export{km as Page};
