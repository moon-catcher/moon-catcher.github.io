(function(){"use strict";onmessage=async r=>{const n=r.data,t=await navigator.storage.getDirectory();console.log(t,"root");const a=await(await(await t.getDirectoryHandle("draft",{create:!0})).getFileHandle("draft.txt",{create:!0})).createSyncAccessHandle(),c=a.getSize(),s=new DataView(new ArrayBuffer(c)),o=a.read(s,{at:0});console.log(o,"readBuffer");const d=new TextEncoder().encode(n);a.write(d,{at:o}),a.flush(),a.close();const e=await navigator.storage.estimate();postMessage("success    percent: "+(((e==null?void 0:e.usage)??0)/((e==null?void 0:e.quota)??0)*100).toFixed(2)+"    avilible: "+(((e==null?void 0:e.quota)??0)/1024/1024).toFixed(2)+"MB")}})();
