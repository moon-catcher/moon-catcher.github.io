import{r,j as e}from"../chunks/chunk-9a4f56c2.js";import{u as h}from"../chunks/chunk-8c5952ad.js";import"../chunks/chunk-24dec1b5.js";const a="/moon-catcher.png";function u({showDetail:s}){const{userInfo:i,login:n,loading:d,error:t}=h(),[o,l]=r.useState({});return console.log(o,t,"userInfo"),r.useEffect(()=>{const c=localStorage.getItem("LOCAL_USERINFO");console.log(c,"userInfoStr"),c&&l(JSON.parse(c))},[]),r.useEffect(()=>{i.name&&!t?(l(i),localStorage.setItem("LOCAL_USERINFO",JSON.stringify(i))):t&&(l({}),localStorage.setItem("LOCAL_USERINFO",""))},[i,t]),e.jsxs("div",{className:"author",style:s?{}:{padding:10},children:[e.jsx("div",{className:"logo",children:o.avatar_url?e.jsx("div",{className:"login",children:e.jsxs("a",{href:"/",style:s?{height:100,width:100}:{height:40,width:40},children:[e.jsx("div",{className:s?"rolling-bigger":"rolling"}),e.jsx("img",{src:o.avatar_url??a,alt:"login",style:s?{height:100,width:100}:{height:40,width:40}})]})}):e.jsxs("div",{className:"login",title:"点击登录",onClick:()=>(!d||t)&&n(),children:[e.jsx("div",{className:"login-text",style:s?{fontSize:16}:{fontSize:8},children:d&&!t?"校验中...":t&&"未登录"||"登录中..."}),e.jsx("div",{className:s?"loading-bigger":"loading"}),e.jsx("img",{src:a,alt:"login",style:s?{height:100,width:100}:{height:40,width:40}})]})}),e.jsxs("div",{className:"detail",children:[e.jsx("div",{children:o.name}),e.jsx("div",{style:s?{}:{position:"absolute",height:0,opacity:0,overflow:"hidden"},children:o.bio}),e.jsx("div",{style:s?{}:{position:"absolute",height:0,opacity:0,overflow:"hidden"},children:"link"}),e.jsx("div",{style:s?{}:{position:"absolute",height:0,opacity:0,overflow:"hidden"},children:"connect"})]}),e.jsxs("div",{className:"blog-info",style:s?{rowGap:"1vh"}:{justifyContent:"right"},children:[e.jsxs("div",{className:"dashboard",style:s?{}:{opacity:0,height:0,overflow:"hidden"},children:[e.jsx("div",{children:"博客文章"}),e.jsx("div",{children:"博客文章"}),e.jsx("div",{children:"博客文章"}),e.jsx("div",{children:"博客文章"}),e.jsx("div",{children:"博客文章"}),e.jsx("div",{children:"博客文章"}),e.jsx("div",{children:"博客文章"}),e.jsx("div",{children:"博客文章"}),e.jsx("div",{children:"博客文章"})]}),e.jsxs("div",{className:"search",children:[e.jsx("input",{placeholder:"搜索文章"}),e.jsx("button",{children:"搜索"})]})]})]})}function x(){const[s,i]=r.useState(0);return e.jsxs("button",{type:"button",onClick:()=>i(n=>n+1),children:["Counter ",s]})}const f={title:"Welcome Moon Catcher!"},g=new Array(100).fill(0).map((s,i)=>({name:"Name"+i,content:"啊发射点发的发射点发萨法沙发沙发沙发"}));function p(){const[s,i]=r.useState(!0),[n,d]=r.useState(0),t=r.useRef(void 0),o=r.useCallback(l=>{clearTimeout(t.current),console.log(l),i(n>l.target.scrollTop),t.current=setTimeout(()=>{d(l.target.scrollTop)},100)},[n]);return r.useEffect(()=>()=>{clearTimeout(t.current)},[]),e.jsxs(e.Fragment,{children:[e.jsx(u,{showDetail:s}),e.jsxs("div",{className:"article-list",onScroll:o,style:{height:`calc(100vh - ${s?"174px":"60px"} - 40px) `},children:[e.jsxs("div",{className:"article-box",children:[e.jsx("h1",{children:"Welcome"}),"This page is:",e.jsxs("ul",{children:[e.jsx("li",{children:"Rendered to HTML."}),e.jsxs("li",{children:["Interactive. ",e.jsx(x,{})]})]})]}),g.map(({name:l,content:c})=>e.jsxs("div",{className:"article-box",children:[e.jsx("h1",{children:l}),e.jsx("p",{children:c})]},l))]})]})}export{p as Page,f as documentProps};
