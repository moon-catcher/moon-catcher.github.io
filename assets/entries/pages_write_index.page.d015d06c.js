import{g as pt,c as xr,R as Y,r as T,j as he}from"../chunks/chunk-9a4f56c2.js";import{i as ge}from"../chunks/chunk-24dec1b5.js";import{R as _u}from"../chunks/chunk-3c9561d0.js";function Ne(r){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+r+(t.length?" "+t.map(function(u){return"'"+u+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function tr(r){return!!r&&!!r[Oe]}function nr(r){var e;return!!r&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var u=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return u===Object||typeof u=="function"&&Function.toString.call(u)===sa}(r)||Array.isArray(r)||!!r[Yt]||!!(!((e=r.constructor)===null||e===void 0)&&e[Yt])||Bt(r)||Et(r))}function Er(r,e,t){t===void 0&&(t=!1),fr(r)===0?(t?Object.keys:Ot)(r).forEach(function(n){t&&typeof n=="symbol"||e(n,r[n],r)}):r.forEach(function(n,u){return e(u,n,r)})}function fr(r){var e=r[Oe];return e?e.i>3?e.i-4:e.i:Array.isArray(r)?1:Bt(r)?2:Et(r)?3:0}function it(r,e){return fr(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function ea(r,e){return fr(r)===2?r.get(e):r[e]}function au(r,e,t){var n=fr(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function ra(r,e){return r===e?r!==0||1/r==1/e:r!=r&&e!=e}function Bt(r){return aa&&r instanceof Map}function Et(r){return ia&&r instanceof Set}function Ze(r){return r.o||r.t}function At(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var e=oa(r);delete e[Oe];for(var t=Ot(e),n=0;n<t.length;n++){var u=t[n],a=e[u];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[u]={configurable:!0,writable:!0,enumerable:a.enumerable,value:r[u]})}return Object.create(Object.getPrototypeOf(r),e)}function Ft(r,e){return e===void 0&&(e=!1),wt(r)||tr(r)||!nr(r)||(fr(r)>1&&(r.set=r.add=r.clear=r.delete=ta),Object.freeze(r),e&&Er(r,function(t,n){return Ft(n,!0)},!0)),r}function ta(){Ne(2)}function wt(r){return r==null||typeof r!="object"||Object.isFrozen(r)}function Le(r){var e=la[r];return e||Ne(18,r),e}function Wt(){return Ar}function Xr(r,e){e&&(Le("Patches"),r.u=[],r.s=[],r.v=e)}function Wr(r){st(r),r.p.forEach(na),r.p=null}function st(r){r===Ar&&(Ar=r.l)}function zt(r){return Ar={p:[],l:Ar,h:r,m:!0,_:0}}function na(r){var e=r[Oe];e.i===0||e.i===1?e.j():e.g=!0}function Zr(r,e){e._=e.p.length;var t=e.p[0],n=r!==void 0&&r!==t;return e.h.O||Le("ES5").S(e,r,n),n?(t[Oe].P&&(Wr(e),Ne(4)),nr(r)&&(r=zr(e,r),e.l||qr(e,r)),e.u&&Le("Patches").M(t[Oe].t,r,e.u,e.s)):r=zr(e,t,[]),Wr(e),e.u&&e.v(e.u,e.s),r!==iu?r:void 0}function zr(r,e,t){if(wt(e))return e;var n=e[Oe];if(!n)return Er(e,function(l,c){return qt(r,n,e,l,c,t)},!0),e;if(n.A!==r)return e;if(!n.P)return qr(r,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var u=n.i===4||n.i===5?n.o=At(n.k):n.o,a=u,i=!1;n.i===3&&(a=new Set(u),u.clear(),i=!0),Er(a,function(l,c){return qt(r,n,u,l,c,t,i)}),qr(r,u,!1),t&&r.u&&Le("Patches").N(n,t,r.u,r.s)}return n.o}function qt(r,e,t,n,u,a,i){if(tr(u)){var l=zr(r,u,a&&e&&e.i!==3&&!it(e.R,n)?a.concat(n):void 0);if(au(t,n,l),!tr(l))return;r.m=!1}else i&&t.add(u);if(nr(u)&&!wt(u)){if(!r.h.D&&r._<1)return;zr(r,u),e&&e.A.l||qr(r,u)}}function qr(r,e,t){t===void 0&&(t=!1),!r.l&&r.h.D&&r.m&&Ft(e,t)}function Jr(r,e){var t=r[Oe];return(t?Ze(t):r)[e]}function Vt(r,e){if(e in r)for(var t=Object.getPrototypeOf(r);t;){var n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Object.getPrototypeOf(t)}}function ot(r){r.P||(r.P=!0,r.l&&ot(r.l))}function Qr(r){r.o||(r.o=At(r.t))}function lt(r,e,t){var n=Bt(e)?Le("MapSet").F(e,t):Et(e)?Le("MapSet").T(e,t):r.O?function(u,a){var i=Array.isArray(u),l={i:i?1:0,A:a?a.A:Wt(),P:!1,I:!1,R:{},l:a,t:u,k:null,o:null,j:null,C:!1},c=l,f=ft;i&&(c=[l],f=Dr);var v=Proxy.revocable(c,f),D=v.revoke,g=v.proxy;return l.k=g,l.j=D,g}(e,t):Le("ES5").J(e,t);return(t?t.A:Wt()).p.push(n),n}function ua(r){return tr(r)||Ne(22,r),function e(t){if(!nr(t))return t;var n,u=t[Oe],a=fr(t);if(u){if(!u.P&&(u.i<4||!Le("ES5").K(u)))return u.t;u.I=!0,n=Ht(t,a),u.I=!1}else n=Ht(t,a);return Er(n,function(i,l){u&&ea(u.t,i)===l||au(n,i,e(l))}),a===3?new Set(n):n}(r)}function Ht(r,e){switch(e){case 2:return new Map(r);case 3:return Array.from(r)}return At(r)}var Kt,Ar,bt=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",aa=typeof Map<"u",ia=typeof Set<"u",Ut=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",iu=bt?Symbol.for("immer-nothing"):((Kt={})["immer-nothing"]=!0,Kt),Yt=bt?Symbol.for("immer-draftable"):"__$immer_draftable",Oe=bt?Symbol.for("immer-state"):"__$immer_state",sa=""+Object.prototype.constructor,Ot=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,oa=Object.getOwnPropertyDescriptors||function(r){var e={};return Ot(r).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(r,t)}),e},la={},ft={get:function(r,e){if(e===Oe)return r;var t=Ze(r);if(!it(t,e))return function(u,a,i){var l,c=Vt(a,i);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(u.k):void 0}(r,t,e);var n=t[e];return r.I||!nr(n)?n:n===Jr(r.t,e)?(Qr(r),r.o[e]=lt(r.A.h,n,r)):n},has:function(r,e){return e in Ze(r)},ownKeys:function(r){return Reflect.ownKeys(Ze(r))},set:function(r,e,t){var n=Vt(Ze(r),e);if(n!=null&&n.set)return n.set.call(r.k,t),!0;if(!r.P){var u=Jr(Ze(r),e),a=u==null?void 0:u[Oe];if(a&&a.t===t)return r.o[e]=t,r.R[e]=!1,!0;if(ra(t,u)&&(t!==void 0||it(r.t,e)))return!0;Qr(r),ot(r)}return r.o[e]===t&&(t!==void 0||e in r.o)||Number.isNaN(t)&&Number.isNaN(r.o[e])||(r.o[e]=t,r.R[e]=!0),!0},deleteProperty:function(r,e){return Jr(r.t,e)!==void 0||e in r.t?(r.R[e]=!1,Qr(r),ot(r)):delete r.R[e],r.o&&delete r.o[e],!0},getOwnPropertyDescriptor:function(r,e){var t=Ze(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.i!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty:function(){Ne(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){Ne(12)}},Dr={};Er(ft,function(r,e){Dr[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Dr.deleteProperty=function(r,e){return Dr.set.call(this,r,e,void 0)},Dr.set=function(r,e,t){return ft.set.call(this,r[0],e,t,r[0])};var fa=function(){function r(t){var n=this;this.O=Ut,this.D=!0,this.produce=function(u,a,i){if(typeof u=="function"&&typeof a!="function"){var l=a;a=u;var c=n;return function(o){var E=this;o===void 0&&(o=l);for(var p=arguments.length,A=Array(p>1?p-1:0),O=1;O<p;O++)A[O-1]=arguments[O];return c.produce(o,function(P){var M;return(M=a).call.apply(M,[E,P].concat(A))})}}var f;if(typeof a!="function"&&Ne(6),i!==void 0&&typeof i!="function"&&Ne(7),nr(u)){var v=zt(n),D=lt(n,u,void 0),g=!0;try{f=a(D),g=!1}finally{g?Wr(v):st(v)}return typeof Promise<"u"&&f instanceof Promise?f.then(function(o){return Xr(v,i),Zr(o,v)},function(o){throw Wr(v),o}):(Xr(v,i),Zr(f,v))}if(!u||typeof u!="object"){if((f=a(u))===void 0&&(f=u),f===iu&&(f=void 0),n.D&&Ft(f,!0),i){var m=[],h=[];Le("Patches").M(u,f,m,h),i(m,h)}return f}Ne(21,u)},this.produceWithPatches=function(u,a){if(typeof u=="function")return function(f){for(var v=arguments.length,D=Array(v>1?v-1:0),g=1;g<v;g++)D[g-1]=arguments[g];return n.produceWithPatches(f,function(m){return u.apply(void 0,[m].concat(D))})};var i,l,c=n.produce(u,a,function(f,v){i=f,l=v});return typeof Promise<"u"&&c instanceof Promise?c.then(function(f){return[f,i,l]}):[c,i,l]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=r.prototype;return e.createDraft=function(t){nr(t)||Ne(8),tr(t)&&(t=ua(t));var n=zt(this),u=lt(this,t,void 0);return u[Oe].C=!0,st(n),u},e.finishDraft=function(t,n){var u=t&&t[Oe],a=u.A;return Xr(a,n),Zr(void 0,a)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!Ut&&Ne(20),this.O=t},e.applyPatches=function(t,n){var u;for(u=n.length-1;u>=0;u--){var a=n[u];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}u>-1&&(n=n.slice(u+1));var i=Le("Patches").$;return tr(t)?i(t,n):this.produce(t,function(l){return i(l,n)})},r}(),ye=new fa,yt=ye.produce;ye.produceWithPatches.bind(ye);ye.setAutoFreeze.bind(ye);ye.setUseProxies.bind(ye);ye.applyPatches.bind(ye);var Gt=ye.createDraft.bind(ye),Xt=ye.finishDraft.bind(ye),ca={transform(r,e){var{current:t,affinity:n}=r;if(t!=null){var u=d.transform(t,e,{affinity:n});r.current=u,u==null&&r.unref()}}},va={transform(r,e){var{current:t,affinity:n}=r;if(t!=null){var u=Z.transform(t,e,{affinity:n});r.current=u,u==null&&r.unref()}}},da={transform(r,e){var{current:t,affinity:n}=r;if(t!=null){var u=B.transform(t,e,{affinity:n});r.current=u,u==null&&r.unref()}}},Vr=new WeakMap,Hr=new WeakMap,Cr=new WeakMap,su=new WeakMap,Zt=new WeakMap,Jt=new WeakMap,Qt=new WeakMap,d={ancestors(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=e,n=d.levels(r,e);return t?n=n.slice(1):n=n.slice(0,-1),n},common(r,e){for(var t=[],n=0;n<r.length&&n<e.length;n++){var u=r[n],a=e[n];if(u!==a)break;t.push(u)}return t},compare(r,e){for(var t=Math.min(r.length,e.length),n=0;n<t;n++){if(r[n]<e[n])return-1;if(r[n]>e[n])return 1}return 0},endsAfter(r,e){var t=r.length-1,n=r.slice(0,t),u=e.slice(0,t),a=r[t],i=e[t];return d.equals(n,u)&&a>i},endsAt(r,e){var t=r.length,n=r.slice(0,t),u=e.slice(0,t);return d.equals(n,u)},endsBefore(r,e){var t=r.length-1,n=r.slice(0,t),u=e.slice(0,t),a=r[t],i=e[t];return d.equals(n,u)&&a<i},equals(r,e){return r.length===e.length&&r.every((t,n)=>t===e[n])},hasPrevious(r){return r[r.length-1]>0},isAfter(r,e){return d.compare(r,e)===1},isAncestor(r,e){return r.length<e.length&&d.compare(r,e)===0},isBefore(r,e){return d.compare(r,e)===-1},isChild(r,e){return r.length===e.length+1&&d.compare(r,e)===0},isCommon(r,e){return r.length<=e.length&&d.compare(r,e)===0},isDescendant(r,e){return r.length>e.length&&d.compare(r,e)===0},isParent(r,e){return r.length+1===e.length&&d.compare(r,e)===0},isPath(r){return Array.isArray(r)&&(r.length===0||typeof r[0]=="number")},isSibling(r,e){if(r.length!==e.length)return!1;var t=r.slice(0,-1),n=e.slice(0,-1),u=r[r.length-1],a=e[e.length-1];return u!==a&&d.equals(t,n)},levels(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=e,n=[],u=0;u<=r.length;u++)n.push(r.slice(0,u));return t&&n.reverse(),n},next(r){if(r.length===0)throw new Error("Cannot get the next path of a root path [".concat(r,"], because it has no next index."));var e=r[r.length-1];return r.slice(0,-1).concat(e+1)},operationCanTransformPath(r){switch(r.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(r){if(r.length===0)throw new Error("Cannot get the parent path of the root path [".concat(r,"]."));return r.slice(0,-1)},previous(r){if(r.length===0)throw new Error("Cannot get the previous path of a root path [".concat(r,"], because it has no previous index."));var e=r[r.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(r,"] because it would result in a negative index."));return r.slice(0,-1).concat(e-1)},relative(r,e){if(!d.isAncestor(e,r)&&!d.equals(r,e))throw new Error("Cannot get the relative path of [".concat(r,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return r.slice(e.length)},transform(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!r)return null;var n=[...r],{affinity:u="forward"}=t;if(r.length===0)return n;switch(e.type){case"insert_node":{var{path:a}=e;(d.equals(a,n)||d.endsBefore(a,n)||d.isAncestor(a,n))&&(n[a.length-1]+=1);break}case"remove_node":{var{path:i}=e;if(d.equals(i,n)||d.isAncestor(i,n))return null;d.endsBefore(i,n)&&(n[i.length-1]-=1);break}case"merge_node":{var{path:l,position:c}=e;d.equals(l,n)||d.endsBefore(l,n)?n[l.length-1]-=1:d.isAncestor(l,n)&&(n[l.length-1]-=1,n[l.length]+=c);break}case"split_node":{var{path:f,position:v}=e;if(d.equals(f,n)){if(u==="forward")n[n.length-1]+=1;else if(u!=="backward")return null}else d.endsBefore(f,n)?n[f.length-1]+=1:d.isAncestor(f,n)&&r[f.length]>=v&&(n[f.length-1]+=1,n[f.length]-=v);break}case"move_node":{var{path:D,newPath:g}=e;if(d.equals(D,g))return n;if(d.isAncestor(D,n)||d.equals(D,n)){var m=g.slice();return d.endsBefore(D,g)&&D.length<g.length&&(m[D.length-1]-=1),m.concat(n.slice(D.length))}else d.isSibling(D,g)&&(d.isAncestor(g,n)||d.equals(g,n))?d.endsBefore(D,n)?n[D.length-1]-=1:n[D.length-1]+=1:d.endsBefore(g,n)||d.equals(g,n)||d.isAncestor(g,n)?(d.endsBefore(D,n)&&(n[D.length-1]-=1),n[g.length-1]+=1):d.endsBefore(D,n)&&(d.equals(g,n)&&(n[g.length-1]+=1),n[D.length-1]-=1);break}}return n}};function Be(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _t(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function vr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_t(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_t(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Da=(r,e,t)=>{switch(t.type){case"insert_node":{var{path:n,node:u}=t,a=y.parent(r,n),i=n[n.length-1];if(i>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(a.children.splice(i,0,u),e)for(var[l,c]of B.points(e))e[c]=Z.transform(l,t);break}case"insert_text":{var{path:f,offset:v,text:D}=t;if(D.length===0)break;var g=y.leaf(r,f),m=g.text.slice(0,v),h=g.text.slice(v);if(g.text=m+D+h,e)for(var[o,E]of B.points(e))e[E]=Z.transform(o,t);break}case"merge_node":{var{path:p}=t,A=y.get(r,p),O=d.previous(p),P=y.get(r,O),M=y.parent(r,p),$=p[p.length-1];if(q.isText(A)&&q.isText(P))P.text+=A.text;else if(!q.isText(A)&&!q.isText(P))P.children.push(...A.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(p,"] to nodes of different interfaces: ").concat(De.stringify(A)," ").concat(De.stringify(P)));if(M.children.splice($,1),e)for(var[j,V]of B.points(e))e[V]=Z.transform(j,t);break}case"move_node":{var{path:x,newPath:W}=t;if(d.isAncestor(x,W))throw new Error("Cannot move a path [".concat(x,"] to new path [").concat(W,"] because the destination is inside itself."));var G=y.get(r,x),N=y.parent(r,x),L=x[x.length-1];N.children.splice(L,1);var I=d.transform(x,t),k=y.get(r,d.parent(I)),J=I[I.length-1];if(k.children.splice(J,0,G),e)for(var[ee,ie]of B.points(e))e[ie]=Z.transform(ee,t);break}case"remove_node":{var{path:U}=t,_=U[U.length-1],fe=y.parent(r,U);if(fe.children.splice(_,1),e)for(var[ae,Ee]of B.points(e)){var C=Z.transform(ae,t);if(e!=null&&C!=null)e[Ee]=C;else{var S=void 0,w=void 0;for(var[R,X]of y.texts(r))if(d.compare(X,U)===-1)S=[R,X];else{w=[R,X];break}var H=!1;S&&w&&(d.equals(w[1],U)?H=!d.hasPrevious(w[1]):H=d.common(S[1],U).length<d.common(w[1],U).length),S&&!H?(ae.path=S[1],ae.offset=S[0].text.length):w?(ae.path=w[1],ae.offset=0):e=null}}break}case"remove_text":{var{path:Q,offset:ue,text:ne}=t;if(ne.length===0)break;var ce=y.leaf(r,Q),re=ce.text.slice(0,ue),Ce=ce.text.slice(ue+ne.length);if(ce.text=re+Ce,e)for(var[me,de]of B.points(e))e[de]=Z.transform(me,t);break}case"set_node":{var{path:Pe,properties:Me,newProperties:Ae}=t;if(Pe.length===0)throw new Error("Cannot set properties on the root node!");var Se=y.get(r,Pe);for(var se in Ae){if(se==="children"||se==="text")throw new Error('Cannot set the "'.concat(se,'" property of nodes!'));var be=Ae[se];be==null?delete Se[se]:Se[se]=be}for(var Ie in Me)Ae.hasOwnProperty(Ie)||delete Se[Ie];break}case"set_selection":{var{newProperties:te}=t;if(te==null)e=te;else{if(e==null){if(!B.isRange(te))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(De.stringify(te)," when there is no current selection."));e=vr({},te)}for(var Te in te){var Or=te[Te];if(Or==null){if(Te==="anchor"||Te==="focus")throw new Error('Cannot remove the "'.concat(Te,'" selection property'));delete e[Te]}else e[Te]=Or}}break}case"split_node":{var{path:Re,position:Ge,properties:yr}=t;if(Re.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Re,"] because the root node cannot be split."));var Xe=y.get(r,Re),Ku=y.parent(r,Re),Uu=Re[Re.length-1],Gr;if(q.isText(Xe)){var Yu=Xe.text.slice(0,Ge),Gu=Xe.text.slice(Ge);Xe.text=Yu,Gr=vr(vr({},yr),{},{text:Gu})}else{var Xu=Xe.children.slice(0,Ge),Zu=Xe.children.slice(Ge);Xe.children=Xu,Gr=vr(vr({},yr),{},{children:Zu})}if(Ku.children.splice(Uu+1,0,Gr),e)for(var[Ju,Qu]of B.points(e))e[Qu]=Z.transform(Ju,t);break}}return e},ha={transform(r,e){r.children=Gt(r.children);var t=r.selection&&Gt(r.selection);try{t=Da(r,t,e)}finally{r.children=Xt(r.children),t?r.selection=tr(t)?Xt(t):t:r.selection=null}}},ga={insertNodes(r,e,t){r.insertNodes(e,t)},liftNodes(r,e){r.liftNodes(e)},mergeNodes(r,e){r.mergeNodes(e)},moveNodes(r,e){r.moveNodes(e)},removeNodes(r,e){r.removeNodes(e)},setNodes(r,e,t){r.setNodes(e,t)},splitNodes(r,e){r.splitNodes(e)},unsetNodes(r,e,t){r.unsetNodes(e,t)},unwrapNodes(r,e){r.unwrapNodes(e)},wrapNodes(r,e,t){r.wrapNodes(e,t)}},Ca={collapse(r,e){r.collapse(e)},deselect(r){r.deselect()},move(r,e){r.move(e)},select(r,e){r.select(e)},setPoint(r,e,t){r.setPoint(e,t)},setSelection(r,e){r.setSelection(e)}},ou=(r,e)=>{for(var t in r){var n=r[t],u=e[t];if(ge(n)&&ge(u)){if(!ou(n,u))return!1}else if(Array.isArray(n)&&Array.isArray(u)){if(n.length!==u.length)return!1;for(var a=0;a<n.length;a++)if(n[a]!==u[a])return!1}else if(n!==u)return!1}for(var i in e)if(r[i]===void 0&&e[i]!==void 0)return!1;return!0};function ma(r,e){if(r==null)return{};var t={},n=Object.keys(r),u,a;for(a=0;a<n.length;a++)u=n[a],!(e.indexOf(u)>=0)&&(t[u]=r[u]);return t}function ze(r,e){if(r==null)return{};var t=ma(r,e),n,u;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(u=0;u<a.length;u++)n=a[u],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}var pa=["anchor","focus"];function en(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Ba(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?en(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):en(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var B={edges(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=e,{anchor:n,focus:u}=r;return B.isBackward(r)===t?[n,u]:[u,n]},end(r){var[,e]=B.edges(r);return e},equals(r,e){return Z.equals(r.anchor,e.anchor)&&Z.equals(r.focus,e.focus)},includes(r,e){if(B.isRange(e)){if(B.includes(r,e.anchor)||B.includes(r,e.focus))return!0;var[t,n]=B.edges(r),[u,a]=B.edges(e);return Z.isBefore(t,u)&&Z.isAfter(n,a)}var[i,l]=B.edges(r),c=!1,f=!1;return Z.isPoint(e)?(c=Z.compare(e,i)>=0,f=Z.compare(e,l)<=0):(c=d.compare(e,i.path)>=0,f=d.compare(e,l.path)<=0),c&&f},intersection(r,e){var t=ze(r,pa),[n,u]=B.edges(r),[a,i]=B.edges(e),l=Z.isBefore(n,a)?a:n,c=Z.isBefore(u,i)?u:i;return Z.isBefore(c,l)?null:Ba({anchor:l,focus:c},t)},isBackward(r){var{anchor:e,focus:t}=r;return Z.isAfter(e,t)},isCollapsed(r){var{anchor:e,focus:t}=r;return Z.equals(e,t)},isExpanded(r){return!B.isCollapsed(r)},isForward(r){return!B.isBackward(r)},isRange(r){return ge(r)&&Z.isPoint(r.anchor)&&Z.isPoint(r.focus)},*points(r){yield[r.anchor,"anchor"],yield[r.focus,"focus"]},start(r){var[e]=B.edges(r);return e},transform(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return yt(r,n=>{if(n===null)return null;var{affinity:u="inward"}=t,a,i;if(u==="inward"){var l=B.isCollapsed(n);B.isForward(n)?(a="forward",i=l?a:"backward"):(a="backward",i=l?a:"forward")}else u==="outward"?B.isForward(n)?(a="backward",i="forward"):(a="forward",i="backward"):(a=u,i=u);var c=Z.transform(n.anchor,e,{affinity:a}),f=Z.transform(n.focus,e,{affinity:i});if(!c||!f)return null;n.anchor=c,n.focus=f})}},rn=r=>ge(r)&&y.isNodeList(r.children)&&!s.isEditor(r),z={isAncestor(r){return ge(r)&&y.isNodeList(r.children)},isElement:rn,isElementList(r){return Array.isArray(r)&&r.every(e=>z.isElement(e))},isElementProps(r){return r.children!==void 0},isElementType:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return rn(e)&&e[n]===t},matches(r,e){for(var t in e)if(t!=="children"&&r[t]!==e[t])return!1;return!0}},Ea=["children"],Aa=["text"],tn=new WeakMap,y={ancestor(r,e){var t=y.get(r,e);if(q.isText(t))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(De.stringify(t)));return t},*ancestors(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of d.ancestors(e,t)){var u=y.ancestor(r,n),a=[u,n];yield a}},child(r,e){if(q.isText(r))throw new Error("Cannot get the child of a text node: ".concat(De.stringify(r)));var t=r.children[e];if(t==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(De.stringify(r)));return t},*children(r,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:n=!1}=t,u=y.ancestor(r,e),{children:a}=u,i=n?a.length-1:0;n?i>=0:i<a.length;){var l=y.child(u,i),c=e.concat(i);yield[l,c],i=n?i-1:i+1}},common(r,e,t){var n=d.common(e,t),u=y.get(r,n);return[u,n]},descendant(r,e){var t=y.get(r,e);if(s.isEditor(t))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(De.stringify(t)));return t},*descendants(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of y.nodes(r,e))n.length!==0&&(yield[t,n])},*elements(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of y.nodes(r,e))z.isElement(t)&&(yield[t,n])},extractProps(r){if(z.isAncestor(r)){var e=ze(r,Ea);return e}else{var e=ze(r,Aa);return e}},first(r,e){for(var t=e.slice(),n=y.get(r,t);n&&!(q.isText(n)||n.children.length===0);)n=n.children[0],t.push(0);return[n,t]},fragment(r,e){if(q.isText(r))throw new Error("Cannot get a fragment starting from a root text node: ".concat(De.stringify(r)));var t=yt({children:r.children},n=>{var[u,a]=B.edges(e),i=y.nodes(n,{reverse:!0,pass:g=>{var[,m]=g;return!B.includes(e,m)}});for(var[,l]of i){if(!B.includes(e,l)){var c=y.parent(n,l),f=l[l.length-1];c.children.splice(f,1)}if(d.equals(l,a.path)){var v=y.leaf(n,l);v.text=v.text.slice(0,a.offset)}if(d.equals(l,u.path)){var D=y.leaf(n,l);D.text=D.text.slice(u.offset)}}s.isEditor(n)&&(n.selection=null)});return t.children},get(r,e){for(var t=r,n=0;n<e.length;n++){var u=e[n];if(q.isText(t)||!t.children[u])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(De.stringify(r)));t=t.children[u]}return t},has(r,e){for(var t=r,n=0;n<e.length;n++){var u=e[n];if(q.isText(t)||!t.children[u])return!1;t=t.children[u]}return!0},isNode(r){return q.isText(r)||z.isElement(r)||s.isEditor(r)},isNodeList(r){if(!Array.isArray(r))return!1;var e=tn.get(r);if(e!==void 0)return e;var t=r.every(n=>y.isNode(n));return tn.set(r,t),t},last(r,e){for(var t=e.slice(),n=y.get(r,t);n&&!(q.isText(n)||n.children.length===0);){var u=n.children.length-1;n=n.children[u],t.push(u)}return[n,t]},leaf(r,e){var t=y.get(r,e);if(!q.isText(t))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(De.stringify(t)));return t},*levels(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of d.levels(e,t)){var u=y.get(r,n);yield[u,n]}},matches(r,e){return z.isElement(r)&&z.isElementProps(e)&&z.matches(r,e)||q.isText(r)&&q.isTextProps(e)&&q.matches(r,e)},*nodes(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:t,reverse:n=!1}=e,{from:u=[],to:a}=e,i=new Set,l=[],c=r;!(a&&(n?d.isBefore(l,a):d.isAfter(l,a)));){if(i.has(c)||(yield[c,l]),!i.has(c)&&!q.isText(c)&&c.children.length!==0&&(t==null||t([c,l])===!1)){i.add(c);var f=n?c.children.length-1:0;d.isAncestor(l,u)&&(f=u[l.length]),l=l.concat(f),c=y.get(r,l);continue}if(l.length===0)break;if(!n){var v=d.next(l);if(y.has(r,v)){l=v,c=y.get(r,l);continue}}if(n&&l[l.length-1]!==0){var D=d.previous(l);l=D,c=y.get(r,l);continue}l=d.parent(l),c=y.get(r,l),i.add(c)}},parent(r,e){var t=d.parent(e),n=y.get(r,t);if(q.isText(n))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return n},string(r){return q.isText(r)?r.text:r.children.map(y.string).join("")},*texts(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of y.nodes(r,e))q.isText(t)&&(yield[t,n])}};function nn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function oe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nn(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var hr={isNodeOperation(r){return hr.isOperation(r)&&r.type.endsWith("_node")},isOperation(r){if(!ge(r))return!1;switch(r.type){case"insert_node":return d.isPath(r.path)&&y.isNode(r.node);case"insert_text":return typeof r.offset=="number"&&typeof r.text=="string"&&d.isPath(r.path);case"merge_node":return typeof r.position=="number"&&d.isPath(r.path)&&ge(r.properties);case"move_node":return d.isPath(r.path)&&d.isPath(r.newPath);case"remove_node":return d.isPath(r.path)&&y.isNode(r.node);case"remove_text":return typeof r.offset=="number"&&typeof r.text=="string"&&d.isPath(r.path);case"set_node":return d.isPath(r.path)&&ge(r.properties)&&ge(r.newProperties);case"set_selection":return r.properties===null&&B.isRange(r.newProperties)||r.newProperties===null&&B.isRange(r.properties)||ge(r.properties)&&ge(r.newProperties);case"split_node":return d.isPath(r.path)&&typeof r.position=="number"&&ge(r.properties);default:return!1}},isOperationList(r){return Array.isArray(r)&&r.every(e=>hr.isOperation(e))},isSelectionOperation(r){return hr.isOperation(r)&&r.type.endsWith("_selection")},isTextOperation(r){return hr.isOperation(r)&&r.type.endsWith("_text")},inverse(r){switch(r.type){case"insert_node":return oe(oe({},r),{},{type:"remove_node"});case"insert_text":return oe(oe({},r),{},{type:"remove_text"});case"merge_node":return oe(oe({},r),{},{type:"split_node",path:d.previous(r.path)});case"move_node":{var{newPath:e,path:t}=r;if(d.equals(e,t))return r;if(d.isSibling(t,e))return oe(oe({},r),{},{path:e,newPath:t});var n=d.transform(t,r),u=d.transform(d.next(t),r);return oe(oe({},r),{},{path:n,newPath:u})}case"remove_node":return oe(oe({},r),{},{type:"insert_node"});case"remove_text":return oe(oe({},r),{},{type:"insert_text"});case"set_node":{var{properties:a,newProperties:i}=r;return oe(oe({},r),{},{properties:i,newProperties:a})}case"set_selection":{var{properties:l,newProperties:c}=r;return l==null?oe(oe({},r),{},{properties:c,newProperties:null}):c==null?oe(oe({},r),{},{properties:null,newProperties:l}):oe(oe({},r),{},{properties:c,newProperties:l})}case"split_node":return oe(oe({},r),{},{type:"merge_node",path:d.next(r.path)})}}},un=new WeakMap,Fa=r=>{var e=un.get(r);if(e!==void 0)return e;if(!ge(r))return!1;var t=typeof r.addMark=="function"&&typeof r.apply=="function"&&typeof r.deleteFragment=="function"&&typeof r.insertBreak=="function"&&typeof r.insertSoftBreak=="function"&&typeof r.insertFragment=="function"&&typeof r.insertNode=="function"&&typeof r.insertText=="function"&&typeof r.isElementReadOnly=="function"&&typeof r.isInline=="function"&&typeof r.isSelectable=="function"&&typeof r.isVoid=="function"&&typeof r.normalizeNode=="function"&&typeof r.onChange=="function"&&typeof r.removeMark=="function"&&typeof r.getDirtyPaths=="function"&&(r.marks===null||ge(r.marks))&&(r.selection===null||B.isRange(r.selection))&&y.isNodeList(r.children)&&hr.isOperationList(r.operations);return un.set(r,t),t},s={above(r,e){return r.above(e)},addMark(r,e,t){r.addMark(e,t)},after(r,e,t){return r.after(e,t)},before(r,e,t){return r.before(e,t)},deleteBackward(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=e;r.deleteBackward(t)},deleteForward(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=e;r.deleteForward(t)},deleteFragment(r,e){r.deleteFragment(e)},edges(r,e){return r.edges(e)},elementReadOnly(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.elementReadOnly(e)},end(r,e){return r.end(e)},first(r,e){return r.first(e)},fragment(r,e){return r.fragment(e)},hasBlocks(r,e){return r.hasBlocks(e)},hasInlines(r,e){return r.hasInlines(e)},hasPath(r,e){return r.hasPath(e)},hasTexts(r,e){return r.hasTexts(e)},insertBreak(r){r.insertBreak()},insertFragment(r,e,t){r.insertFragment(e,t)},insertNode(r,e){r.insertNode(e)},insertSoftBreak(r){r.insertSoftBreak()},insertText(r,e){r.insertText(e)},isBlock(r,e){return r.isBlock(e)},isEdge(r,e,t){return r.isEdge(e,t)},isEditor(r){return Fa(r)},isElementReadOnly(r,e){return r.isElementReadOnly(e)},isEmpty(r,e){return r.isEmpty(e)},isEnd(r,e,t){return r.isEnd(e,t)},isInline(r,e){return r.isInline(e)},isNormalizing(r){return r.isNormalizing()},isSelectable(r,e){return r.isSelectable(e)},isStart(r,e,t){return r.isStart(e,t)},isVoid(r,e){return r.isVoid(e)},last(r,e){return r.last(e)},leaf(r,e,t){return r.leaf(e,t)},levels(r,e){return r.levels(e)},marks(r){return r.getMarks()},next(r,e){return r.next(e)},node(r,e,t){return r.node(e,t)},nodes(r,e){return r.nodes(e)},normalize(r,e){r.normalize(e)},parent(r,e,t){return r.parent(e,t)},path(r,e,t){return r.path(e,t)},pathRef(r,e,t){return r.pathRef(e,t)},pathRefs(r){return r.pathRefs()},point(r,e,t){return r.point(e,t)},pointRef(r,e,t){return r.pointRef(e,t)},pointRefs(r){return r.pointRefs()},positions(r,e){return r.positions(e)},previous(r,e){return r.previous(e)},range(r,e,t){return r.range(e,t)},rangeRef(r,e,t){return r.rangeRef(e,t)},rangeRefs(r){return r.rangeRefs()},removeMark(r,e){r.removeMark(e)},setNormalizing(r,e){r.setNormalizing(e)},start(r,e){return r.start(e)},string(r,e,t){return r.string(e,t)},unhangRange(r,e,t){return r.unhangRange(e,t)},void(r,e){return r.void(e)},withoutNormalizing(r,e){r.withoutNormalizing(e)}},wa={isSpan(r){return Array.isArray(r)&&r.length===2&&r.every(d.isPath)}};function an(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function sn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?an(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):an(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Z={compare(r,e){var t=d.compare(r.path,e.path);return t===0?r.offset<e.offset?-1:r.offset>e.offset?1:0:t},isAfter(r,e){return Z.compare(r,e)===1},isBefore(r,e){return Z.compare(r,e)===-1},equals(r,e){return r.offset===e.offset&&d.equals(r.path,e.path)},isPoint(r){return ge(r)&&typeof r.offset=="number"&&d.isPath(r.path)},transform(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return yt(r,n=>{if(n===null)return null;var{affinity:u="forward"}=t,{path:a,offset:i}=n;switch(e.type){case"insert_node":case"move_node":{n.path=d.transform(a,e,t);break}case"insert_text":{d.equals(e.path,a)&&(e.offset<i||e.offset===i&&u==="forward")&&(n.offset+=e.text.length);break}case"merge_node":{d.equals(e.path,a)&&(n.offset+=e.position),n.path=d.transform(a,e,t);break}case"remove_text":{d.equals(e.path,a)&&e.offset<=i&&(n.offset-=Math.min(i-e.offset,e.text.length));break}case"remove_node":{if(d.equals(e.path,a)||d.isAncestor(e.path,a))return null;n.path=d.transform(a,e,t);break}case"split_node":{if(d.equals(e.path,a)){if(e.position===i&&u==null)return null;(e.position<i||e.position===i&&u==="forward")&&(n.offset-=e.position,n.path=d.transform(a,e,sn(sn({},t),{},{affinity:"forward"})))}else n.path=d.transform(a,e,t);break}}})}},on=void 0,De={setScrubber(r){on=r},stringify(r){return JSON.stringify(r,on)}},ba=["text"],Oa=["anchor","focus"];function ln(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function $e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ln(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ln(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var q={equals(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=t;function u(a){var i=ze(a,ba);return i}return ou(n?u(r):r,n?u(e):e)},isText(r){return ge(r)&&typeof r.text=="string"},isTextList(r){return Array.isArray(r)&&r.every(e=>q.isText(e))},isTextProps(r){return r.text!==void 0},matches(r,e){for(var t in e)if(t!=="text"&&(!r.hasOwnProperty(t)||r[t]!==e[t]))return!1;return!0},decorations(r,e){var t=[$e({},r)];for(var n of e){var u=ze(n,Oa),[a,i]=B.edges(n),l=[],c=0,f=a.offset,v=i.offset;for(var D of t){var{length:g}=D.text,m=c;if(c+=g,f<=m&&c<=v){Object.assign(D,u),l.push(D);continue}if(f!==v&&(f===c||v===m)||f>c||v<m||v===m&&m!==0){l.push(D);continue}var h=D,o=void 0,E=void 0;if(v<c){var p=v-m;E=$e($e({},h),{},{text:h.text.slice(p)}),h=$e($e({},h),{},{text:h.text.slice(0,p)})}if(f>m){var A=f-m;o=$e($e({},h),{},{text:h.text.slice(0,A)}),h=$e($e({},h),{},{text:h.text.slice(A)})}Object.assign(h,u),o&&l.push(o),l.push(h),E&&l.push(E)}t=l}return t}},xt=r=>r.selection?r.selection:r.children.length>0?s.end(r,[]):[0],cr=(r,e)=>{var[t]=s.node(r,e);return n=>n===t},Pt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!t,u=t?Ra(e):e,a=K.None,i=K.None,l=0,c=null,f=null;for(var v of u){var D=v.codePointAt(0);if(!D)break;var g=Ha(v,D);if([a,i]=n?[i,g]:[g,a],ar(a,K.ZWJ)&&ar(i,K.ExtPict)&&(n?c=fn(e.substring(0,l)):c=fn(e.substring(0,e.length-l)),!c)||ar(a,K.RI)&&ar(i,K.RI)&&(f!==null?f=!f:n?f=!0:f=Xa(e.substring(0,e.length-l)),!f)||a!==K.None&&i!==K.None&&Ua(a,i))break;l+=v.length}return l||1},ya=/\s/,xa=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Pa=/['\u2018\u2019]/,Sa=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,u=!1;e.length>0;){var a=Pt(e,t),[i,l]=St(e,a,t);if(Ta(i,l,t))u=!0,n+=a;else if(!u)n+=a;else break;e=l}return n},St=(r,e,t)=>{if(t){var n=r.length-e;return[r.slice(n,r.length),r.slice(0,n)]}return[r.slice(0,e),r.slice(e)]},Ta=function r(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(ya.test(e))return!1;if(Pa.test(e)){var u=Pt(t,n),[a,i]=St(t,u,n);if(r(a,i,n))return!0}return!xa.test(e)},Ra=function*(e){for(var t=e.length-1,n=0;n<e.length;n++){var u=e.charAt(t-n);if(ja(u.charCodeAt(0))){var a=e.charAt(t-n-1);if(Na(a.charCodeAt(0))){yield a+u,n++;continue}}yield u}},Na=r=>r>=55296&&r<=56319,ja=r=>r>=56320&&r<=57343,K;(function(r){r[r.None=0]="None",r[r.Extend=1]="Extend",r[r.ZWJ=2]="ZWJ",r[r.RI=4]="RI",r[r.Prepend=8]="Prepend",r[r.SpacingMark=16]="SpacingMark",r[r.L=32]="L",r[r.V=64]="V",r[r.T=128]="T",r[r.LV=256]="LV",r[r.LVT=512]="LVT",r[r.ExtPict=1024]="ExtPict",r[r.Any=2048]="Any"})(K||(K={}));var Ma=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Ia=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,ka=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,La=/^[\u1100-\u115F\uA960-\uA97C]$/,$a=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Wa=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,za=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,qa=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,Va=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Ha=(r,e)=>{var t=K.Any;return r.search(Ma)!==-1&&(t|=K.Extend),e===8205&&(t|=K.ZWJ),e>=127462&&e<=127487&&(t|=K.RI),r.search(Ia)!==-1&&(t|=K.Prepend),r.search(ka)!==-1&&(t|=K.SpacingMark),r.search(La)!==-1&&(t|=K.L),r.search($a)!==-1&&(t|=K.V),r.search(Wa)!==-1&&(t|=K.T),r.search(za)!==-1&&(t|=K.LV),r.search(qa)!==-1&&(t|=K.LVT),r.search(Va)!==-1&&(t|=K.ExtPict),t};function ar(r,e){return(r&e)!==0}var Ka=[[K.L,K.L|K.V|K.LV|K.LVT],[K.LV|K.V,K.V|K.T],[K.LVT|K.T,K.T],[K.Any,K.Extend|K.ZWJ],[K.Any,K.SpacingMark],[K.Prepend,K.Any],[K.ZWJ,K.ExtPict],[K.RI,K.RI]];function Ua(r,e){return Ka.findIndex(t=>ar(r,t[0])&&ar(e,t[1]))===-1}var Ya=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,fn=r=>r.search(Ya)!==-1,Ga=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Xa=r=>{var e=r.match(Ga);if(e===null)return!1;var t=e[0].length/2;return t%2===1},Za={delete(r,e){r.delete(e)},insertFragment(r,e,t){r.insertFragment(e,t)},insertText(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s.withoutNormalizing(r,()=>{var{voids:n=!1}=t,{at:u=xt(r)}=t;if(d.isPath(u)&&(u=s.range(r,u)),B.isRange(u))if(B.isCollapsed(u))u=u.anchor;else{var a=B.end(u);if(!n&&s.void(r,{at:a}))return;var i=B.start(u),l=s.pointRef(r,i),c=s.pointRef(r,a);b.delete(r,{at:u,voids:n});var f=l.unref(),v=c.unref();u=f||v,b.setSelection(r,{anchor:u,focus:u})}if(!(!n&&s.void(r,{at:u})||s.elementReadOnly(r,{at:u}))){var{path:D,offset:g}=u;e.length>0&&r.apply({type:"insert_text",path:D,offset:g,text:e})}})}};function cn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Pr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cn(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):cn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var b=Pr(Pr(Pr(Pr({},ha),ga),Ca),Za),Ja=(r,e)=>{for(var t of s.pathRefs(r))ca.transform(t,e);for(var n of s.pointRefs(r))va.transform(n,e);for(var u of s.rangeRefs(r))da.transform(u,e);var a=Vr.get(r)||[],i=Hr.get(r)||new Set,l,c,f=h=>{if(h){var o=h.join(",");c.has(o)||(c.add(o),l.push(h))}};if(d.operationCanTransformPath(e)){l=[],c=new Set;for(var v of a){var D=d.transform(v,e);f(D)}}else l=a,c=i;var g=r.getDirtyPaths(e);for(var m of g)f(m);Vr.set(r,l),Hr.set(r,c),b.transform(r,e),r.operations.push(e),s.normalize(r,{operation:e}),e.type==="set_selection"&&(r.marks=null),Cr.get(r)||(Cr.set(r,!0),Promise.resolve().then(()=>{Cr.set(r,!1),r.onChange({operation:e}),r.operations=[]}))},Qa=(r,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:t}=e;return d.levels(t)}case"insert_node":{var{node:n,path:u}=e,a=d.levels(u),i=q.isText(n)?[]:Array.from(y.nodes(n),W=>{var[,G]=W;return u.concat(G)});return[...a,...i]}case"merge_node":{var{path:l}=e,c=d.ancestors(l),f=d.previous(l);return[...c,f]}case"move_node":{var{path:v,newPath:D}=e;if(d.equals(v,D))return[];var g=[],m=[];for(var h of d.ancestors(v)){var o=d.transform(h,e);g.push(o)}for(var E of d.ancestors(D)){var p=d.transform(E,e);m.push(p)}var A=m[m.length-1],O=D[D.length-1],P=A.concat(O);return[...g,...m,P]}case"remove_node":{var{path:M}=e,$=d.ancestors(M);return[...$]}case"split_node":{var{path:j}=e,V=d.levels(j),x=d.next(j);return[...V,x]}default:return[]}},_a=r=>{var{selection:e}=r;return e?y.fragment(r,e):[]},ei=(r,e)=>{var[t,n]=e;if(!q.isText(t)){if(z.isElement(t)&&t.children.length===0){var u={text:""};b.insertNodes(r,u,{at:n.concat(0),voids:!0});return}for(var a=s.isEditor(t)?!1:z.isElement(t)&&(r.isInline(t)||t.children.length===0||q.isText(t.children[0])||r.isInline(t.children[0])),i=0,l=0;l<t.children.length;l++,i++){var c=y.get(r,n);if(!q.isText(c)){var f=c.children[i],v=c.children[i-1],D=l===t.children.length-1,g=q.isText(f)||z.isElement(f)&&r.isInline(f);if(g!==a)b.removeNodes(r,{at:n.concat(i),voids:!0}),i--;else if(z.isElement(f)){if(r.isInline(f)){if(v==null||!q.isText(v)){var m={text:""};b.insertNodes(r,m,{at:n.concat(i),voids:!0}),i++}else if(D){var h={text:""};b.insertNodes(r,h,{at:n.concat(i+1),voids:!0}),i++}}}else v!=null&&q.isText(v)&&(q.equals(f,v,{loose:!0})?(b.mergeNodes(r,{at:n.concat(i),voids:!0}),i--):v.text===""?(b.removeNodes(r,{at:n.concat(i-1),voids:!0}),i--):f.text===""&&(b.removeNodes(r,{at:n.concat(i),voids:!0}),i--))}}}},ri=(r,e)=>{var{iteration:t,initialDirtyPathsLength:n}=e,u=n*42;if(t>u)throw new Error("Could not completely normalize the editor after ".concat(u," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},ti=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:u="lowest",at:a=e.selection,match:i}=t;if(a){var l=s.path(e,a),c=u==="lowest";for(var[f,v]of s.levels(e,{at:l,voids:n,match:i,reverse:c}))if(!q.isText(f)){if(B.isRange(a)){if(d.isAncestor(v,a.anchor.path)&&d.isAncestor(v,a.focus.path))return[f,v]}else if(!d.equals(l,v))return[f,v]}}};function vn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function dn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vn(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):vn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ni=(r,e,t)=>{var{selection:n}=r;if(n){var u=(D,g)=>{if(!q.isText(D))return!1;var[m,h]=s.parent(r,g);return!r.isVoid(m)||r.markableVoid(m)},a=B.isExpanded(n),i=!1;if(!a){var[l,c]=s.node(r,n);if(l&&u(l,c)){var[f]=s.parent(r,c);i=f&&r.markableVoid(f)}}if(a||i)b.setNodes(r,{[e]:t},{match:u,split:!0,voids:!0});else{var v=dn(dn({},s.marks(r)||{}),{},{[e]:t});r.marks=v,Cr.get(r)||r.onChange()}}};function Dn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function hn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dn(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Dn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ui=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.point(e,t,{edge:"end"}),a=s.end(e,[]),i={anchor:u,focus:a},{distance:l=1}=n,c=0,f;for(var v of s.positions(e,hn(hn({},n),{},{at:i}))){if(c>l)break;c!==0&&(f=v),c++}return f};function gn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Cn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gn(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ai=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.start(e,[]),a=s.point(e,t,{edge:"start"}),i={anchor:u,focus:a},{distance:l=1}=n,c=0,f;for(var v of s.positions(e,Cn(Cn({},n),{},{at:i,reverse:!0}))){if(c>l)break;c!==0&&(f=v),c++}return f},ii=(r,e)=>{var{selection:t}=r;t&&B.isCollapsed(t)&&b.delete(r,{unit:e,reverse:!0})},si=(r,e)=>{var{selection:t}=r;t&&B.isCollapsed(t)&&b.delete(r,{unit:e})},oi=function(e){var{direction:t="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e;n&&B.isExpanded(n)&&b.delete(e,{reverse:t==="backward"})},li=(r,e)=>[s.start(r,e),s.end(r,e)];function mn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function pn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mn(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):mn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var fi=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s.above(e,pn(pn({},t),{},{match:n=>z.isElement(n)&&s.isElementReadOnly(e,n)}))},ci=(r,e)=>s.point(r,e,{edge:"end"}),vi=(r,e)=>{var t=s.path(r,e,{edge:"start"});return s.node(r,t)},di=(r,e)=>{var t=s.range(r,e);return y.fragment(r,t)};function Bn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function En(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Bn(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Bn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Di=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s.above(e,En(En({},t),{},{match:n=>z.isElement(n)&&s.isVoid(e,n)}))},hi=(r,e)=>e.children.some(t=>z.isElement(t)&&s.isBlock(r,t)),gi=(r,e)=>e.children.some(t=>q.isText(t)||s.isInline(r,t)),Ci=(r,e)=>y.has(r,e),mi=(r,e)=>e.children.every(t=>q.isText(t)),pi=r=>{b.splitNodes(r,{always:!0})},Bi=(r,e,t)=>{b.insertNodes(r,e,t)},Ei=r=>{b.splitNodes(r,{always:!0})};function An(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Ai(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?An(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):An(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Fi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:u,marks:a}=e;if(u){if(a){var i=Ai({text:t},a);b.insertNodes(e,i,{at:n.at,voids:n.voids})}else b.insertText(e,t,n);e.marks=null}},wi=(r,e)=>!r.isInline(e),bi=(r,e,t)=>s.isStart(r,e,t)||s.isEnd(r,e,t),Oi=(r,e)=>{var{children:t}=e,[n]=t;return t.length===0||t.length===1&&q.isText(n)&&n.text===""&&!r.isVoid(e)},yi=(r,e,t)=>{var n=s.end(r,t);return Z.equals(e,n)},xi=r=>{var e=su.get(r);return e===void 0?!0:e},Pi=(r,e,t)=>{if(e.offset!==0)return!1;var n=s.start(r,t);return Z.equals(e,n)},Si=(r,e)=>{var t=s.path(r,e,{edge:"end"});return s.node(r,t)},Ti=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.path(e,t,n),a=y.leaf(e,u);return[a,u]};function*Ri(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=r.selection,reverse:n=!1,voids:u=!1}=e,{match:a}=e;if(a==null&&(a=()=>!0),!!t){var i=[],l=s.path(r,t);for(var[c,f]of y.levels(r,l))if(a(c,f)&&(i.push([c,f]),!u&&z.isElement(c)&&s.isVoid(r,c)))break;n&&i.reverse(),yield*i}}var Ni=["text"],ji=["text"],Mi=function(e){var{marks:t,selection:n}=e;if(!n)return null;if(t)return t;if(B.isExpanded(n)){var[u]=s.nodes(e,{match:q.isText});if(u){var[a]=u,i=ze(a,Ni);return i}else return{}}var{anchor:l}=n,{path:c}=l,[f]=s.leaf(e,c);if(l.offset===0){var v=s.previous(e,{at:c,match:q.isText}),D=s.above(e,{match:p=>z.isElement(p)&&s.isVoid(e,p)&&e.markableVoid(p)});if(!D){var g=s.above(e,{match:p=>z.isElement(p)&&s.isBlock(e,p)});if(v&&g){var[m,h]=v,[,o]=g;d.isAncestor(o,h)&&(f=m)}}}var E=ze(f,ji);return E},Ii=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=t,{match:a,at:i=e.selection}=t;if(i){var l=s.after(e,i,{voids:u});if(l){var[,c]=s.last(e,[]),f=[l.path,c];if(d.isPath(i)&&i.length===0)throw new Error("Cannot get the next node from the root node!");if(a==null)if(d.isPath(i)){var[v]=s.parent(e,i);a=g=>v.children.includes(g)}else a=()=>!0;var[D]=s.nodes(e,{at:f,match:a,mode:n,voids:u});return D}}},ki=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.path(e,t,n),a=y.get(e,u);return[a,u]};function*Li(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=r.selection,mode:n="all",universal:u=!1,reverse:a=!1,voids:i=!1,ignoreNonSelectable:l=!1}=e,{match:c}=e;if(c||(c=()=>!0),!!t){var f,v;if(wa.isSpan(t))f=t[0],v=t[1];else{var D=s.path(r,t,{edge:"start"}),g=s.path(r,t,{edge:"end"});f=a?g:D,v=a?D:g}var m=y.nodes(r,{reverse:a,from:f,to:v,pass:P=>{var[M]=P;return z.isElement(M)?!!(!i&&(s.isVoid(r,M)||s.isElementReadOnly(r,M))||l&&!s.isSelectable(r,M)):!1}}),h=[],o;for(var[E,p]of m)if(!(l&&z.isElement(E)&&!s.isSelectable(r,E))){var A=o&&d.compare(p,o[1])===0;if(!(n==="highest"&&A)){if(!c(E,p)){if(u&&!A&&q.isText(E))return;continue}if(n==="lowest"&&A){o=[E,p];continue}var O=n==="lowest"?o:[E,p];O&&(u?h.push(O):yield O),o=[E,p]}}n==="lowest"&&o&&(u?h.push(o):yield o),u&&(yield*h)}}var $i=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:u}=t,a=v=>Vr.get(v)||[],i=v=>Hr.get(v)||new Set,l=v=>{var D=a(v).pop(),g=D.join(",");return i(v).delete(g),D};if(s.isNormalizing(e)){if(n){var c=Array.from(y.nodes(e),v=>{var[,D]=v;return D}),f=new Set(c.map(v=>v.join(",")));Vr.set(e,c),Hr.set(e,f)}a(e).length!==0&&s.withoutNormalizing(e,()=>{for(var v of a(e))if(y.has(e,v)){var D=s.node(e,v),[g,m]=D;z.isElement(g)&&g.children.length===0&&e.normalizeNode(D,{operation:u})}for(var h=a(e),o=h.length,E=0;h.length!==0;){if(!e.shouldNormalize({dirtyPaths:h,iteration:E,initialDirtyPathsLength:o,operation:u}))return;var p=l(e);if(y.has(e,p)){var A=s.node(e,p);e.normalizeNode(A,{operation:u})}E++,h=a(e)}})}},Wi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.path(e,t,n),a=d.parent(u),i=s.node(e,a);return i},zi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,a={current:t,affinity:u,unref(){var{current:l}=a,c=s.pathRefs(e);return c.delete(a),a.current=null,l}},i=s.pathRefs(e);return i.add(a),a},qi=r=>{var e=Zt.get(r);return e||(e=new Set,Zt.set(r,e)),e},Vi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:u,edge:a}=n;if(d.isPath(t)){if(a==="start"){var[,i]=y.first(e,t);t=i}else if(a==="end"){var[,l]=y.last(e,t);t=l}}return B.isRange(t)&&(a==="start"?t=B.start(t):a==="end"?t=B.end(t):t=d.common(t.anchor.path,t.focus.path)),Z.isPoint(t)&&(t=t.path),u!=null&&(t=t.slice(0,u)),t},Hi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,a={current:t,affinity:u,unref(){var{current:l}=a,c=s.pointRefs(e);return c.delete(a),a.current=null,l}},i=s.pointRefs(e);return i.add(a),a},Ki=r=>{var e=Jt.get(r);return e||(e=new Set,Jt.set(r,e)),e},Ui=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:u="start"}=n;if(d.isPath(t)){var a;if(u==="end"){var[,i]=y.last(e,t);a=i}else{var[,l]=y.first(e,t);a=l}var c=y.get(e,a);if(!q.isText(c))throw new Error("Cannot get the ".concat(u," point in the node at path [").concat(t,"] because it has no ").concat(u," text node."));return{path:a,offset:u==="end"?c.text.length:0}}if(B.isRange(t)){var[f,v]=B.edges(t);return u==="start"?f:v}return t};function*Yi(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=r.selection,unit:n="offset",reverse:u=!1,voids:a=!1,ignoreNonSelectable:i=!1}=e;if(!t)return;var l=s.range(r,t),[c,f]=B.edges(l),v=u?f:c,D=!1,g="",m=0,h=0,o=0;for(var[E,p]of s.nodes(r,{at:t,reverse:u,voids:a,ignoreNonSelectable:i})){if(z.isElement(E)){if(!a&&(r.isVoid(E)||r.isElementReadOnly(E))){yield s.start(r,p);continue}if(r.isInline(E))continue;if(s.hasInlines(r,E)){var A=d.isAncestor(p,f.path)?f:s.end(r,p),O=d.isAncestor(p,c.path)?c:s.start(r,p);g=s.string(r,{anchor:O,focus:A},{voids:a}),D=!0}}if(q.isText(E)){var P=d.equals(p,v.path);for(P?(h=u?v.offset:E.text.length-v.offset,o=v.offset):(h=E.text.length,o=u?h:0),(P||D||n==="offset")&&(yield{path:p,offset:o},D=!1);;){if(m===0){if(g==="")break;m=M(g,n,u),g=St(g,m,u)[1]}if(o=u?o-m:o+m,h=h-m,h<0){m=-h;break}m=0,yield{path:p,offset:o}}}}function M($,j,V){return j==="character"?Pt($,V):j==="word"?Sa($,V):j==="line"||j==="block"?$.length:1}}var Gi=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=t,{match:a,at:i=e.selection}=t;if(i){var l=s.before(e,i,{voids:u});if(l){var[,c]=s.first(e,[]),f=[l.path,c];if(d.isPath(i)&&i.length===0)throw new Error("Cannot get the previous node from the root node!");if(a==null)if(d.isPath(i)){var[v]=s.parent(e,i);a=g=>v.children.includes(g)}else a=()=>!0;var[D]=s.nodes(e,{reverse:!0,at:f,match:a,mode:n,voids:u});return D}}},Xi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,a={current:t,affinity:u,unref(){var{current:l}=a,c=s.rangeRefs(e);return c.delete(a),a.current=null,l}},i=s.rangeRefs(e);return i.add(a),a},Zi=r=>{var e=Qt.get(r);return e||(e=new Set,Qt.set(r,e)),e},Ji=(r,e,t)=>{if(B.isRange(e)&&!t)return e;var n=s.start(r,e),u=s.end(r,t||e);return{anchor:n,focus:u}};function Fn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Qi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fn(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Fn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var _i=(r,e)=>{var{selection:t}=r;if(t){var n=(v,D)=>{if(!q.isText(v))return!1;var[g,m]=s.parent(r,D);return!r.isVoid(g)||r.markableVoid(g)},u=B.isExpanded(t),a=!1;if(!u){var[i,l]=s.node(r,t);if(i&&n(i,l)){var[c]=s.parent(r,l);a=c&&r.markableVoid(c)}}if(u||a)b.unsetNodes(r,e,{match:n,split:!0,voids:!0});else{var f=Qi({},s.marks(r)||{});delete f[e],r.marks=f,Cr.get(r)||r.onChange()}}},es=(r,e)=>{su.set(r,e)},rs=(r,e)=>s.point(r,e,{edge:"start"}),ts=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,a=s.range(e,t),[i,l]=B.edges(a),c="";for(var[f,v]of s.nodes(e,{at:a,match:q.isText,voids:u})){var D=f.text;d.equals(v,l.path)&&(D=D.slice(0,l.offset)),d.equals(v,i.path)&&(D=D.slice(i.offset)),c+=D}return c},ns=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,[a,i]=B.edges(t);if(a.offset!==0||i.offset!==0||B.isCollapsed(t)||d.hasPrevious(i.path))return t;var l=s.above(e,{at:i,match:h=>z.isElement(h)&&s.isBlock(e,h),voids:u}),c=l?l[1]:[],f=s.start(e,a),v={anchor:f,focus:i},D=!0;for(var[g,m]of s.nodes(e,{at:v,match:q.isText,reverse:!0,voids:u})){if(D){D=!1;continue}if(g.text!==""||d.isBefore(m,c)){i={path:m,offset:g.text.length};break}}return{anchor:a,focus:i}},us=(r,e)=>{var t=s.isNormalizing(r);s.setNormalizing(r,!1);try{e()}finally{s.setNormalizing(r,t)}s.normalize(r)},as=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.withoutNormalizing(e,()=>{var n,u,{reverse:a=!1,unit:i="character",distance:l=1,voids:c=!1}=t,{at:f=e.selection,hanging:v=!1}=t;if(f){var D=!1;if(B.isRange(f)&&B.isCollapsed(f)&&(D=!0,f=f.anchor),Z.isPoint(f)){var g=s.void(e,{at:f,mode:"highest"});if(!c&&g){var[,m]=g;f=m}else{var h={unit:i,distance:l},o=a?s.before(e,f,h)||s.start(e,[]):s.after(e,f,h)||s.end(e,[]);f={anchor:f,focus:o},v=!0}}if(d.isPath(f)){b.removeNodes(e,{at:f,voids:c});return}if(!B.isCollapsed(f)){if(!v){var[,E]=B.edges(f),p=s.end(e,[]);Z.equals(E,p)||(f=s.unhangRange(e,f,{voids:c}))}var[A,O]=B.edges(f),P=s.above(e,{match:re=>z.isElement(re)&&s.isBlock(e,re),at:A,voids:c}),M=s.above(e,{match:re=>z.isElement(re)&&s.isBlock(e,re),at:O,voids:c}),$=P&&M&&!d.equals(P[1],M[1]),j=d.equals(A.path,O.path),V=c?null:(n=s.void(e,{at:A,mode:"highest"}))!==null&&n!==void 0?n:s.elementReadOnly(e,{at:A,mode:"highest"}),x=c?null:(u=s.void(e,{at:O,mode:"highest"}))!==null&&u!==void 0?u:s.elementReadOnly(e,{at:O,mode:"highest"});if(V){var W=s.before(e,A);W&&P&&d.isAncestor(P[1],W.path)&&(A=W)}if(x){var G=s.after(e,O);G&&M&&d.isAncestor(M[1],G.path)&&(O=G)}var N=[],L;for(var I of s.nodes(e,{at:f,voids:c})){var[k,J]=I;L&&d.compare(J,L)===0||(!c&&z.isElement(k)&&(s.isVoid(e,k)||s.isElementReadOnly(e,k))||!d.isCommon(J,A.path)&&!d.isCommon(J,O.path))&&(N.push(I),L=J)}var ee=Array.from(N,re=>{var[,Ce]=re;return s.pathRef(e,Ce)}),ie=s.pointRef(e,A),U=s.pointRef(e,O),_="";if(!j&&!V){var fe=ie.current,[ae]=s.leaf(e,fe),{path:Ee}=fe,{offset:C}=A,S=ae.text.slice(C);S.length>0&&(e.apply({type:"remove_text",path:Ee,offset:C,text:S}),_=S)}if(ee.reverse().map(re=>re.unref()).filter(re=>re!==null).forEach(re=>b.removeNodes(e,{at:re,voids:c})),!x){var w=U.current,[R]=s.leaf(e,w),{path:X}=w,H=j?A.offset:0,Q=R.text.slice(H,O.offset);Q.length>0&&(e.apply({type:"remove_text",path:X,offset:H,text:Q}),_=Q)}!j&&$&&U.current&&ie.current&&b.mergeNodes(e,{at:U.current,hanging:!0,voids:c}),D&&a&&i==="character"&&_.length>1&&_.match(/[\u0E00-\u0E7F]+/)&&b.insertText(e,_.slice(0,_.length-l));var ue=ie.unref(),ne=U.unref(),ce=a?ue||ne:ne||ue;t.at==null&&ce&&b.select(e,ce)}}})},is=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s.withoutNormalizing(e,()=>{var{hanging:u=!1,voids:a=!1}=n,{at:i=xt(e)}=n;if(t.length){if(B.isRange(i))if(u||(i=s.unhangRange(e,i,{voids:a})),B.isCollapsed(i))i=i.anchor;else{var[,l]=B.edges(i);if(!a&&s.void(e,{at:l}))return;var c=s.pointRef(e,l);b.delete(e,{at:i}),i=c.unref()}else d.isPath(i)&&(i=s.start(e,i));if(!(!a&&s.void(e,{at:i}))){var f=s.above(e,{at:i,match:C=>z.isElement(C)&&s.isInline(e,C),mode:"highest",voids:a});if(f){var[,v]=f;if(s.isEnd(e,i,v)){var D=s.after(e,v);i=D}else if(s.isStart(e,i,v)){var g=s.before(e,v);i=g}}var m=s.above(e,{match:C=>z.isElement(C)&&s.isBlock(e,C),at:i,voids:a}),[,h]=m,o=s.isStart(e,i,h),E=s.isEnd(e,i,h),p=o&&E,A=!o||o&&E,O=!E,[,P]=y.first({children:t},[]),[,M]=y.last({children:t},[]),$=[],j=C=>{var[S,w]=C,R=w.length===0;return R?!1:p?!0:!(A&&d.isAncestor(w,P)&&z.isElement(S)&&!e.isVoid(S)&&!e.isInline(S)||O&&d.isAncestor(w,M)&&z.isElement(S)&&!e.isVoid(S)&&!e.isInline(S))};for(var V of y.nodes({children:t},{pass:j}))j(V)&&$.push(V);var x=[],W=[],G=[],N=!0,L=!1;for(var[I]of $)z.isElement(I)&&!e.isInline(I)?(N=!1,L=!0,W.push(I)):N?x.push(I):G.push(I);var[k]=s.nodes(e,{at:i,match:C=>q.isText(C)||s.isInline(e,C),mode:"highest",voids:a}),[,J]=k,ee=s.isStart(e,i,J),ie=s.isEnd(e,i,J),U=s.pathRef(e,E&&!G.length?d.next(h):h),_=s.pathRef(e,ie?d.next(J):J);b.splitNodes(e,{at:i,match:C=>L?z.isElement(C)&&s.isBlock(e,C):q.isText(C)||s.isInline(e,C),mode:L?"lowest":"highest",always:L&&(!o||x.length>0)&&(!E||G.length>0),voids:a});var fe=s.pathRef(e,!ee||ee&&ie?d.next(J):J);if(b.insertNodes(e,x,{at:fe.current,match:C=>q.isText(C)||s.isInline(e,C),mode:"highest",voids:a}),p&&!x.length&&W.length&&!G.length&&b.delete(e,{at:h,voids:a}),b.insertNodes(e,W,{at:U.current,match:C=>z.isElement(C)&&s.isBlock(e,C),mode:"lowest",voids:a}),b.insertNodes(e,G,{at:_.current,match:C=>q.isText(C)||s.isInline(e,C),mode:"highest",voids:a}),!n.at){var ae;if(G.length>0&&_.current?ae=d.previous(_.current):W.length>0&&U.current?ae=d.previous(U.current):fe.current&&(ae=d.previous(fe.current)),ae){var Ee=s.end(e,ae);b.select(e,Ee)}}fe.unref(),U.unref(),_.unref()}}})},ss=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=t,{selection:u}=e;if(u){if(n==="anchor")b.select(e,u.anchor);else if(n==="focus")b.select(e,u.focus);else if(n==="start"){var[a]=B.edges(u);b.select(e,a)}else if(n==="end"){var[,i]=B.edges(u);b.select(e,i)}}else return},os=r=>{var{selection:e}=r;e&&r.apply({type:"set_selection",properties:e,newProperties:null})},ls=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e,{distance:u=1,unit:a="character",reverse:i=!1}=t,{edge:l=null}=t;if(n){l==="start"&&(l=B.isBackward(n)?"focus":"anchor"),l==="end"&&(l=B.isBackward(n)?"anchor":"focus");var{anchor:c,focus:f}=n,v={distance:u,unit:a,ignoreNonSelectable:!0},D={};if(l==null||l==="anchor"){var g=i?s.before(e,c,v):s.after(e,c,v);g&&(D.anchor=g)}if(l==null||l==="focus"){var m=i?s.before(e,f,v):s.after(e,f,v);m&&(D.focus=m)}b.setSelection(e,D)}},fs=(r,e)=>{var{selection:t}=r;if(e=s.range(r,e),t){b.setSelection(r,e);return}if(!B.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(De.stringify(e)));r.apply({type:"set_selection",properties:t,newProperties:e})};function wn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function bn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wn(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):wn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var cs=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:u}=e,{edge:a="both"}=n;if(u){a==="start"&&(a=B.isBackward(u)?"focus":"anchor"),a==="end"&&(a=B.isBackward(u)?"anchor":"focus");var{anchor:i,focus:l}=u,c=a==="anchor"?i:l;b.setSelection(e,{[a==="anchor"?"anchor":"focus"]:bn(bn({},c),t)})}},vs=(r,e)=>{var{selection:t}=r,n={},u={};if(t){for(var a in e)(a==="anchor"&&e.anchor!=null&&!Z.equals(e.anchor,t.anchor)||a==="focus"&&e.focus!=null&&!Z.equals(e.focus,t.focus)||a!=="anchor"&&a!=="focus"&&e[a]!==t[a])&&(n[a]=t[a],u[a]=e[a]);Object.keys(n).length>0&&r.apply({type:"set_selection",properties:n,newProperties:u})}},ds=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s.withoutNormalizing(e,()=>{var{hanging:u=!1,voids:a=!1,mode:i="lowest"}=n,{at:l,match:c,select:f}=n;if(y.isNode(t)&&(t=[t]),t.length!==0){var[v]=t;if(l||(l=xt(e),f=!0),f==null&&(f=!1),B.isRange(l))if(u||(l=s.unhangRange(e,l,{voids:a})),B.isCollapsed(l))l=l.anchor;else{var[,D]=B.edges(l),g=s.pointRef(e,D);b.delete(e,{at:l}),l=g.unref()}if(Z.isPoint(l)){c==null&&(q.isText(v)?c=j=>q.isText(j):e.isInline(v)?c=j=>q.isText(j)||s.isInline(e,j):c=j=>z.isElement(j)&&s.isBlock(e,j));var[m]=s.nodes(e,{at:l.path,match:c,mode:i,voids:a});if(m){var[,h]=m,o=s.pathRef(e,h),E=s.isEnd(e,l,h);b.splitNodes(e,{at:l,match:c,mode:i,voids:a});var p=o.unref();l=E?d.next(p):p}else return}var A=d.parent(l),O=l[l.length-1];if(!(!a&&s.void(e,{at:A}))){for(var P of t){var M=A.concat(O);O++,e.apply({type:"insert_node",path:M,node:P}),l=d.next(l)}if(l=d.previous(l),f){var $=s.end(e,l);$&&b.select(e,$)}}}})},Ds=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:u="lowest",voids:a=!1}=t,{match:i}=t;if(i==null&&(i=d.isPath(n)?cr(e,n):P=>z.isElement(P)&&s.isBlock(e,P)),!!n){var l=s.nodes(e,{at:n,match:i,mode:u,voids:a}),c=Array.from(l,P=>{var[,M]=P;return s.pathRef(e,M)});for(var f of c){var v=f.unref();if(v.length<2)throw new Error("Cannot lift node at a path [".concat(v,"] because it has a depth of less than `2`."));var D=s.node(e,d.parent(v)),[g,m]=D,h=v[v.length-1],{length:o}=g.children;if(o===1){var E=d.next(m);b.moveNodes(e,{at:v,to:E,voids:a}),b.removeNodes(e,{at:m,voids:a})}else if(h===0)b.moveNodes(e,{at:v,to:m,voids:a});else if(h===o-1){var p=d.next(m);b.moveNodes(e,{at:v,to:p,voids:a})}else{var A=d.next(v),O=d.next(m);b.splitNodes(e,{at:A,voids:a}),b.moveNodes(e,{at:v,to:O,voids:a})}}}})},hs=["text"],gs=["children"],lu=(r,e)=>{if(z.isElement(e)){var t=e;return s.isVoid(r,e)?!0:t.children.length===1?lu(r,t.children[0]):!1}else return!s.isEditor(e)},Cs=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.withoutNormalizing(e,()=>{var{match:n,at:u=e.selection}=t,{hanging:a=!1,voids:i=!1,mode:l="lowest"}=t;if(u){if(n==null)if(d.isPath(u)){var[c]=s.parent(e,u);n=W=>c.children.includes(W)}else n=W=>z.isElement(W)&&s.isBlock(e,W);if(!a&&B.isRange(u)&&(u=s.unhangRange(e,u,{voids:i})),B.isRange(u))if(B.isCollapsed(u))u=u.anchor;else{var[,f]=B.edges(u),v=s.pointRef(e,f);b.delete(e,{at:u}),u=v.unref(),t.at==null&&b.select(e,u)}var[D]=s.nodes(e,{at:u,match:n,voids:i,mode:l}),g=s.previous(e,{at:u,match:n,voids:i,mode:l});if(!(!D||!g)){var[m,h]=D,[o,E]=g;if(!(h.length===0||E.length===0)){var p=d.next(E),A=d.common(h,E),O=d.isSibling(h,E),P=Array.from(s.levels(e,{at:h}),W=>{var[G]=W;return G}).slice(A.length).slice(0,-1),M=s.above(e,{at:h,mode:"highest",match:W=>P.includes(W)&&lu(e,W)}),$=M&&s.pathRef(e,M[1]),j,V;if(q.isText(m)&&q.isText(o)){var x=ze(m,hs);V=o.text.length,j=x}else if(z.isElement(m)&&z.isElement(o)){var x=ze(m,gs);V=o.children.length,j=x}else throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(De.stringify(m)," ").concat(De.stringify(o)));O||b.moveNodes(e,{at:h,to:p,voids:i}),$&&b.removeNodes(e,{at:$.current,voids:i}),z.isElement(o)&&s.isEmpty(e,o)||q.isText(o)&&o.text===""&&E[E.length-1]!==0?b.removeNodes(e,{at:E,voids:i}):e.apply({type:"merge_node",path:p,position:V,properties:j}),$&&$.unref()}}}})},ms=(r,e)=>{s.withoutNormalizing(r,()=>{var{to:t,at:n=r.selection,mode:u="lowest",voids:a=!1}=e,{match:i}=e;if(n){i==null&&(i=d.isPath(n)?cr(r,n):m=>z.isElement(m)&&s.isBlock(r,m));var l=s.pathRef(r,t),c=s.nodes(r,{at:n,match:i,mode:u,voids:a}),f=Array.from(c,m=>{var[,h]=m;return s.pathRef(r,h)});for(var v of f){var D=v.unref(),g=l.current;D.length!==0&&r.apply({type:"move_node",path:D,newPath:g}),l.current&&d.isSibling(g,D)&&d.isAfter(g,D)&&(l.current=d.next(l.current))}l.unref()}})},ps=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:u=!1,mode:a="lowest"}=t,{at:i=e.selection,match:l}=t;if(i){l==null&&(l=d.isPath(i)?cr(e,i):m=>z.isElement(m)&&s.isBlock(e,m)),!n&&B.isRange(i)&&(i=s.unhangRange(e,i,{voids:u}));var c=s.nodes(e,{at:i,match:l,mode:a,voids:u}),f=Array.from(c,m=>{var[,h]=m;return s.pathRef(e,h)});for(var v of f){var D=v.unref();if(D){var[g]=s.node(e,D);e.apply({type:"remove_node",path:D,node:g})}}}})},Bs=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s.withoutNormalizing(e,()=>{var{match:u,at:a=e.selection,compare:i,merge:l}=n,{hanging:c=!1,mode:f="lowest",split:v=!1,voids:D=!1}=n;if(a){if(u==null&&(u=d.isPath(a)?cr(e,a):V=>z.isElement(V)&&s.isBlock(e,V)),!c&&B.isRange(a)&&(a=s.unhangRange(e,a,{voids:D})),v&&B.isRange(a)){if(B.isCollapsed(a)&&s.leaf(e,a.anchor)[0].text.length>0)return;var g=s.rangeRef(e,a,{affinity:"inward"}),[m,h]=B.edges(a),o=f==="lowest"?"lowest":"highest",E=s.isEnd(e,h,h.path);b.splitNodes(e,{at:h,match:u,mode:o,voids:D,always:!E});var p=s.isStart(e,m,m.path);b.splitNodes(e,{at:m,match:u,mode:o,voids:D,always:!p}),a=g.unref(),n.at==null&&b.select(e,a)}i||(i=(V,x)=>V!==x);for(var[A,O]of s.nodes(e,{at:a,match:u,mode:f,voids:D})){var P={},M={};if(O.length!==0){var $=!1;for(var j in t)j==="children"||j==="text"||i(t[j],A[j])&&($=!0,A.hasOwnProperty(j)&&(P[j]=A[j]),l?t[j]!=null&&(M[j]=l(A[j],t[j])):t[j]!=null&&(M[j]=t[j]));$&&e.apply({type:"set_node",path:O,properties:P,newProperties:M})}}}})},Es=(r,e)=>{if(B.isCollapsed(e))return e.anchor;var[,t]=B.edges(e),n=s.pointRef(r,t);return b.delete(r,{at:e}),n.unref()},As=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:u=!1}=t,{match:a,at:i=e.selection,height:l=0,always:c=!1}=t;if(a==null&&(a=U=>z.isElement(U)&&s.isBlock(e,U)),B.isRange(i)&&(i=Es(e,i)),d.isPath(i)){var f=i,v=s.point(e,f),[D]=s.parent(e,f);a=U=>U===D,l=v.path.length-f.length+1,i=v,c=!0}if(i){var g=s.pointRef(e,i,{affinity:"backward"}),m;try{var[h]=s.nodes(e,{at:i,match:a,mode:n,voids:u});if(!h)return;var o=s.void(e,{at:i,mode:"highest"}),E=0;if(!u&&o){var[p,A]=o;if(z.isElement(p)&&e.isInline(p)){var O=s.after(e,A);if(!O){var P={text:""},M=d.next(A);b.insertNodes(e,P,{at:M,voids:u}),O=s.point(e,M)}i=O,c=!0}var $=i.path.length-A.length;l=$+1,c=!0}m=s.pointRef(e,i);var j=i.path.length-l,[,V]=h,x=i.path.slice(0,j),W=l===0?i.offset:i.path[j]+E;for(var[G,N]of s.levels(e,{at:x,reverse:!0,voids:u})){var L=!1;if(N.length<V.length||N.length===0||!u&&z.isElement(G)&&s.isVoid(e,G))break;var I=g.current,k=s.isEnd(e,I,N);if(c||!g||!s.isEdge(e,I,N)){L=!0;var J=y.extractProps(G);e.apply({type:"split_node",path:N,position:W,properties:J})}W=N[N.length-1]+(L||k?1:0)}if(t.at==null){var ee=m.current||s.end(e,[]);b.select(e,ee)}}finally{var ie;g.unref(),(ie=m)===null||ie===void 0||ie.unref()}}})},Fs=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var u={};for(var a of t)u[a]=null;b.setNodes(e,u,n)},ws=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.withoutNormalizing(e,()=>{var{mode:n="lowest",split:u=!1,voids:a=!1}=t,{at:i=e.selection,match:l}=t;if(i){l==null&&(l=d.isPath(i)?cr(e,i):m=>z.isElement(m)&&s.isBlock(e,m)),d.isPath(i)&&(i=s.range(e,i));var c=B.isRange(i)?s.rangeRef(e,i):null,f=s.nodes(e,{at:i,match:l,mode:n,voids:a}),v=Array.from(f,m=>{var[,h]=m;return s.pathRef(e,h)}).reverse(),D=function(h){var o=h.unref(),[E]=s.node(e,o),p=s.range(e,o);u&&c&&(p=B.intersection(c.current,p)),b.liftNodes(e,{at:p,match:A=>z.isAncestor(E)&&E.children.includes(A),voids:a})};for(var g of v)D(g);c&&c.unref()}})};function On(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function yn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?On(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):On(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var bs=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s.withoutNormalizing(e,()=>{var{mode:u="lowest",split:a=!1,voids:i=!1}=n,{match:l,at:c=e.selection}=n;if(c){if(l==null&&(d.isPath(c)?l=cr(e,c):e.isInline(t)?l=p=>z.isElement(p)&&s.isInline(e,p)||q.isText(p):l=p=>z.isElement(p)&&s.isBlock(e,p)),a&&B.isRange(c)){var[f,v]=B.edges(c),D=s.rangeRef(e,c,{affinity:"inward"});b.splitNodes(e,{at:v,match:l,voids:i}),b.splitNodes(e,{at:f,match:l,voids:i}),c=D.unref(),n.at==null&&b.select(e,c)}var g=Array.from(s.nodes(e,{at:c,match:e.isInline(t)?p=>z.isElement(p)&&s.isBlock(e,p):p=>s.isEditor(p),mode:"lowest",voids:i}));for(var[,m]of g){var h=B.isRange(c)?B.intersection(c,s.range(e,m)):c;if(h){var o=Array.from(s.nodes(e,{at:h,match:l,mode:u,voids:i}));if(o.length>0){var E=function(){var[p]=o,A=o[o.length-1],[,O]=p,[,P]=A;if(O.length===0&&P.length===0)return"continue";var M=d.equals(O,P)?d.parent(O):d.common(O,P),$=s.range(e,O,P),j=s.node(e,M),[V]=j,x=M.length+1,W=d.next(P.slice(0,x)),G=yn(yn({},t),{},{children:[]});b.insertNodes(e,G,{at:W,voids:i}),b.moveNodes(e,{at:$,match:N=>z.isAncestor(V)&&V.children.includes(N),to:W.concat(0),voids:i})}();if(E==="continue")continue}}}}})},Os=()=>{var r={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ja(r,...n)},addMark:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ni(r,...n)},deleteBackward:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ii(r,...n)},deleteForward:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return si(r,...n)},deleteFragment:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return oi(r,...n)},getFragment:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return _a(r,...n)},insertBreak:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return pi(r,...n)},insertSoftBreak:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ei(r,...n)},insertFragment:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return is(r,...n)},insertNode:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Bi(r,...n)},insertText:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Fi(r,...n)},normalizeNode:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ei(r,...n)},removeMark:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return _i(r,...n)},getDirtyPaths:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Qa(r,...n)},shouldNormalize:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ri(r,...n)},above:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ti(r,...n)},after:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ui(r,...n)},before:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ai(r,...n)},collapse:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ss(r,...n)},delete:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return as(r,...n)},deselect:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return os(r,...n)},edges:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return li(r,...n)},elementReadOnly:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return fi(r,...n)},end:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ci(r,...n)},first:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return vi(r,...n)},fragment:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return di(r,...n)},getMarks:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Mi(r,...n)},hasBlocks:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return hi(r,...n)},hasInlines:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return gi(r,...n)},hasPath:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ci(r,...n)},hasTexts:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return mi(r,...n)},insertNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ds(r,...n)},isBlock:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return wi(r,...n)},isEdge:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return bi(r,...n)},isEmpty:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Oi(r,...n)},isEnd:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return yi(r,...n)},isNormalizing:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return xi(r,...n)},isStart:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Pi(r,...n)},last:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Si(r,...n)},leaf:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ti(r,...n)},levels:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ri(r,...n)},liftNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ds(r,...n)},mergeNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Cs(r,...n)},move:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ls(r,...n)},moveNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ms(r,...n)},next:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ii(r,...n)},node:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ki(r,...n)},nodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Li(r,...n)},normalize:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return $i(r,...n)},parent:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Wi(r,...n)},path:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Vi(r,...n)},pathRef:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return zi(r,...n)},pathRefs:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return qi(r,...n)},point:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ui(r,...n)},pointRef:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Hi(r,...n)},pointRefs:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ki(r,...n)},positions:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Yi(r,...n)},previous:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Gi(r,...n)},range:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ji(r,...n)},rangeRef:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Xi(r,...n)},rangeRefs:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Zi(r,...n)},removeNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ps(r,...n)},select:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return fs(r,...n)},setNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Bs(r,...n)},setNormalizing:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return es(r,...n)},setPoint:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return cs(r,...n)},setSelection:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return vs(r,...n)},splitNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return As(r,...n)},start:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return rs(r,...n)},string:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ts(r,...n)},unhangRange:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ns(r,...n)},unsetNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Fs(r,...n)},unwrapNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ws(r,...n)},void:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Di(r,...n)},withoutNormalizing:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return us(r,...n)},wrapNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return bs(r,...n)}};return r},ys=Ss,fu="֑-߿יִ-﷽ﹰ-ﻼ",cu="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",xs=new RegExp("^[^"+cu+"]*["+fu+"]"),Ps=new RegExp("^[^"+fu+"]*["+cu+"]");function Ss(r){return r=String(r||""),xs.test(r)?"rtl":Ps.test(r)?"ltr":"neutral"}const vu=pt(ys);function Ts(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var Tt=Ts,Rs=typeof xr=="object"&&xr&&xr.Object===Object&&xr,Ns=Rs,js=Ns,Ms=typeof self=="object"&&self&&self.Object===Object&&self,Is=js||Ms||Function("return this")(),du=Is,ks=du,Ls=function(){return ks.Date.now()},$s=Ls,Ws=/\s/;function zs(r){for(var e=r.length;e--&&Ws.test(r.charAt(e)););return e}var qs=zs,Vs=qs,Hs=/^\s+/;function Ks(r){return r&&r.slice(0,Vs(r)+1).replace(Hs,"")}var Us=Ks,Ys=du,Gs=Ys.Symbol,Du=Gs,xn=Du,hu=Object.prototype,Xs=hu.hasOwnProperty,Zs=hu.toString,dr=xn?xn.toStringTag:void 0;function Js(r){var e=Xs.call(r,dr),t=r[dr];try{r[dr]=void 0;var n=!0}catch{}var u=Zs.call(r);return n&&(e?r[dr]=t:delete r[dr]),u}var Qs=Js,_s=Object.prototype,eo=_s.toString;function ro(r){return eo.call(r)}var to=ro,Pn=Du,no=Qs,uo=to,ao="[object Null]",io="[object Undefined]",Sn=Pn?Pn.toStringTag:void 0;function so(r){return r==null?r===void 0?io:ao:Sn&&Sn in Object(r)?no(r):uo(r)}var oo=so;function lo(r){return r!=null&&typeof r=="object"}var fo=lo,co=oo,vo=fo,Do="[object Symbol]";function ho(r){return typeof r=="symbol"||vo(r)&&co(r)==Do}var go=ho,Co=Us,Tn=Tt,mo=go,Rn=0/0,po=/^[-+]0x[0-9a-f]+$/i,Bo=/^0b[01]+$/i,Eo=/^0o[0-7]+$/i,Ao=parseInt;function Fo(r){if(typeof r=="number")return r;if(mo(r))return Rn;if(Tn(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=Tn(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=Co(r);var t=Bo.test(r);return t||Eo.test(r)?Ao(r.slice(2),t?2:8):po.test(r)?Rn:+r}var wo=Fo,bo=Tt,_r=$s,Nn=wo,Oo="Expected a function",yo=Math.max,xo=Math.min;function Po(r,e,t){var n,u,a,i,l,c,f=0,v=!1,D=!1,g=!0;if(typeof r!="function")throw new TypeError(Oo);e=Nn(e)||0,bo(t)&&(v=!!t.leading,D="maxWait"in t,a=D?yo(Nn(t.maxWait)||0,e):a,g="trailing"in t?!!t.trailing:g);function m($){var j=n,V=u;return n=u=void 0,f=$,i=r.apply(V,j),i}function h($){return f=$,l=setTimeout(p,e),v?m($):i}function o($){var j=$-c,V=$-f,x=e-j;return D?xo(x,a-V):x}function E($){var j=$-c,V=$-f;return c===void 0||j>=e||j<0||D&&V>=a}function p(){var $=_r();if(E($))return A($);l=setTimeout(p,o($))}function A($){return l=void 0,g&&n?m($):(n=u=void 0,i)}function O(){l!==void 0&&clearTimeout(l),f=0,n=c=u=l=void 0}function P(){return l===void 0?i:A(_r())}function M(){var $=_r(),j=E($);if(n=arguments,u=this,c=$,j){if(l===void 0)return h(c);if(D)return clearTimeout(l),l=setTimeout(p,e),m(c)}return l===void 0&&(l=setTimeout(p,e)),i}return M.cancel=O,M.flush=P,M}var gu=Po;const So=pt(gu);var To=gu,Ro=Tt,No="Expected a function";function jo(r,e,t){var n=!0,u=!0;if(typeof r!="function")throw new TypeError(No);return Ro(t)&&(n="leading"in t?!!t.leading:n,u="trailing"in t?!!t.trailing:u),To(r,e,{leading:n,maxWait:e,trailing:u})}var Mo=jo;const Io=pt(Mo);function jn(r){return typeof r=="object"&&r!=null&&r.nodeType===1}function Mn(r,e){return(!e||r!=="hidden")&&r!=="visible"&&r!=="clip"}function et(r,e){if(r.clientHeight<r.scrollHeight||r.clientWidth<r.scrollWidth){var t=getComputedStyle(r,null);return Mn(t.overflowY,e)||Mn(t.overflowX,e)||function(n){var u=function(a){if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}}(n);return!!u&&(u.clientHeight<n.scrollHeight||u.clientWidth<n.scrollWidth)}(r)}return!1}function Sr(r,e,t,n,u,a,i,l){return a<r&&i>e||a>r&&i<e?0:a<=r&&l<=t||i>=e&&l>=t?a-r-n:i>e&&l<t||a<r&&l>t?i-e+u:0}var In=function(r,e){var t=window,n=e.scrollMode,u=e.block,a=e.inline,i=e.boundary,l=e.skipOverflowHiddenElements,c=typeof i=="function"?i:function(re){return re!==i};if(!jn(r))throw new TypeError("Invalid target");for(var f,v,D=document.scrollingElement||document.documentElement,g=[],m=r;jn(m)&&c(m);){if((m=(v=(f=m).parentElement)==null?f.getRootNode().host||null:v)===D){g.push(m);break}m!=null&&m===document.body&&et(m)&&!et(document.documentElement)||m!=null&&et(m,l)&&g.push(m)}for(var h=t.visualViewport?t.visualViewport.width:innerWidth,o=t.visualViewport?t.visualViewport.height:innerHeight,E=window.scrollX||pageXOffset,p=window.scrollY||pageYOffset,A=r.getBoundingClientRect(),O=A.height,P=A.width,M=A.top,$=A.right,j=A.bottom,V=A.left,x=u==="start"||u==="nearest"?M:u==="end"?j:M+O/2,W=a==="center"?V+P/2:a==="end"?$:V,G=[],N=0;N<g.length;N++){var L=g[N],I=L.getBoundingClientRect(),k=I.height,J=I.width,ee=I.top,ie=I.right,U=I.bottom,_=I.left;if(n==="if-needed"&&M>=0&&V>=0&&j<=o&&$<=h&&M>=ee&&j<=U&&V>=_&&$<=ie)return G;var fe=getComputedStyle(L),ae=parseInt(fe.borderLeftWidth,10),Ee=parseInt(fe.borderTopWidth,10),C=parseInt(fe.borderRightWidth,10),S=parseInt(fe.borderBottomWidth,10),w=0,R=0,X="offsetWidth"in L?L.offsetWidth-L.clientWidth-ae-C:0,H="offsetHeight"in L?L.offsetHeight-L.clientHeight-Ee-S:0,Q="offsetWidth"in L?L.offsetWidth===0?0:J/L.offsetWidth:0,ue="offsetHeight"in L?L.offsetHeight===0?0:k/L.offsetHeight:0;if(D===L)w=u==="start"?x:u==="end"?x-o:u==="nearest"?Sr(p,p+o,o,Ee,S,p+x,p+x+O,O):x-o/2,R=a==="start"?W:a==="center"?W-h/2:a==="end"?W-h:Sr(E,E+h,h,ae,C,E+W,E+W+P,P),w=Math.max(0,w+p),R=Math.max(0,R+E);else{w=u==="start"?x-ee-Ee:u==="end"?x-U+S+H:u==="nearest"?Sr(ee,U,k,Ee,S+H,x,x+O,O):x-(ee+k/2)+H/2,R=a==="start"?W-_-ae:a==="center"?W-(_+J/2)+X/2:a==="end"?W-ie+C+X:Sr(_,ie,J,ae,C+X,W,W+P,P);var ne=L.scrollLeft,ce=L.scrollTop;x+=ce-(w=Math.max(0,Math.min(ce+w/ue,L.scrollHeight-k/ue+H))),W+=ne-(R=Math.max(0,Math.min(ne+R/Q,L.scrollWidth-J/Q+X)))}G.push({el:L,top:w,left:R})}return G};function Cu(r){return r===Object(r)&&Object.keys(r).length!==0}function ko(r,e){e===void 0&&(e="auto");var t="scrollBehavior"in document.body.style;r.forEach(function(n){var u=n.el,a=n.top,i=n.left;u.scroll&&t?u.scroll({top:a,left:i,behavior:e}):(u.scrollTop=a,u.scrollLeft=i)})}function Lo(r){return r===!1?{block:"end",inline:"nearest"}:Cu(r)?r:{block:"start",inline:"nearest"}}function $o(r,e){var t=r.isConnected||r.ownerDocument.documentElement.contains(r);if(Cu(e)&&typeof e.behavior=="function")return e.behavior(t?In(r,e):[]);if(t){var n=Lo(e);return ko(In(r,n),n.behavior)}}var _e=[],Wo=function(){return _e.some(function(r){return r.activeTargets.length>0})},zo=function(){return _e.some(function(r){return r.skippedTargets.length>0})},kn="ResizeObserver loop completed with undelivered notifications.",qo=function(){var r;typeof ErrorEvent=="function"?r=new ErrorEvent("error",{message:kn}):(r=document.createEvent("Event"),r.initEvent("error",!1,!1),r.message=kn),window.dispatchEvent(r)},Fr;(function(r){r.BORDER_BOX="border-box",r.CONTENT_BOX="content-box",r.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Fr||(Fr={}));var er=function(r){return Object.freeze(r)},Vo=function(){function r(e,t){this.inlineSize=e,this.blockSize=t,er(this)}return r}(),mu=function(){function r(e,t,n,u){return this.x=e,this.y=t,this.width=n,this.height=u,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,er(this)}return r.prototype.toJSON=function(){var e=this,t=e.x,n=e.y,u=e.top,a=e.right,i=e.bottom,l=e.left,c=e.width,f=e.height;return{x:t,y:n,top:u,right:a,bottom:i,left:l,width:c,height:f}},r.fromRect=function(e){return new r(e.x,e.y,e.width,e.height)},r}(),Rt=function(r){return r instanceof SVGElement&&"getBBox"in r},pu=function(r){if(Rt(r)){var e=r.getBBox(),t=e.width,n=e.height;return!t&&!n}var u=r,a=u.offsetWidth,i=u.offsetHeight;return!(a||i||r.getClientRects().length)},Ln=function(r){var e;if(r instanceof Element)return!0;var t=(e=r==null?void 0:r.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(t&&r instanceof t.Element)},Ho=function(r){switch(r.tagName){case"INPUT":if(r.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},mr=typeof window<"u"?window:{},Tr=new WeakMap,$n=/auto|scroll/,Ko=/^tb|vertical/,Uo=/msie|trident/i.test(mr.navigator&&mr.navigator.userAgent),ke=function(r){return parseFloat(r||"0")},sr=function(r,e,t){return r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=!1),new Vo((t?e:r)||0,(t?r:e)||0)},Wn=er({devicePixelContentBoxSize:sr(),borderBoxSize:sr(),contentBoxSize:sr(),contentRect:new mu(0,0,0,0)}),Bu=function(r,e){if(e===void 0&&(e=!1),Tr.has(r)&&!e)return Tr.get(r);if(pu(r))return Tr.set(r,Wn),Wn;var t=getComputedStyle(r),n=Rt(r)&&r.ownerSVGElement&&r.getBBox(),u=!Uo&&t.boxSizing==="border-box",a=Ko.test(t.writingMode||""),i=!n&&$n.test(t.overflowY||""),l=!n&&$n.test(t.overflowX||""),c=n?0:ke(t.paddingTop),f=n?0:ke(t.paddingRight),v=n?0:ke(t.paddingBottom),D=n?0:ke(t.paddingLeft),g=n?0:ke(t.borderTopWidth),m=n?0:ke(t.borderRightWidth),h=n?0:ke(t.borderBottomWidth),o=n?0:ke(t.borderLeftWidth),E=D+f,p=c+v,A=o+m,O=g+h,P=l?r.offsetHeight-O-r.clientHeight:0,M=i?r.offsetWidth-A-r.clientWidth:0,$=u?E+A:0,j=u?p+O:0,V=n?n.width:ke(t.width)-$-M,x=n?n.height:ke(t.height)-j-P,W=V+E+M+A,G=x+p+P+O,N=er({devicePixelContentBoxSize:sr(Math.round(V*devicePixelRatio),Math.round(x*devicePixelRatio),a),borderBoxSize:sr(W,G,a),contentBoxSize:sr(V,x,a),contentRect:new mu(D,c,V,x)});return Tr.set(r,N),N},Eu=function(r,e,t){var n=Bu(r,t),u=n.borderBoxSize,a=n.contentBoxSize,i=n.devicePixelContentBoxSize;switch(e){case Fr.DEVICE_PIXEL_CONTENT_BOX:return i;case Fr.BORDER_BOX:return u;default:return a}},Yo=function(){function r(e){var t=Bu(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=er([t.borderBoxSize]),this.contentBoxSize=er([t.contentBoxSize]),this.devicePixelContentBoxSize=er([t.devicePixelContentBoxSize])}return r}(),Au=function(r){if(pu(r))return 1/0;for(var e=0,t=r.parentNode;t;)e+=1,t=t.parentNode;return e},Go=function(){var r=1/0,e=[];_e.forEach(function(i){if(i.activeTargets.length!==0){var l=[];i.activeTargets.forEach(function(f){var v=new Yo(f.target),D=Au(f.target);l.push(v),f.lastReportedSize=Eu(f.target,f.observedBox),D<r&&(r=D)}),e.push(function(){i.callback.call(i.observer,l,i.observer)}),i.activeTargets.splice(0,i.activeTargets.length)}});for(var t=0,n=e;t<n.length;t++){var u=n[t];u()}return r},zn=function(r){_e.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(u){u.isActive()&&(Au(u.target)>r?t.activeTargets.push(u):t.skippedTargets.push(u))})})},Xo=function(){var r=0;for(zn(r);Wo();)r=Go(),zn(r);return zo()&&qo(),r>0},rt,Fu=[],Zo=function(){return Fu.splice(0).forEach(function(r){return r()})},Jo=function(r){if(!rt){var e=0,t=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return Zo()}).observe(t,n),rt=function(){t.textContent="".concat(e?e--:e++)}}Fu.push(r),rt()},Qo=function(r){Jo(function(){requestAnimationFrame(r)})},kr=0,_o=function(){return!!kr},el=250,rl={attributes:!0,characterData:!0,childList:!0,subtree:!0},qn=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Vn=function(r){return r===void 0&&(r=0),Date.now()+r},tt=!1,tl=function(){function r(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return r.prototype.run=function(e){var t=this;if(e===void 0&&(e=el),!tt){tt=!0;var n=Vn(e);Qo(function(){var u=!1;try{u=Xo()}finally{if(tt=!1,e=n-Vn(),!_o())return;u?t.run(1e3):e>0?t.run(e):t.start()}})}},r.prototype.schedule=function(){this.stop(),this.run()},r.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,rl)};document.body?t():mr.addEventListener("DOMContentLoaded",t)},r.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),qn.forEach(function(t){return mr.addEventListener(t,e.listener,!0)}))},r.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),qn.forEach(function(t){return mr.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},r}(),ct=new tl,Hn=function(r){!kr&&r>0&&ct.start(),kr+=r,!kr&&ct.stop()},nl=function(r){return!Rt(r)&&!Ho(r)&&getComputedStyle(r).display==="inline"},ul=function(){function r(e,t){this.target=e,this.observedBox=t||Fr.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return r.prototype.isActive=function(){var e=Eu(this.target,this.observedBox,!0);return nl(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},r}(),al=function(){function r(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t}return r}(),Rr=new WeakMap,Kn=function(r,e){for(var t=0;t<r.length;t+=1)if(r[t].target===e)return t;return-1},Nr=function(){function r(){}return r.connect=function(e,t){var n=new al(e,t);Rr.set(e,n)},r.observe=function(e,t,n){var u=Rr.get(e),a=u.observationTargets.length===0;Kn(u.observationTargets,t)<0&&(a&&_e.push(u),u.observationTargets.push(new ul(t,n&&n.box)),Hn(1),ct.schedule())},r.unobserve=function(e,t){var n=Rr.get(e),u=Kn(n.observationTargets,t),a=n.observationTargets.length===1;u>=0&&(a&&_e.splice(_e.indexOf(n),1),n.observationTargets.splice(u,1),Hn(-1))},r.disconnect=function(e){var t=this,n=Rr.get(e);n.observationTargets.slice().forEach(function(u){return t.unobserve(e,u.target)}),n.activeTargets.splice(0,n.activeTargets.length)},r}(),il=function(){function r(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Nr.connect(this,e)}return r.prototype.observe=function(e,t){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ln(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Nr.observe(this,e,t)},r.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ln(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Nr.unobserve(this,e)},r.prototype.disconnect=function(){Nr.disconnect(this)},r.toString=function(){return"function ResizeObserver () { [polyfill code] }"},r}(),qe={};Object.defineProperty(qe,"__esModule",{value:!0});var sl=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),nt={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},ol={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:sl?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},wu={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var jr=1;jr<20;jr++)wu["f"+jr]=111+jr;function Kr(r,e,t){e&&!("byKey"in e)&&(t=e,e=null),Array.isArray(r)||(r=[r]);var n=r.map(function(i){return bu(i,e)}),u=function(l){return n.some(function(c){return Ou(c,l)})},a=t==null?u:u(t);return a}function ll(r,e){return Kr(r,e)}function fl(r,e){return Kr(r,{byKey:!0},e)}function bu(r,e){var t=e&&e.byKey,n={};r=r.replace("++","+add");var u=r.split("+"),a=u.length;for(var i in nt)n[nt[i]]=!1;var l=!0,c=!1,f=void 0;try{for(var v=u[Symbol.iterator](),D;!(l=(D=v.next()).done);l=!0){var g=D.value,m=g.endsWith("?")&&g.length>1;m&&(g=g.slice(0,-1));var h=Nt(g),o=nt[h];(a===1||!o)&&(t?n.key=h:n.which=yu(g)),o&&(n[o]=m?null:!0)}}catch(E){c=!0,f=E}finally{try{!l&&v.return&&v.return()}finally{if(c)throw f}}return n}function Ou(r,e){for(var t in r){var n=r[t],u=void 0;if(n!=null&&(t==="key"&&e.key!=null?u=e.key.toLowerCase():t==="which"?u=n===91&&e.which===93?91:e.which:u=e[t],!(u==null&&n===!1)&&u!==n))return!1}return!0}function yu(r){r=Nt(r);var e=wu[r]||r.toUpperCase().charCodeAt(0);return e}function Nt(r){return r=r.toLowerCase(),r=ol[r]||r,r}qe.default=Kr;var ut=qe.isHotkey=Kr;qe.isCodeHotkey=ll;qe.isKeyHotkey=fl;qe.parseHotkey=bu;qe.compareHotkey=Ou;qe.toKeyCode=yu;qe.toKeyName=Nt;function Ur(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function cl(r,e){if(r==null)return{};var t={},n=Object.keys(r),u,a;for(a=0;a<n.length;a++)u=n[a],!(e.indexOf(u)>=0)&&(t[u]=r[u]);return t}function or(r,e){if(r==null)return{};var t=cl(r,e),n,u;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(u=0;u<a.length;u++)n=a[u],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}var jt=T.createContext(null),Ye=()=>{var r=T.useContext(jt);if(!r)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return r},xu=parseInt(Y.version.split(".")[0],10),vl=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Un=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),we=typeof navigator<"u"&&/Android/.test(navigator.userAgent),pr=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),gr=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),dl=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Pu=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),Dl=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),hl=we&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),gl=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),Cl=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),ml=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),Lr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ve=(!Dl||!hl)&&!dl&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",Mt=new WeakMap,It=new WeakMap,Su=new WeakMap,$r=new WeakMap,vt=new WeakMap,wr=new WeakMap,rr=new WeakMap,dt=new WeakMap,Yr=new WeakMap,Dt=new WeakMap,Je=new WeakMap,Qe=new WeakMap,Br=new WeakMap,ht=new WeakMap,kt=new WeakMap,je=new WeakMap,We=new WeakMap,Fe=new WeakMap,He=new WeakMap,Ke=new WeakMap,Tu=new WeakMap,lr=Symbol("placeholder"),Ru=Symbol("mark-placeholder"),pl=globalThis.Text,Lt=r=>r&&r.ownerDocument&&r.ownerDocument.defaultView||null,Bl=r=>Ue(r)&&r.nodeType===8,xe=r=>Ue(r)&&r.nodeType===1,Ue=r=>{var e=Lt(r);return!!e&&r instanceof e.Node},gt=r=>{var e=r&&r.anchorNode&&Lt(r.anchorNode);return!!e&&r instanceof e.Selection},Nu=r=>Ue(r)&&r.nodeType===3,El=r=>r.clipboardData&&r.clipboardData.getData("text/plain")!==""&&r.clipboardData.types.length===1,Al=r=>{var[e,t]=r;if(xe(e)&&e.childNodes.length){var n=t===e.childNodes.length,u=n?t-1:t;for([e,u]=ju(e,u,n?"backward":"forward"),n=u<t;xe(e)&&e.childNodes.length;){var a=n?e.childNodes.length-1:0;e=wl(e,a,n?"backward":"forward")}t=n&&e.textContent!=null?e.textContent.length:0}return[e,t]},Fl=r=>{for(var e=r&&r.parentNode;e;){if(e.toString()==="[object ShadowRoot]")return!0;e=e.parentNode}return!1},ju=(r,e,t)=>{for(var{childNodes:n}=r,u=n[e],a=e,i=!1,l=!1;(Bl(u)||xe(u)&&u.childNodes.length===0||xe(u)&&u.getAttribute("contenteditable")==="false")&&!(i&&l);){if(a>=n.length){i=!0,a=e-1,t="backward";continue}if(a<0){l=!0,a=e+1,t="forward";continue}u=n[a],e=a,a+=t==="forward"?1:-1}return[u,e]},wl=(r,e,t)=>{var[n]=ju(r,e,t);return n},Mu=r=>{var e="";if(Nu(r)&&r.nodeValue)return r.nodeValue;if(xe(r)){for(var t of Array.from(r.childNodes))e+=Mu(t);var n=getComputedStyle(r).getPropertyValue("display");(n==="block"||n==="list"||r.tagName==="BR")&&(e+=`
`)}return e},bl=/data-slate-fragment="(.+?)"/m,Ol=r=>{var e=r.getData("text/html"),[,t]=e.match(bl)||[];return t},$t=(r,e,t)=>{var{target:n}=e;if(xe(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:u}=F.getWindow(r);if(u.contains(n))return F.hasDOMNode(r,n,{editable:!0});var a=t.find(i=>{var{addedNodes:l,removedNodes:c}=i;for(var f of l)if(f===n||f.contains(n))return!0;for(var v of c)if(v===n||v.contains(n))return!0});return!a||a===e?!1:$t(r,a,t)},yl=0;class xl{constructor(){this.id="".concat(yl++)}}var F={androidPendingDiffs:r=>Fe.get(r),androidScheduleFlush:r=>{var e;(e=kt.get(r))===null||e===void 0||e()},blur:r=>{var e=F.toDOMNode(r,r),t=F.findDocumentOrShadowRoot(r);Je.set(r,!1),t.activeElement===e&&e.blur()},deselect:r=>{var{selection:e}=r,t=F.findDocumentOrShadowRoot(r),n=t.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),e&&b.deselect(r)},findDocumentOrShadowRoot:r=>{var e=F.toDOMNode(r,r),t=e.getRootNode();return(t instanceof Document||t instanceof ShadowRoot)&&t.getSelection!=null?t:e.ownerDocument},findEventRange:(r,e)=>{"nativeEvent"in e&&(e=e.nativeEvent);var{clientX:t,clientY:n,target:u}=e;if(t==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var a=F.toSlateNode(r,e.target),i=F.findPath(r,a);if(z.isElement(a)&&s.isVoid(r,a)){var l=u.getBoundingClientRect(),c=r.isInline(a)?t-l.left<l.left+l.width-t:n-l.top<l.top+l.height-n,f=s.point(r,i,{edge:c?"start":"end"}),v=c?s.before(r,f):s.after(r,f);if(v){var D=s.range(r,v);return D}}var g,{document:m}=F.getWindow(r);if(m.caretRangeFromPoint)g=m.caretRangeFromPoint(t,n);else{var h=m.caretPositionFromPoint(t,n);h&&(g=m.createRange(),g.setStart(h.offsetNode,h.offset),g.setEnd(h.offsetNode,h.offset))}if(!g)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var o=F.toSlateRange(r,g,{exactMatch:!1,suppressThrow:!1});return o},findKey:(r,e)=>{var t=dt.get(e);return t||(t=new xl,dt.set(e,t)),t},findPath:(r,e)=>{for(var t=[],n=e;;){var u=It.get(n);if(u==null){if(s.isEditor(n))return t;break}var a=Mt.get(n);if(a==null)break;t.unshift(a),n=u}throw new Error("Unable to find the path for Slate node: ".concat(De.stringify(e)))},focus:r=>{var e=F.toDOMNode(r,r),t=F.findDocumentOrShadowRoot(r);Je.set(r,!0),t.activeElement!==e&&e.focus({preventScroll:!0})},getWindow:r=>{var e=Su.get(r);if(!e)throw new Error("Unable to find a host window element for this editor");return e},hasDOMNode:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:u=!1}=n,a=F.toDOMNode(e,e),i;try{i=xe(t)?t:t.parentElement}catch(l){if(!l.message.includes('Permission denied to access property "nodeType"'))throw l}return i?i.closest("[data-slate-editor]")===a&&(!u||i.isContentEditable?!0:typeof i.isContentEditable=="boolean"&&i.closest('[contenteditable="false"]')===a||!!i.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(r,e)=>Ue(e)&&F.hasDOMNode(r,e,{editable:!0}),hasRange:(r,e)=>{var{anchor:t,focus:n}=e;return s.hasPath(r,t.path)&&s.hasPath(r,n.path)},hasSelectableTarget:(r,e)=>F.hasEditableTarget(r,e)||F.isTargetInsideNonReadonlyVoid(r,e),hasTarget:(r,e)=>Ue(e)&&F.hasDOMNode(r,e),insertData:(r,e)=>{r.insertData(e)},insertFragmentData:(r,e)=>r.insertFragmentData(e),insertTextData:(r,e)=>r.insertTextData(e),isComposing:r=>!!Qe.get(r),isFocused:r=>!!Je.get(r),isReadOnly:r=>!!Dt.get(r),isTargetInsideNonReadonlyVoid:(r,e)=>{if(Dt.get(r))return!1;var t=F.hasTarget(r,e)&&F.toSlateNode(r,e);return z.isElement(t)&&s.isVoid(r,t)},setFragmentData:(r,e,t)=>r.setFragmentData(e,t),toDOMNode:(r,e)=>{var t=Yr.get(r),n=s.isEditor(e)?$r.get(r):t==null?void 0:t.get(F.findKey(r,e));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(De.stringify(e)));return n},toDOMPoint:(r,e)=>{var[t]=s.node(r,e.path),n=F.toDOMNode(r,t),u;s.void(r,{at:e})&&(e={path:e.path,offset:0});for(var a="[data-slate-string], [data-slate-zero-width]",i=Array.from(n.querySelectorAll(a)),l=0,c=0;c<i.length;c++){var f=i[c],v=f.childNodes[0];if(!(v==null||v.textContent==null)){var{length:D}=v.textContent,g=f.getAttribute("data-slate-length"),m=g==null?D:parseInt(g,10),h=l+m,o=i[c+1];if(e.offset===h&&o!==null&&o!==void 0&&o.hasAttribute("data-slate-mark-placeholder")){var E,p=o.childNodes[0];u=[p instanceof pl?p:o,(E=o.textContent)!==null&&E!==void 0&&E.startsWith("\uFEFF")?1:0];break}if(e.offset<=h){var A=Math.min(D,Math.max(0,e.offset-l));u=[v,A];break}l=h}}if(!u)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(De.stringify(e)));return u},toDOMRange:(r,e)=>{var{anchor:t,focus:n}=e,u=B.isBackward(e),a=F.toDOMPoint(r,t),i=B.isCollapsed(e)?a:F.toDOMPoint(r,n),l=F.getWindow(r),c=l.document.createRange(),[f,v]=u?i:a,[D,g]=u?a:i,m=xe(f)?f:f.parentElement,h=!!m.getAttribute("data-slate-zero-width"),o=xe(D)?D:D.parentElement,E=!!o.getAttribute("data-slate-zero-width");return c.setStart(f,h?1:v),c.setEnd(D,E?1:g),c},toSlateNode:(r,e)=>{var t=xe(e)?e:e.parentElement;t&&!t.hasAttribute("data-slate-node")&&(t=t.closest("[data-slate-node]"));var n=t?wr.get(t):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(t));return n},toSlatePoint:(r,e,t)=>{var{exactMatch:n,suppressThrow:u}=t,[a,i]=n?e:Al(e),l=a.parentNode,c=null,f=0;if(l){var v,D,g=F.toDOMNode(r,r),m=l.closest('[data-slate-void="true"]'),h=m&&g.contains(m)?m:null,o=l.closest("[data-slate-leaf]"),E=null;if(o){if(c=o.closest('[data-slate-node="text"]'),c){var p=F.getWindow(r),A=p.document.createRange();A.setStart(c,0),A.setEnd(a,i);var O=A.cloneContents(),P=[...Array.prototype.slice.call(O.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(O.querySelectorAll("[contenteditable=false]"))];P.forEach(I=>{if(we&&!n&&I.hasAttribute("data-slate-zero-width")&&I.textContent.length>0&&I.textContext!=="\uFEFF"){I.textContent.startsWith("\uFEFF")&&(I.textContent=I.textContent.slice(1));return}I.parentNode.removeChild(I)}),f=O.textContent.length,E=c}}else if(h){for(var M=h.querySelectorAll("[data-slate-leaf]"),$=0;$<M.length;$++){var j=M[$];if(F.hasDOMNode(r,j)){o=j;break}}o?(c=o.closest('[data-slate-node="text"]'),E=o,f=E.textContent.length,E.querySelectorAll("[data-slate-zero-width]").forEach(I=>{f-=I.textContent.length})):f=1}E&&f===E.textContent.length&&we&&E.getAttribute("data-slate-zero-width")==="z"&&(v=E.textContent)!==null&&v!==void 0&&v.startsWith("\uFEFF")&&(l.hasAttribute("data-slate-zero-width")||pr&&(D=E.textContent)!==null&&D!==void 0&&D.endsWith(`

`))&&f--}if(we&&!c&&!n){var V=l.hasAttribute("data-slate-node")?l:l.closest("[data-slate-node]");if(V&&F.hasDOMNode(r,V,{editable:!0})){var x=F.toSlateNode(r,V),{path:W,offset:G}=s.start(r,F.findPath(r,x));return V.querySelector("[data-slate-leaf]")||(G=i),{path:W,offset:G}}}if(!c){if(u)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var N=F.toSlateNode(r,c),L=F.findPath(r,N);return{path:L,offset:f}},toSlateRange:(r,e,t)=>{var{exactMatch:n,suppressThrow:u}=t,a=gt(e)?e.anchorNode:e.startContainer,i,l,c,f,v;if(a)if(gt(e)){if(pr&&e.rangeCount>1){c=e.focusNode;var D=e.getRangeAt(0),g=e.getRangeAt(e.rangeCount-1);if(c instanceof HTMLTableRowElement&&D.startContainer instanceof HTMLTableRowElement&&g.startContainer instanceof HTMLTableRowElement){let M=function($){return $.childElementCount>0?M($.children[0]):$};var m=D.startContainer,h=g.startContainer,o=M(m.children[D.startOffset]),E=M(h.children[g.startOffset]);f=0,E.childNodes.length>0?i=E.childNodes[0]:i=E,o.childNodes.length>0?c=o.childNodes[0]:c=o,E instanceof HTMLElement?l=E.innerHTML.length:l=0}else D.startContainer===c?(i=g.endContainer,l=g.endOffset,f=D.startOffset):(i=D.startContainer,l=D.endOffset,f=g.startOffset)}else i=e.anchorNode,l=e.anchorOffset,c=e.focusNode,f=e.focusOffset;Pu&&Fl(i)||pr?v=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:v=e.isCollapsed}else i=e.startContainer,l=e.startOffset,c=e.endContainer,f=e.endOffset,v=e.collapsed;if(i==null||c==null||l==null||f==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));if("getAttribute"in c&&c.getAttribute("contenteditable")==="false"&&c.getAttribute("data-slate-void")!=="true"){var p;c=i,f=((p=i.textContent)===null||p===void 0?void 0:p.length)||0}var A=F.toSlatePoint(r,[i,l],{exactMatch:n,suppressThrow:u});if(!A)return null;var O=v?A:F.toSlatePoint(r,[c,f],{exactMatch:n,suppressThrow:u});if(!O)return null;var P={anchor:A,focus:O};return B.isExpanded(P)&&B.isForward(P)&&xe(c)&&s.void(r,{at:P.focus,mode:"highest"})&&(P=s.unhangRange(r,P,{voids:!0})),P}};function Pl(r,e){var{path:t,diff:n}=e;if(!s.hasPath(r,t))return!1;var u=y.get(r,t);if(!q.isText(u))return!1;if(n.start!==u.text.length||n.text.length===0)return u.text.slice(n.start,n.start+n.text.length)===n.text;var a=d.next(t);if(!s.hasPath(r,a))return!1;var i=y.get(r,a);return q.isText(i)&&i.text.startsWith(n.text)}function Iu(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return t.reduce((u,a)=>u.slice(0,a.start)+a.text+u.slice(a.end),r)}function Sl(r,e){for(var t=Math.min(r.length,e.length),n=0;n<t;n++)if(r.charAt(n)!==e.charAt(n))return n;return t}function Tl(r,e,t){for(var n=Math.min(r.length,e.length,t),u=0;u<n;u++)if(r.charAt(r.length-u-1)!==e.charAt(e.length-u-1))return u;return n}function ku(r,e){var{start:t,end:n,text:u}=e,a=r.slice(t,n),i=Sl(a,u),l=Math.min(a.length-i,u.length-i),c=Tl(a,u,l),f={start:t+i,end:n-c,text:u.slice(i,u.length-c)};return f.start===f.end&&f.text.length===0?null:f}function Rl(r,e,t){var n=Math.min(e.start,t.start),u=Math.max(0,Math.min(e.start+e.text.length,t.end)-t.start),a=Iu(r,e,t),i=Math.max(t.start+t.text.length,e.start+e.text.length+(e.start+e.text.length>t.start?t.text.length:0)-u),l=a.slice(n,i),c=Math.max(e.end,t.end-e.text.length+(e.end-e.start));return ku(r,{start:n,end:c,text:l})}function Nl(r){var{path:e,diff:t}=r;return{anchor:{path:e,offset:t.start},focus:{path:e,offset:t.end}}}function Ct(r,e){var{path:t,offset:n}=e;if(!s.hasPath(r,t))return null;var u=y.get(r,t);if(!q.isText(u))return null;var a=s.above(r,{match:l=>z.isElement(l)&&s.isBlock(r,l),at:t});if(!a)return null;for(;n>u.text.length;){var i=s.next(r,{at:t,match:q.isText});if(!i||!d.isDescendant(i[1],a[1]))return null;n-=u.text.length,u=i[0],t=i[1]}return{path:t,offset:n}}function Yn(r,e){var t=Ct(r,e.anchor);if(!t)return null;if(B.isCollapsed(e))return{anchor:t,focus:t};var n=Ct(r,e.focus);return n?{anchor:t,focus:n}:null}function mt(r,e,t){var n=Fe.get(r),u=n==null?void 0:n.find(v=>{var{path:D}=v;return d.equals(D,e.path)});if(!u||e.offset<=u.diff.start)return Z.transform(e,t,{affinity:"backward"});var{diff:a}=u;if(e.offset<=a.start+a.text.length){var i={path:e.path,offset:a.start},l=Z.transform(i,t,{affinity:"backward"});return l?{path:l.path,offset:l.offset+e.offset-a.start}:null}var c={path:e.path,offset:e.offset-a.text.length+a.end-a.start},f=Z.transform(c,t,{affinity:"backward"});return f?t.type==="split_node"&&d.equals(t.path,e.path)&&c.offset<t.position&&a.start<t.position?f:{path:f.path,offset:f.offset+a.text.length-a.end+a.start}:null}function Gn(r,e,t){var n=mt(r,e.anchor,t);if(!n)return null;if(B.isCollapsed(e))return{anchor:n,focus:n};var u=mt(r,e.focus,t);return u?{anchor:n,focus:u}:null}function jl(r,e){var{path:t,diff:n,id:u}=r;switch(e.type){case"insert_text":return!d.equals(e.path,t)||e.offset>=n.end?r:e.offset<=n.start?{diff:{start:e.text.length+n.start,end:e.text.length+n.end,text:n.text},id:u,path:t}:{diff:{start:n.start,end:n.end+e.text.length,text:n.text},id:u,path:t};case"remove_text":return!d.equals(e.path,t)||e.offset>=n.end?r:e.offset+e.text.length<=n.start?{diff:{start:n.start-e.text.length,end:n.end-e.text.length,text:n.text},id:u,path:t}:{diff:{start:n.start,end:n.end-e.text.length,text:n.text},id:u,path:t};case"split_node":return!d.equals(e.path,t)||e.position>=n.end?{diff:n,id:u,path:d.transform(t,e,{affinity:"backward"})}:e.position>n.start?{diff:{start:n.start,end:Math.min(e.position,n.end),text:n.text},id:u,path:t}:{diff:{start:n.start-e.position,end:n.end-e.position,text:n.text},id:u,path:d.transform(t,e,{affinity:"forward"})};case"merge_node":return d.equals(e.path,t)?{diff:{start:n.start+e.position,end:n.end+e.position,text:n.text},id:u,path:d.transform(t,e)}:{diff:n,id:u,path:d.transform(t,e)}}var a=d.transform(t,e);return a?{diff:n,path:a,id:u}:null}function Xn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Mr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xn(Object(t),!0).forEach(function(n){Ur(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Xn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Ml=25,Il=200,kl=function(){},Ll=r=>(r==null?void 0:r.constructor.name)==="DataTransfer";function $l(r){var{editor:e,scheduleOnDOMSelectionChange:t,onDOMSelectionChange:n}=r,u=!1,a=null,i=null,l=null,c=0,f=!1,v=()=>{var N=Ke.get(e);if(Ke.delete(e),N){var{selection:L}=e,I=Yn(e,N);I&&(!L||!B.equals(I,L))&&b.select(e,I)}},D=()=>{var N=He.get(e);if(He.delete(e),!!N){if(N.at){var L=Z.isPoint(N.at)?Ct(e,N.at):Yn(e,N.at);if(!L)return;var I=s.range(e,L);(!e.selection||!B.equals(e.selection,I))&&b.select(e,L)}N.run()}},g=()=>{if(i&&(clearTimeout(i),i=null),l&&(clearTimeout(l),l=null),!P()&&!O()){v();return}u||(u=!0,setTimeout(()=>u=!1)),O()&&(u="action");var N=e.selection&&s.rangeRef(e,e.selection,{affinity:"forward"});We.set(e,e.marks),kl("flush",He.get(e),Fe.get(e));for(var L=P(),I;I=(k=Fe.get(e))===null||k===void 0?void 0:k[0];){var k,J,ee=je.get(e);ee!==void 0&&(je.delete(e),e.marks=ee),ee&&f===!1&&(f=null);var ie=Nl(I);(!e.selection||!B.equals(e.selection,ie))&&b.select(e,ie),I.diff.text?s.insertText(e,I.diff.text):s.deleteFragment(e),Fe.set(e,(J=Fe.get(e))===null||J===void 0?void 0:J.filter(fe=>{var{id:ae}=fe;return ae!==I.id})),Pl(e,I)||(L=!1,He.delete(e),We.delete(e),u="action",Ke.delete(e),t.cancel(),n.cancel(),N==null||N.unref())}var U=N==null?void 0:N.unref();if(U&&!Ke.get(e)&&(!e.selection||!B.equals(U,e.selection))&&b.select(e,U),O()){D();return}L&&t(),t.flush(),n.flush(),v();var _=We.get(e);We.delete(e),_!==void 0&&(e.marks=_,e.onChange())},m=N=>{a&&clearTimeout(a),a=setTimeout(()=>{Qe.set(e,!1),g()},Ml)},h=N=>{Qe.set(e,!0),a&&(clearTimeout(a),a=null)},o=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,I=vt.get(e);if(I){if(P()||L){I.style.display="none";return}I.style.removeProperty("display")}},E=(N,L)=>{var I,k=(I=Fe.get(e))!==null&&I!==void 0?I:[];Fe.set(e,k);var J=y.leaf(e,N),ee=k.findIndex(_=>d.equals(_.path,N));if(ee<0){var ie=ku(J.text,L);ie&&k.push({path:N,diff:L,id:c++}),o();return}var U=Rl(J.text,k[ee].diff,L);if(!U){k.splice(ee,1),o();return}k[ee]=Mr(Mr({},k[ee]),{},{diff:U})},p=function(L){var{at:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f=!1,Ke.delete(e),t.cancel(),n.cancel(),O()&&g(),He.set(e,{at:I,run:L}),l=setTimeout(g)},A=N=>{var L;i&&(clearTimeout(i),i=null);var{inputType:I}=N,k=null,J=N.dataTransfer||N.data||void 0;f!==!1&&I!=="insertText"&&I!=="insertCompositionText"&&(f=!1);var[ee]=N.getTargetRanges();ee&&(k=F.toSlateRange(e,ee,{exactMatch:!1,suppressThrow:!0}));var ie=F.getWindow(e),U=ie.getSelection();if(!k&&U&&(ee=U,k=F.toSlateRange(e,U,{exactMatch:!1,suppressThrow:!0})),k=(L=k)!==null&&L!==void 0?L:e.selection,!!k){var _=!0;if(I.startsWith("delete")){if(B.isExpanded(k)){var[fe,ae]=B.edges(k),Ee=y.leaf(e,fe.path);if(Ee.text.length===fe.offset&&ae.offset===0){var C=s.next(e,{at:fe.path,match:q.isText});C&&d.equals(C[1],ae.path)&&(k={anchor:ae,focus:ae})}}var S=I.endsWith("Backward")?"backward":"forward",[w,R]=B.edges(k),[X,H]=s.leaf(e,w.path),Q={text:"",start:w.offset,end:R.offset},ue=Fe.get(e),ne=ue==null?void 0:ue.find(Re=>d.equals(Re.path,H)),ce=ne?[ne.diff,Q]:[Q],re=Iu(X.text,...ce);if(re.length===0&&(_=!1),B.isExpanded(k)){if(_&&d.equals(k.anchor.path,k.focus.path)){var Ce={path:k.anchor.path,offset:w.offset},me=s.range(e,Ce,Ce);return j(me),E(k.anchor.path,{text:"",end:R.offset,start:w.offset})}return p(()=>s.deleteFragment(e,{direction:S}),{at:k})}}switch(I){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return p(()=>s.deleteFragment(e),{at:k});case"deleteContent":case"deleteContentForward":{var{anchor:de}=k;if(_&&B.isCollapsed(k)){var Pe=y.leaf(e,de.path);if(de.offset<Pe.text.length)return E(de.path,{text:"",start:de.offset,end:de.offset+1})}return p(()=>s.deleteForward(e),{at:k})}case"deleteContentBackward":{var Me,{anchor:Ae}=k,Se=gt(ee)?ee.isCollapsed:!!((Me=ee)!==null&&Me!==void 0&&Me.collapsed);return _&&Se&&B.isCollapsed(k)&&Ae.offset>0?E(Ae.path,{text:"",start:Ae.offset-1,end:Ae.offset}):p(()=>s.deleteBackward(e),{at:k})}case"deleteEntireSoftLine":return p(()=>{s.deleteBackward(e,{unit:"line"}),s.deleteForward(e,{unit:"line"})},{at:k});case"deleteHardLineBackward":return p(()=>s.deleteBackward(e,{unit:"block"}),{at:k});case"deleteSoftLineBackward":return p(()=>s.deleteBackward(e,{unit:"line"}),{at:k});case"deleteHardLineForward":return p(()=>s.deleteForward(e,{unit:"block"}),{at:k});case"deleteSoftLineForward":return p(()=>s.deleteForward(e,{unit:"line"}),{at:k});case"deleteWordBackward":return p(()=>s.deleteBackward(e,{unit:"word"}),{at:k});case"deleteWordForward":return p(()=>s.deleteForward(e,{unit:"word"}),{at:k});case"insertLineBreak":return p(()=>s.insertSoftBreak(e),{at:k});case"insertParagraph":return p(()=>s.insertBreak(e),{at:k});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(Ll(J))return p(()=>F.insertData(e,J),{at:k});var se=J??"";if(je.get(e)&&(se=se.replace("\uFEFF","")),I==="insertText"&&/.*\n.*\n$/.test(se)&&(se=se.slice(0,-1)),se.includes(`
`))return p(()=>{var Re=se.split(`
`);Re.forEach((Ge,yr)=>{Ge&&s.insertText(e,Ge),yr!==Re.length-1&&s.insertSoftBreak(e)})},{at:k});if(d.equals(k.anchor.path,k.focus.path)){var[be,Ie]=B.edges(k),te={start:be.offset,end:Ie.offset,text:se};if(se&&f&&I==="insertCompositionText"){var Te=f.start+f.text.search(/\S|$/),Or=te.start+te.text.search(/\S|$/);Or===Te+1&&te.end===f.start+f.text.length?(te.start-=1,f=null,W()):f=!1}else I==="insertText"?f===null?f=te:f&&B.isCollapsed(k)&&f.end+f.text.length===be.offset?f=Mr(Mr({},f),{},{text:f.text+se}):f=!1:f=!1;if(_){E(be.path,te);return}}return p(()=>s.insertText(e,se),{at:k})}}}},O=()=>!!He.get(e),P=()=>{var N;return!!((N=Fe.get(e))!==null&&N!==void 0&&N.length)},M=()=>O()||P(),$=()=>u,j=N=>{Ke.set(e,N),i&&(clearTimeout(i),i=null);var{selection:L}=e;if(N){var I=!L||!d.equals(L.anchor.path,N.anchor.path),k=!L||!d.equals(L.anchor.path.slice(0,-1),N.anchor.path.slice(0,-1));(I&&f||k)&&(f=!1),(I||P())&&(i=setTimeout(g,Il))}},V=()=>{(O()||!P())&&g()},x=N=>{P()||(o(!0),setTimeout(o))},W=()=>{O()||(l=setTimeout(g))},G=N=>{if(!(P()||O())&&N.some(I=>$t(e,I,N))){var L;(L=Tu.get(e))===null||L===void 0||L()}};return{flush:g,scheduleFlush:W,hasPendingDiffs:P,hasPendingAction:O,hasPendingChanges:M,isFlushing:$,handleUserSelect:j,handleCompositionEnd:m,handleCompositionStart:h,handleDOMBeforeInput:A,handleKeyDown:x,handleDomMutations:G,handleInput:V}}function Wl(){var r=T.useRef(!1);return T.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),r.current}var br=Lr?T.useLayoutEffect:T.useEffect;function zl(r,e,t){var[n]=T.useState(()=>new MutationObserver(e));br(()=>{n.takeRecords()}),T.useEffect(()=>{if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(r.current,t),()=>n.disconnect()},[n,r,t])}var ql=["node"];function Zn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Vl(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zn(Object(t),!0).forEach(function(n){Ur(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Zn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Hl={subtree:!0,childList:!0,characterData:!0},Kl=we?r=>{var{node:e}=r,t=or(r,ql);if(!we)return null;var n=Ye(),u=Wl(),[a]=T.useState(()=>$l(Vl({editor:n},t)));return zl(e,a.handleDomMutations,Hl),kt.set(n,a.scheduleFlush),u&&a.flush(),a}:()=>null,Ul=["anchor","focus"],Yl=["anchor","focus"],Gl=(r,e)=>Object.keys(r).length===Object.keys(e).length&&Object.keys(r).every(t=>e.hasOwnProperty(t)&&r[t]===e[t]),Lu=(r,e)=>{var t=or(r,Ul),n=or(e,Yl);return r[lr]===e[lr]&&Gl(t,n)},Xl=(r,e)=>{if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++){var n=r[t],u=e[t];if(!B.equals(n,u)||!Lu(n,u))return!1}return!0},Zl=(r,e)=>{if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++){var n=r[t],u=e[t];if(n.anchor.offset!==u.anchor.offset||n.focus.offset!==u.focus.offset||!Lu(n,u))return!1}return!0},Jl=r=>{var{isLast:e,leaf:t,parent:n,text:u}=r,a=Ye(),i=F.findPath(a,u),l=d.parent(i),c=t[Ru]===!0;return a.isVoid(n)?Y.createElement(at,{length:y.string(n).length}):t.text===""&&n.children[n.children.length-1]===u&&!a.isInline(n)&&s.string(a,l)===""?Y.createElement(at,{isLineBreak:!0,isMarkPlaceholder:c}):t.text===""?Y.createElement(at,{isMarkPlaceholder:c}):e&&t.text.slice(-1)===`
`?Y.createElement(Jn,{isTrailing:!0,text:t.text}):Y.createElement(Jn,{text:t.text})},Jn=r=>{var{text:e,isTrailing:t=!1}=r,n=T.useRef(null),u=()=>"".concat(e??"").concat(t?`
`:""),[a]=T.useState(u);return br(()=>{var i=u();n.current&&n.current.textContent!==i&&(n.current.textContent=i)}),Y.createElement(Ql,{ref:n},a)},Ql=T.memo(T.forwardRef((r,e)=>Y.createElement("span",{"data-slate-string":!0,ref:e},r.children))),at=r=>{var{length:e=0,isLineBreak:t=!1,isMarkPlaceholder:n=!1}=r,u={"data-slate-zero-width":t?"n":"z","data-slate-length":e};return n&&(u["data-slate-mark-placeholder"]=!0),Y.createElement("span",Object.assign({},u),!we||!t?"\uFEFF":null,t?Y.createElement("br",null):null)};function _l(r,e){r.current&&(r.current.disconnect(),e&&(r.current=null))}function Qn(r){r.current&&(clearTimeout(r.current),r.current=null)}var ef=r=>{var{leaf:e,isLast:t,text:n,parent:u,renderPlaceholder:a,renderLeaf:i=A=>Y.createElement(tf,Object.assign({},A))}=r,l=Ye(),c=T.useRef(null),f=T.useRef(null),[v,D]=T.useState(!1),g=T.useRef(null),m=T.useCallback(A=>{if(_l(c,A==null),A==null){var O;vt.delete(l),(O=e.onPlaceholderResize)===null||O===void 0||O.call(e,null)}else{if(vt.set(l,A),!c.current){var P=window.ResizeObserver||il;c.current=new P(()=>{var M;(M=e.onPlaceholderResize)===null||M===void 0||M.call(e,A)})}c.current.observe(A),f.current=A}},[f,e,l]),h=Y.createElement(Jl,{isLast:t,leaf:e,parent:u,text:n}),o=e[lr];if(T.useEffect(()=>(o?g.current||(g.current=setTimeout(()=>{D(!0),g.current=null},300)):(Qn(g),D(!1)),()=>Qn(g)),[o,D]),o&&v){var E={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:gr?"inherit":void 0},contentEditable:!1,ref:m}};h=Y.createElement(Y.Fragment,null,a(E),h)}var p={"data-slate-leaf":!0};return i({attributes:p,children:h,leaf:e,text:n})},rf=Y.memo(ef,(r,e)=>e.parent===r.parent&&e.isLast===r.isLast&&e.renderLeaf===r.renderLeaf&&e.renderPlaceholder===r.renderPlaceholder&&e.text===r.text&&q.equals(e.leaf,r.leaf)&&e.leaf[lr]===r.leaf[lr]),tf=r=>{var{attributes:e,children:t}=r;return Y.createElement("span",Object.assign({},e),t)},nf=r=>{for(var{decorations:e,isLast:t,parent:n,renderPlaceholder:u,renderLeaf:a,text:i}=r,l=Ye(),c=T.useRef(null),f=q.decorations(i,e),v=F.findKey(l,i),D=[],g=0;g<f.length;g++){var m=f[g];D.push(Y.createElement(rf,{isLast:t&&g===f.length-1,key:"".concat(v.id,"-").concat(g),renderPlaceholder:u,leaf:m,text:i,parent:n,renderLeaf:a}))}var h=T.useCallback(o=>{var E=Yr.get(l);o?(E==null||E.set(v,o),rr.set(i,o),wr.set(o,i)):(E==null||E.delete(v),rr.delete(i),c.current&&wr.delete(c.current)),c.current=o},[c,l,v,i]);return Y.createElement("span",{"data-slate-node":"text",ref:h},D)},$u=Y.memo(nf,(r,e)=>e.parent===r.parent&&e.isLast===r.isLast&&e.renderLeaf===r.renderLeaf&&e.renderPlaceholder===r.renderPlaceholder&&e.text===r.text&&Zl(e.decorations,r.decorations)),uf=r=>{var{decorations:e,element:t,renderElement:n=A=>Y.createElement(sf,Object.assign({},A)),renderPlaceholder:u,renderLeaf:a,selection:i}=r,l=Ye(),c=ff(),f=l.isInline(t),v=F.findKey(l,t),D=T.useCallback(A=>{var O=Yr.get(l);A?(O==null||O.set(v,A),rr.set(t,A),wr.set(A,t)):(O==null||O.delete(v),rr.delete(t))},[l,v,t]),g=zu({decorations:e,node:t,renderElement:n,renderPlaceholder:u,renderLeaf:a,selection:i}),m={"data-slate-node":"element",ref:D};if(f&&(m["data-slate-inline"]=!0),!f&&s.hasInlines(l,t)){var h=y.string(t),o=vu(h);o==="rtl"&&(m.dir=o)}if(s.isVoid(l,t)){m["data-slate-void"]=!0,!c&&f&&(m.contentEditable=!1);var E=f?"span":"div",[[p]]=y.texts(t);g=Y.createElement(E,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},Y.createElement($u,{renderPlaceholder:u,decorations:[],isLast:!1,parent:t,text:p})),Mt.set(p,0),It.set(p,t)}return n({attributes:m,children:g,element:t})},af=Y.memo(uf,(r,e)=>r.element===e.element&&r.renderElement===e.renderElement&&r.renderLeaf===e.renderLeaf&&r.renderPlaceholder===e.renderPlaceholder&&Xl(r.decorations,e.decorations)&&(r.selection===e.selection||!!r.selection&&!!e.selection&&B.equals(r.selection,e.selection))),sf=r=>{var{attributes:e,children:t,element:n}=r,u=Ye(),a=u.isInline(n)?"span":"div";return Y.createElement(a,Object.assign({},e,{style:{position:"relative"}}),t)},Wu=T.createContext(()=>[]),of=()=>T.useContext(Wu),lf=T.createContext(!1),zu=r=>{for(var{decorations:e,node:t,renderElement:n,renderPlaceholder:u,renderLeaf:a,selection:i}=r,l=of(),c=Ye(),f=F.findPath(c,t),v=[],D=z.isElement(t)&&!c.isInline(t)&&s.hasInlines(c,t),g=0;g<t.children.length;g++){var m=f.concat(g),h=t.children[g],o=F.findKey(c,h),E=s.range(c,m),p=i&&B.intersection(E,i),A=l([h,m]);for(var O of e){var P=B.intersection(O,E);P&&A.push(P)}z.isElement(h)?v.push(Y.createElement(lf.Provider,{key:"provider-".concat(o.id),value:!!p},Y.createElement(af,{decorations:A,element:h,key:o.id,renderElement:n,renderPlaceholder:u,renderLeaf:a,selection:p}))):v.push(Y.createElement($u,{decorations:A,key:o.id,isLast:D&&g===t.children.length-1,parent:t,renderPlaceholder:u,renderLeaf:a,text:h})),Mt.set(h,g),It.set(h,t)}return v},qu=T.createContext(!1),ff=()=>T.useContext(qu),Vu=T.createContext(null),cf=()=>{var r=T.useContext(Vu);if(!r)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:e}=r;return e};function vf(){var r=Ye(),e=T.useRef(!1),t=T.useRef(0),n=T.useCallback(()=>{if(!e.current){e.current=!0;var u=F.getWindow(r);u.cancelAnimationFrame(t.current),t.current=u.requestAnimationFrame(()=>{e.current=!1})}},[r]);return T.useEffect(()=>()=>cancelAnimationFrame(t.current),[]),{receivedUserInput:e,onUserInput:n}}var df=3,Df={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},hf={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},gf={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},le=r=>{var e=Df[r],t=hf[r],n=gf[r],u=e&&ut(e),a=t&&ut(t),i=n&&ut(n);return l=>!!(u&&u(l)||Un&&a&&a(l)||!Un&&i&&i(l))},ve={isBold:le("bold"),isCompose:le("compose"),isMoveBackward:le("moveBackward"),isMoveForward:le("moveForward"),isDeleteBackward:le("deleteBackward"),isDeleteForward:le("deleteForward"),isDeleteLineBackward:le("deleteLineBackward"),isDeleteLineForward:le("deleteLineForward"),isDeleteWordBackward:le("deleteWordBackward"),isDeleteWordForward:le("deleteWordForward"),isExtendBackward:le("extendBackward"),isExtendForward:le("extendForward"),isExtendLineBackward:le("extendLineBackward"),isExtendLineForward:le("extendLineForward"),isItalic:le("italic"),isMoveLineBackward:le("moveLineBackward"),isMoveLineForward:le("moveLineForward"),isMoveWordBackward:le("moveWordBackward"),isMoveWordForward:le("moveWordForward"),isRedo:le("redo"),isSoftBreak:le("insertSoftBreak"),isSplitBlock:le("splitBlock"),isTransposeCharacter:le("transposeCharacter"),isUndo:le("undo")},Cf=(r,e)=>{var t=[],n=()=>{t=[]},u=i=>{if(e.current){var l=i.filter(c=>$t(r,c,i));t.push(...l)}};function a(){t.length>0&&(t.reverse().forEach(i=>{i.type!=="characterData"&&(i.removedNodes.forEach(l=>{i.target.insertBefore(l,i.nextSibling)}),i.addedNodes.forEach(l=>{i.target.removeChild(l)}))}),n())}return{registerMutations:u,restoreDOM:a,clear:n}},mf={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class Hu extends T.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var e,{node:t}=this.props;if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(e=this.mutationObserver)===null||e===void 0||e.observe(t.current,mf)}componentDidMount(){var{receivedUserInput:e}=this.props,t=this.context;this.manager=Cf(t,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,n,u=(e=this.mutationObserver)===null||e===void 0?void 0:e.takeRecords();if(u!=null&&u.length){var a;(a=this.manager)===null||a===void 0||a.registerMutations(u)}return(t=this.mutationObserver)===null||t===void 0||t.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var e;(e=this.manager)===null||e===void 0||e.clear(),this.observe()}componentWillUnmount(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return this.props.children}}Hu.contextType=jt;var pf=we?Hu:r=>{var{children:e}=r;return Y.createElement(Y.Fragment,null,e)},Bf=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],Ef=["text"];function _n(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function ur(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_n(Object(t),!0).forEach(function(n){Ur(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_n(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Af=r=>Y.createElement(Y.Fragment,null,zu(r)),Ff=r=>{var e=T.useCallback(C=>Y.createElement(wf,Object.assign({},C)),[]),{autoFocus:t,decorate:n=bf,onDOMBeforeInput:u,placeholder:a,readOnly:i=!1,renderElement:l,renderLeaf:c,renderPlaceholder:f=e,scrollSelectionIntoView:v=Of,style:D={},as:g="div",disableDefaultStyles:m=!1}=r,h=or(r,Bf),o=cf(),[E,p]=T.useState(!1),A=T.useRef(null),O=T.useRef([]),[P,M]=T.useState(),{onUserInput:$,receivedUserInput:j}=vf(),[,V]=T.useReducer(C=>C+1,0);Tu.set(o,V),Dt.set(o,i);var x=T.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);T.useEffect(()=>{A.current&&t&&A.current.focus()},[t]);var W=T.useRef(),G=T.useMemo(()=>Io(()=>{var C=W.current;if((we||!F.isComposing(o))&&(!x.isUpdatingSelection||C!=null&&C.isFlushing())&&!x.isDraggingInternally){var S=F.findDocumentOrShadowRoot(o),{activeElement:w}=S,R=F.toDOMNode(o,o),X=S.getSelection();if(w===R?(x.latestElement=w,Je.set(o,!0)):Je.delete(o),!X)return b.deselect(o);var{anchorNode:H,focusNode:Q}=X,ue=F.hasEditableTarget(o,H)||F.isTargetInsideNonReadonlyVoid(o,H),ne=F.hasEditableTarget(o,Q)||F.isTargetInsideNonReadonlyVoid(o,Q);if(ue&&ne){var ce=F.toSlateRange(o,X,{exactMatch:!1,suppressThrow:!0});ce&&(!F.isComposing(o)&&!(C!=null&&C.hasPendingChanges())&&!(C!=null&&C.isFlushing())?b.select(o,ce):C==null||C.handleUserSelect(ce))}i&&(!ue||!ne)&&b.deselect(o)}},100),[o,i,x]),N=T.useMemo(()=>So(G,0),[G]);W.current=Kl({node:A,onDOMSelectionChange:G,scheduleOnDOMSelectionChange:N}),br(()=>{var C,S,w;A.current&&(w=Lt(A.current))?(Su.set(o,w),$r.set(o,A.current),rr.set(o,A.current),wr.set(A.current,o)):rr.delete(o);var{selection:R}=o,X=F.findDocumentOrShadowRoot(o),H=X.getSelection();if(!(!H||!F.isFocused(o)||(C=W.current)!==null&&C!==void 0&&C.hasPendingAction())){var Q=re=>{var Ce=H.type!=="None";if(!(!R&&!Ce)){var me=H.focusNode,de;if(pr&&H.rangeCount>1){var Pe=H.getRangeAt(0),Me=H.getRangeAt(H.rangeCount-1);Pe.startContainer===me?de=Me.endContainer:de=Pe.startContainer}else de=H.anchorNode;var Ae=$r.get(o),Se=!1;if(Ae.contains(de)&&Ae.contains(me)&&(Se=!0),Ce&&Se&&R&&!re){var se=F.toSlateRange(o,H,{exactMatch:!0,suppressThrow:!0});if(se&&B.equals(se,R)){var be,Ie;if(!x.hasMarkPlaceholder||(be=de)!==null&&be!==void 0&&(Ie=be.parentElement)!==null&&Ie!==void 0&&Ie.hasAttribute("data-slate-mark-placeholder"))return}}if(R&&!F.hasRange(o,R)){o.selection=F.toSlateRange(o,H,{exactMatch:!1,suppressThrow:!0});return}x.isUpdatingSelection=!0;var te=R&&F.toDOMRange(o,R);return te?(F.isComposing(o)&&!we?H.collapseToEnd():B.isBackward(R)?H.setBaseAndExtent(te.endContainer,te.endOffset,te.startContainer,te.startOffset):H.setBaseAndExtent(te.startContainer,te.startOffset,te.endContainer,te.endOffset),v(o,te)):H.removeAllRanges(),te}};H.rangeCount<=1&&Q();var ue=((S=W.current)===null||S===void 0?void 0:S.isFlushing())==="action";if(!we||!ue){setTimeout(()=>{x.isUpdatingSelection=!1});return}var ne=null,ce=requestAnimationFrame(()=>{if(ue){var re=Ce=>{try{var me=F.toDOMNode(o,o);me.focus(),Q(Ce)}catch{}};re(),ne=setTimeout(()=>{re(!0),x.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(ce),ne&&clearTimeout(ne)}}});var L=T.useCallback(C=>{if($(),!i&&F.hasEditableTarget(o,C.target)&&!yf(C,u)){var S;if(W.current)return W.current.handleDOMBeforeInput(C);N.flush(),G.flush();var{selection:w}=o,{inputType:R}=C,X=C.dataTransfer||C.data||void 0,H=R==="insertCompositionText"||R==="deleteCompositionText";if(H&&F.isComposing(o))return;var Q=!1;if(R==="insertText"&&w&&B.isCollapsed(w)&&C.data&&C.data.length===1&&/[a-z ]/i.test(C.data)&&w.anchor.offset!==0){var ue,ne;Q=!0,o.marks&&(Q=!1);var{anchor:ce}=w,[re,Ce]=F.toDOMPoint(o,ce),me=(ue=re.parentElement)===null||ue===void 0?void 0:ue.closest("a"),de=F.getWindow(o);if(Q&&me&&F.hasDOMNode(o,me)){var Pe,Me=de==null?void 0:de.document.createTreeWalker(me,NodeFilter.SHOW_TEXT).lastChild();Me===re&&((Pe=Me.textContent)===null||Pe===void 0?void 0:Pe.length)===Ce&&(Q=!1)}if(Q&&re.parentElement&&(de==null||(ne=de.getComputedStyle(re.parentElement))===null||ne===void 0?void 0:ne.whiteSpace)==="pre"){var Ae=s.above(o,{at:ce.path,match:Te=>z.isElement(Te)&&s.isBlock(o,Te)});Ae&&y.string(Ae[0]).includes("	")&&(Q=!1)}}if(!R.startsWith("delete")||R.startsWith("deleteBy")){var[Se]=C.getTargetRanges();if(Se){var se=F.toSlateRange(o,Se,{exactMatch:!1,suppressThrow:!1});if(!w||!B.equals(w,se)){Q=!1;var be=!H&&o.selection&&s.rangeRef(o,o.selection);b.select(o,se),be&&Br.set(o,be)}}}if(H)return;if(Q||C.preventDefault(),w&&B.isExpanded(w)&&R.startsWith("delete")){var Ie=R.endsWith("Backward")?"backward":"forward";s.deleteFragment(o,{direction:Ie});return}switch(R){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{s.deleteFragment(o);break}case"deleteContent":case"deleteContentForward":{s.deleteForward(o);break}case"deleteContentBackward":{s.deleteBackward(o);break}case"deleteEntireSoftLine":{s.deleteBackward(o,{unit:"line"}),s.deleteForward(o,{unit:"line"});break}case"deleteHardLineBackward":{s.deleteBackward(o,{unit:"block"});break}case"deleteSoftLineBackward":{s.deleteBackward(o,{unit:"line"});break}case"deleteHardLineForward":{s.deleteForward(o,{unit:"block"});break}case"deleteSoftLineForward":{s.deleteForward(o,{unit:"line"});break}case"deleteWordBackward":{s.deleteBackward(o,{unit:"word"});break}case"deleteWordForward":{s.deleteForward(o,{unit:"word"});break}case"insertLineBreak":s.insertSoftBreak(o);break;case"insertParagraph":{s.insertBreak(o);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{R==="insertFromComposition"&&F.isComposing(o)&&(p(!1),Qe.set(o,!1)),(X==null?void 0:X.constructor.name)==="DataTransfer"?F.insertData(o,X):typeof X=="string"&&(Q?O.current.push(()=>s.insertText(o,X)):s.insertText(o,X));break}}var te=(S=Br.get(o))===null||S===void 0?void 0:S.unref();Br.delete(o),te&&(!o.selection||!B.equals(o.selection,te))&&b.select(o,te)}},[o,G,$,u,i,N]),I=T.useCallback(C=>{C==null?(G.cancel(),N.cancel(),$r.delete(o),rr.delete(o),A.current&&Ve&&A.current.removeEventListener("beforeinput",L)):Ve&&C.addEventListener("beforeinput",L),A.current=C},[G,N,o,L]);br(()=>{var C=F.getWindow(o);return C.document.addEventListener("selectionchange",N),()=>{C.document.removeEventListener("selectionchange",N)}},[N]);var k=n([o,[]]),J=a&&o.children.length===1&&Array.from(y.texts(o)).length===1&&y.string(o)===""&&!E,ee=T.useCallback(C=>{if(C&&J){var S;M((S=C.getBoundingClientRect())===null||S===void 0?void 0:S.height)}else M(void 0)},[J]);if(J){var ie=s.start(o,[]);k.push({[lr]:!0,placeholder:a,onPlaceholderResize:ee,anchor:ie,focus:ie})}var{marks:U}=o;if(x.hasMarkPlaceholder=!1,o.selection&&B.isCollapsed(o.selection)&&U){var{anchor:_}=o.selection,fe=y.leaf(o,_.path),ae=or(fe,Ef);if(!q.equals(fe,U,{loose:!0})){x.hasMarkPlaceholder=!0;var Ee=Object.fromEntries(Object.keys(ae).map(C=>[C,null]));k.push(ur(ur(ur({[Ru]:!0},Ee),U),{},{anchor:_,focus:_}))}}return T.useEffect(()=>{setTimeout(()=>{var{selection:C}=o;if(C){var{anchor:S}=C,w=y.leaf(o,S.path);if(U&&!q.equals(w,U,{loose:!0})){je.set(o,U);return}}je.delete(o)})}),Y.createElement(qu.Provider,{value:i},Y.createElement(Wu.Provider,{value:n},Y.createElement(pf,{node:A,receivedUserInput:j},Y.createElement(g,Object.assign({role:i?void 0:"textbox","aria-multiline":i?void 0:!0},h,{spellCheck:Ve||!Lr?h.spellCheck:!1,autoCorrect:Ve||!Lr?h.autoCorrect:"false",autoCapitalize:Ve||!Lr?h.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!i,zindex:-1,suppressContentEditableWarning:!0,ref:I,style:ur(ur({},m?{}:ur({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},P?{minHeight:P}:{})),D),onBeforeInput:T.useCallback(C=>{if(!Ve&&!i&&!pe(C,h.onBeforeInput)&&F.hasSelectableTarget(o,C.target)&&(C.preventDefault(),!F.isComposing(o))){var S=C.data;s.insertText(o,S)}},[h.onBeforeInput,o,i]),onInput:T.useCallback(C=>{if(!pe(C,h.onInput)){if(W.current){W.current.handleInput();return}for(var S of O.current)S();O.current=[]}},[h.onInput]),onBlur:T.useCallback(C=>{if(!(i||x.isUpdatingSelection||!F.hasSelectableTarget(o,C.target)||pe(C,h.onBlur))){var S=F.findDocumentOrShadowRoot(o);if(x.latestElement!==S.activeElement){var{relatedTarget:w}=C,R=F.toDOMNode(o,o);if(w!==R&&!(xe(w)&&w.hasAttribute("data-slate-spacer"))){if(w!=null&&Ue(w)&&F.hasDOMNode(o,w)){var X=F.toSlateNode(o,w);if(z.isElement(X)&&!o.isVoid(X))return}if(gr){var H=S.getSelection();H==null||H.removeAllRanges()}Je.delete(o)}}}},[i,x.isUpdatingSelection,x.latestElement,o,h.onBlur]),onClick:T.useCallback(C=>{if(F.hasTarget(o,C.target)&&!pe(C,h.onClick)&&Ue(C.target)){var S=F.toSlateNode(o,C.target),w=F.findPath(o,S);if(!s.hasPath(o,w)||y.get(o,w)!==S)return;if(C.detail===df&&w.length>=1){var R=w;if(!(z.isElement(S)&&s.isBlock(o,S))){var X,H=s.above(o,{match:me=>z.isElement(me)&&s.isBlock(o,me),at:w});R=(X=H==null?void 0:H[1])!==null&&X!==void 0?X:w.slice(0,1)}var Q=s.range(o,R);b.select(o,Q);return}if(i)return;var ue=s.start(o,w),ne=s.end(o,w),ce=s.void(o,{at:ue}),re=s.void(o,{at:ne});if(ce&&re&&d.equals(ce[1],re[1])){var Ce=s.range(o,ue);b.select(o,Ce)}}},[o,h.onClick,i]),onCompositionEnd:T.useCallback(C=>{if(F.hasSelectableTarget(o,C.target)){var S;if(F.isComposing(o)&&(p(!1),Qe.set(o,!1)),(S=W.current)===null||S===void 0||S.handleCompositionEnd(C),pe(C,h.onCompositionEnd)||we)return;if(!gr&&!gl&&!vl&&!ml&&!Cl&&C.data){var w=je.get(o);je.delete(o),w!==void 0&&(We.set(o,o.marks),o.marks=w),s.insertText(o,C.data);var R=We.get(o);We.delete(o),R!==void 0&&(o.marks=R)}}},[h.onCompositionEnd,o]),onCompositionUpdate:T.useCallback(C=>{F.hasSelectableTarget(o,C.target)&&!pe(C,h.onCompositionUpdate)&&(F.isComposing(o)||(p(!0),Qe.set(o,!0)))},[h.onCompositionUpdate,o]),onCompositionStart:T.useCallback(C=>{if(F.hasSelectableTarget(o,C.target)){var S;if((S=W.current)===null||S===void 0||S.handleCompositionStart(C),pe(C,h.onCompositionStart)||we)return;p(!0);var{selection:w}=o;if(w){if(B.isExpanded(w)){s.deleteFragment(o);return}var R=s.above(o,{match:Q=>z.isElement(Q)&&s.isInline(o,Q),mode:"highest"});if(R){var[,X]=R;if(s.isEnd(o,w.anchor,X)){var H=s.after(o,X);b.setSelection(o,{anchor:H,focus:H})}}}}},[h.onCompositionStart,o]),onCopy:T.useCallback(C=>{F.hasSelectableTarget(o,C.target)&&!pe(C,h.onCopy)&&!eu(C)&&(C.preventDefault(),F.setFragmentData(o,C.clipboardData,"copy"))},[h.onCopy,o]),onCut:T.useCallback(C=>{if(!i&&F.hasSelectableTarget(o,C.target)&&!pe(C,h.onCut)&&!eu(C)){C.preventDefault(),F.setFragmentData(o,C.clipboardData,"cut");var{selection:S}=o;if(S)if(B.isExpanded(S))s.deleteFragment(o);else{var w=y.parent(o,S.anchor.path);s.isVoid(o,w)&&b.delete(o)}}},[i,o,h.onCut]),onDragOver:T.useCallback(C=>{if(F.hasTarget(o,C.target)&&!pe(C,h.onDragOver)){var S=F.toSlateNode(o,C.target);z.isElement(S)&&s.isVoid(o,S)&&C.preventDefault()}},[h.onDragOver,o]),onDragStart:T.useCallback(C=>{if(!i&&F.hasTarget(o,C.target)&&!pe(C,h.onDragStart)){var S=F.toSlateNode(o,C.target),w=F.findPath(o,S),R=z.isElement(S)&&s.isVoid(o,S)||s.void(o,{at:w,voids:!0});if(R){var X=s.range(o,w);b.select(o,X)}x.isDraggingInternally=!0,F.setFragmentData(o,C.dataTransfer,"drag")}},[i,o,h.onDragStart,x]),onDrop:T.useCallback(C=>{if(!i&&F.hasTarget(o,C.target)&&!pe(C,h.onDrop)){C.preventDefault();var S=o.selection,w=F.findEventRange(o,C),R=C.dataTransfer;b.select(o,w),x.isDraggingInternally&&S&&!B.equals(S,w)&&!s.void(o,{at:w,voids:!0})&&b.delete(o,{at:S}),F.insertData(o,R),F.isFocused(o)||F.focus(o)}x.isDraggingInternally=!1},[i,o,h.onDrop,x]),onDragEnd:T.useCallback(C=>{!i&&x.isDraggingInternally&&h.onDragEnd&&F.hasTarget(o,C.target)&&h.onDragEnd(C),x.isDraggingInternally=!1},[i,x,h,o]),onFocus:T.useCallback(C=>{if(!i&&!x.isUpdatingSelection&&F.hasEditableTarget(o,C.target)&&!pe(C,h.onFocus)){var S=F.toDOMNode(o,o),w=F.findDocumentOrShadowRoot(o);if(x.latestElement=w.activeElement,pr&&C.target!==S){S.focus();return}Je.set(o,!0)}},[i,x,o,h.onFocus]),onKeyDown:T.useCallback(C=>{if(!i&&F.hasEditableTarget(o,C.target)){var S;(S=W.current)===null||S===void 0||S.handleKeyDown(C);var{nativeEvent:w}=C;if(F.isComposing(o)&&w.isComposing===!1&&(Qe.set(o,!1),p(!1)),pe(C,h.onKeyDown)||F.isComposing(o))return;var{selection:R}=o,X=o.children[R!==null?R.focus.path[0]:0],H=vu(y.string(X))==="rtl";if(ve.isRedo(w)){C.preventDefault();var Q=o;typeof Q.redo=="function"&&Q.redo();return}if(ve.isUndo(w)){C.preventDefault();var ue=o;typeof ue.undo=="function"&&ue.undo();return}if(ve.isMoveLineBackward(w)){C.preventDefault(),b.move(o,{unit:"line",reverse:!0});return}if(ve.isMoveLineForward(w)){C.preventDefault(),b.move(o,{unit:"line"});return}if(ve.isExtendLineBackward(w)){C.preventDefault(),b.move(o,{unit:"line",edge:"focus",reverse:!0});return}if(ve.isExtendLineForward(w)){C.preventDefault(),b.move(o,{unit:"line",edge:"focus"});return}if(ve.isMoveBackward(w)){C.preventDefault(),R&&B.isCollapsed(R)?b.move(o,{reverse:!H}):b.collapse(o,{edge:"start"});return}if(ve.isMoveForward(w)){C.preventDefault(),R&&B.isCollapsed(R)?b.move(o,{reverse:H}):b.collapse(o,{edge:"end"});return}if(ve.isMoveWordBackward(w)){C.preventDefault(),R&&B.isExpanded(R)&&b.collapse(o,{edge:"focus"}),b.move(o,{unit:"word",reverse:!H});return}if(ve.isMoveWordForward(w)){C.preventDefault(),R&&B.isExpanded(R)&&b.collapse(o,{edge:"focus"}),b.move(o,{unit:"word",reverse:H});return}if(Ve){if((Pu||gr)&&R&&(ve.isDeleteBackward(w)||ve.isDeleteForward(w))&&B.isCollapsed(R)){var ne=y.parent(o,R.anchor.path);if(z.isElement(ne)&&s.isVoid(o,ne)&&(s.isInline(o,ne)||s.isBlock(o,ne))){C.preventDefault(),s.deleteBackward(o,{unit:"block"});return}}}else{if(ve.isBold(w)||ve.isItalic(w)||ve.isTransposeCharacter(w)){C.preventDefault();return}if(ve.isSoftBreak(w)){C.preventDefault(),s.insertSoftBreak(o);return}if(ve.isSplitBlock(w)){C.preventDefault(),s.insertBreak(o);return}if(ve.isDeleteBackward(w)){C.preventDefault(),R&&B.isExpanded(R)?s.deleteFragment(o,{direction:"backward"}):s.deleteBackward(o);return}if(ve.isDeleteForward(w)){C.preventDefault(),R&&B.isExpanded(R)?s.deleteFragment(o,{direction:"forward"}):s.deleteForward(o);return}if(ve.isDeleteLineBackward(w)){C.preventDefault(),R&&B.isExpanded(R)?s.deleteFragment(o,{direction:"backward"}):s.deleteBackward(o,{unit:"line"});return}if(ve.isDeleteLineForward(w)){C.preventDefault(),R&&B.isExpanded(R)?s.deleteFragment(o,{direction:"forward"}):s.deleteForward(o,{unit:"line"});return}if(ve.isDeleteWordBackward(w)){C.preventDefault(),R&&B.isExpanded(R)?s.deleteFragment(o,{direction:"backward"}):s.deleteBackward(o,{unit:"word"});return}if(ve.isDeleteWordForward(w)){C.preventDefault(),R&&B.isExpanded(R)?s.deleteFragment(o,{direction:"forward"}):s.deleteForward(o,{unit:"word"});return}}}},[i,o,h.onKeyDown]),onPaste:T.useCallback(C=>{!i&&F.hasEditableTarget(o,C.target)&&!pe(C,h.onPaste)&&(!Ve||El(C.nativeEvent)||gr)&&(C.preventDefault(),F.insertData(o,C.clipboardData))},[i,o,h.onPaste])}),Y.createElement(Af,{decorations:k,node:o,renderElement:l,renderPlaceholder:f,renderLeaf:c,selection:o.selection})))))},wf=r=>{var{attributes:e,children:t}=r;return Y.createElement("span",Object.assign({},e),t,we&&Y.createElement("br",null))},bf=()=>[],Of=(r,e)=>{if(e.getBoundingClientRect&&(!r.selection||r.selection&&B.isCollapsed(r.selection))){var t=e.startContainer.parentElement;t.getBoundingClientRect=e.getBoundingClientRect.bind(e),$o(t,{scrollMode:"if-needed"}),delete t.getBoundingClientRect}},pe=(r,e)=>{if(!e)return!1;var t=e(r);return t??(r.isDefaultPrevented()||r.isPropagationStopped())},eu=r=>Ue(r.target)&&(r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement),yf=(r,e)=>{if(!e)return!1;var t=e(r);return t??r.defaultPrevented},xf=T.createContext(!1),Pf=T.createContext({});function Sf(r){var e=T.useRef([]).current,t=T.useRef({editor:r}).current,n=T.useCallback(a=>{t.editor=a,e.forEach(i=>i(a))},[e,t]),u=T.useMemo(()=>({getSlate:()=>t.editor,addEventListener:a=>(e.push(a),()=>{e.splice(e.indexOf(a),1)})}),[e,t]);return{selectorContext:u,onChange:n}}var Tf=["editor","children","onChange","initialValue"],Rf=r=>{var{editor:e,children:t,onChange:n,initialValue:u}=r,a=or(r,Tf),i=T.useRef(!1),[l,c]=Y.useState(()=>{if(!y.isNodeList(u))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(De.stringify(u)));if(!s.isEditor(e))throw new Error("[Slate] editor is invalid! You passed: ".concat(De.stringify(e)));return e.children=u,Object.assign(e,a),{v:0,editor:e}}),{selectorContext:f,onChange:v}=Sf(e),D=T.useCallback(()=>{n&&n(e.children),c(h=>({v:h.v+1,editor:e})),v(e)},[e,v,n]);T.useEffect(()=>(ht.set(e,D),()=>{ht.set(e,()=>{}),i.current=!0}),[e,D]);var[g,m]=T.useState(F.isFocused(e));return T.useEffect(()=>{m(F.isFocused(e))},[e]),br(()=>{var h=()=>m(F.isFocused(e));return xu>=17?(document.addEventListener("focusin",h),document.addEventListener("focusout",h),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",h)}):(document.addEventListener("focus",h,!0),document.addEventListener("blur",h,!0),()=>{document.removeEventListener("focus",h,!0),document.removeEventListener("blur",h,!0)})},[]),Y.createElement(Pf.Provider,{value:f},Y.createElement(Vu.Provider,{value:l},Y.createElement(jt.Provider,{value:l.editor},Y.createElement(xf.Provider,{value:g},t))))},ru=(r,e)=>{var t=(e.top+e.bottom)/2;return r.top<=t&&r.bottom>=t},tu=(r,e,t)=>{var n=F.toDOMRange(r,e).getBoundingClientRect(),u=F.toDOMRange(r,t).getBoundingClientRect();return ru(n,u)&&ru(u,n)},Nf=(r,e)=>{var t=s.range(r,B.end(e)),n=Array.from(s.positions(r,{at:e})),u=0,a=n.length,i=Math.floor(a/2);if(tu(r,s.range(r,n[u]),t))return s.range(r,n[u],t);if(n.length<2)return s.range(r,n[n.length-1],t);for(;i!==n.length&&i!==u;)tu(r,s.range(r,n[i]),t)?a=i:u=i,i=Math.floor((u+a)/2);return s.range(r,n[a],t)};function nu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function uu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nu(Object(t),!0).forEach(function(n){Ur(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var jf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=e,{apply:u,onChange:a,deleteBackward:i,addMark:l,removeMark:c}=n;return Yr.set(n,new WeakMap),n.addMark=(f,v)=>{var D,g;(D=kt.get(n))===null||D===void 0||D(),!je.get(n)&&(g=Fe.get(n))!==null&&g!==void 0&&g.length&&je.set(n,null),We.delete(n),l(f,v)},n.removeMark=f=>{var v;!je.get(n)&&(v=Fe.get(n))!==null&&v!==void 0&&v.length&&je.set(n,null),We.delete(n),c(f)},n.deleteBackward=f=>{if(f!=="line")return i(f);if(n.selection&&B.isCollapsed(n.selection)){var v=s.above(n,{match:h=>z.isElement(h)&&s.isBlock(n,h),at:n.selection});if(v){var[,D]=v,g=s.range(n,D,n.selection.anchor),m=Nf(n,g);B.isCollapsed(m)||b.delete(n,{at:m})}}},n.apply=f=>{var v=[],D=Fe.get(n);if(D!=null&&D.length){var g=D.map($=>jl($,f)).filter(Boolean);Fe.set(n,g)}var m=Ke.get(n);m&&Ke.set(n,Gn(n,m,f));var h=He.get(n);if(h!=null&&h.at){var o=Z.isPoint(h==null?void 0:h.at)?mt(n,h.at,f):Gn(n,h.at,f);He.set(n,o?uu(uu({},h),{},{at:o}):null)}switch(f.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{v.push(...Ir(n,f.path));break}case"set_selection":{var E;(E=Br.get(n))===null||E===void 0||E.unref(),Br.delete(n);break}case"insert_node":case"remove_node":{v.push(...Ir(n,d.parent(f.path)));break}case"merge_node":{var p=d.previous(f.path);v.push(...Ir(n,p));break}case"move_node":{var A=d.common(d.parent(f.path),d.parent(f.newPath));v.push(...Ir(n,A));break}}u(f);for(var[O,P]of v){var[M]=s.node(n,O);dt.set(M,P)}},n.setFragmentData=f=>{var{selection:v}=n;if(v){var[D,g]=B.edges(v),m=s.void(n,{at:D.path}),h=s.void(n,{at:g.path});if(!(B.isCollapsed(v)&&!m)){var o=F.toDOMRange(n,v),E=o.cloneContents(),p=E.childNodes[0];if(E.childNodes.forEach(W=>{W.textContent&&W.textContent.trim()!==""&&(p=W)}),h){var[A]=h,O=o.cloneRange(),P=F.toDOMNode(n,A);O.setEndAfter(P),E=O.cloneContents()}if(m&&(p=E.querySelector("[data-slate-spacer]")),Array.from(E.querySelectorAll("[data-slate-zero-width]")).forEach(W=>{var G=W.getAttribute("data-slate-zero-width")==="n";W.textContent=G?`
`:""}),Nu(p)){var M=p.ownerDocument.createElement("span");M.style.whiteSpace="pre",M.appendChild(p),E.appendChild(M),p=M}var $=n.getFragment(),j=JSON.stringify($),V=window.btoa(encodeURIComponent(j));p.setAttribute("data-slate-fragment",V),f.setData("application/".concat(t),V);var x=E.ownerDocument.createElement("div");return x.appendChild(E),x.setAttribute("hidden","true"),E.ownerDocument.body.appendChild(x),f.setData("text/html",x.innerHTML),f.setData("text/plain",Mu(x)),E.ownerDocument.body.removeChild(x),f}}},n.insertData=f=>{n.insertFragmentData(f)||n.insertTextData(f)},n.insertFragmentData=f=>{var v=f.getData("application/".concat(t))||Ol(f);if(v){var D=decodeURIComponent(window.atob(v)),g=JSON.parse(D);return n.insertFragment(g),!0}return!1},n.insertTextData=f=>{var v=f.getData("text/plain");if(v){var D=v.split(/\r\n|\r|\n/),g=!1;for(var m of D)g&&b.splitNodes(n,{always:!0}),n.insertText(m),g=!0;return!0}return!1},n.onChange=f=>{var v=xu<18?_u.unstable_batchedUpdates:D=>D();v(()=>{var D=ht.get(n);D&&D(),a(f)})},n},Ir=(r,e)=>{var t=[];for(var[n,u]of s.levels(r,{at:e})){var a=F.findKey(r,n);t.push([u,a])}return t};const ir={isBoldMarkActive(r){const e=s.marks(r);return console.log(e,"marks"),e?e.bold===!0:!1},isCodeBlockActive(r){const[e]=s.nodes(r,{match:t=>t.type==="code"});return!!e},toggleBoldMark(r){ir.isBoldMarkActive(r)?s.removeMark(r,"bold"):s.addMark(r,"bold",!0)},toggleCodeBlock(r){const e=ir.isCodeBlockActive(r);b.setNodes(r,{type:e?null:"code"},{match:t=>z.isElement(t)&&s.isBlock(r,t)})}},Mf=[{type:"paragraph",children:[{text:""}]}],If=()=>{const[r]=T.useState(()=>jf(Os())),[e,t]=T.useState("标题");console.log(e,"title");const n=T.useCallback(i=>{switch(i.element.type){case"code":return he.jsx(kf,{...i});default:return he.jsx(Lf,{...i})}},[]),u=T.useCallback(i=>he.jsx($f,{...i}),[]),a=i=>{t(i.target.innerText)};return he.jsxs("div",{className:"editor",children:[he.jsx("h2",{children:he.jsx("div",{className:"title",contentEditable:!0,onInput:a,suppressContentEditableWarning:!0,children:"标题"})}),he.jsxs(Rf,{editor:r,initialValue:Mf,children:[he.jsxs("div",{children:[he.jsx("button",{onMouseDown:i=>{i.preventDefault(),ir.toggleBoldMark(r)},children:"Bold"}),he.jsx("button",{onMouseDown:i=>{i.preventDefault(),ir.toggleCodeBlock(r)},children:"Code Block"})]}),he.jsx(Ff,{className:"editable",renderElement:n,renderLeaf:u,onKeyDown:i=>{if(i.key==="Tab"&&(i.preventDefault(),r.insertText("	")),!!i.ctrlKey)switch(i.key){case"`":{i.preventDefault(),ir.toggleCodeBlock(r);break}case"b":{i.preventDefault(),ir.toggleBoldMark(r);break}}}})]})]})},kf=r=>he.jsx("pre",{...r.attributes,className:"code-line",children:he.jsx("code",{children:r.children})}),Lf=r=>he.jsx("p",{...r.attributes,children:r.children}),$f=r=>he.jsx("span",{...r.attributes,style:{fontWeight:r.leaf.bold?"bold":"normal"},children:r.children});function Vf(){return he.jsx("div",{className:"write-page",children:he.jsx(If,{})})}export{Vf as Page};
