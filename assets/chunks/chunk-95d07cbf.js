import{g as lt,c as zr,R as J,r as x,j as Ce}from"./chunk-9a4f56c2.js";import{l as pe,u as xs,b as Ss,D as Ps}from"./chunk-ea45e243.js";import{R as Ts}from"./chunk-3c9561d0.js";var $s=Ns,gu="֑-߿יִ-﷽ﹰ-ﻼ",Du="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",js=new RegExp("^[^"+Du+"]*["+gu+"]"),Rs=new RegExp("^[^"+gu+"]*["+Du+"]");function Ns(e){return e=String(e||""),js.test(e)?"rtl":Rs.test(e)?"ltr":"neutral"}const Cu=lt($s);function Is(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Xe=Is,Ms=typeof zr=="object"&&zr&&zr.Object===Object&&zr,pu=Ms,Ls=pu,ks=typeof self=="object"&&self&&self.Object===Object&&self,Ws=Ls||ks||Function("return this")(),Me=Ws,zs=Me,Vs=function(){return zs.Date.now()},Ks=Vs,Hs=/\s/;function qs(e){for(var r=e.length;r--&&Hs.test(e.charAt(r)););return r}var Us=qs,Gs=Us,Ys=/^\s+/;function Js(e){return e&&e.slice(0,Gs(e)+1).replace(Ys,"")}var Xs=Js,_s=Me,Zs=_s.Symbol,_t=Zs,xn=_t,mu=Object.prototype,Qs=mu.hasOwnProperty,ei=mu.toString,br=xn?xn.toStringTag:void 0;function ri(e){var r=Qs.call(e,br),t=e[br];try{e[br]=void 0;var n=!0}catch{}var a=ei.call(e);return n&&(r?e[br]=t:delete e[br]),a}var ti=ri,ni=Object.prototype,ai=ni.toString;function ui(e){return ai.call(e)}var si=ui,Sn=_t,ii=ti,oi=si,li="[object Null]",fi="[object Undefined]",Pn=Sn?Sn.toStringTag:void 0;function ci(e){return e==null?e===void 0?fi:li:Pn&&Pn in Object(e)?ii(e):oi(e)}var Lr=ci;function vi(e){return e!=null&&typeof e=="object"}var gr=vi,di=Lr,hi=gr,gi="[object Symbol]";function Di(e){return typeof e=="symbol"||hi(e)&&di(e)==gi}var Ci=Di,pi=Xs,Tn=Xe,mi=Ci,$n=0/0,Bi=/^[-+]0x[0-9a-f]+$/i,Ei=/^0b[01]+$/i,Ai=/^0o[0-7]+$/i,bi=parseInt;function Fi(e){if(typeof e=="number")return e;if(mi(e))return $n;if(Tn(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Tn(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=pi(e);var t=Ei.test(e);return t||Ai.test(e)?bi(e.slice(2),t?2:8):Bi.test(e)?$n:+e}var wi=Fi,yi=Xe,mt=Ks,jn=wi,Oi="Expected a function",xi=Math.max,Si=Math.min;function Pi(e,r,t){var n,a,u,s,i,f,c=0,v=!1,d=!1,D=!0;if(typeof e!="function")throw new TypeError(Oi);r=jn(r)||0,yi(t)&&(v=!!t.leading,d="maxWait"in t,u=d?xi(jn(t.maxWait)||0,r):u,D="trailing"in t?!!t.trailing:D);function p(k){var M=n,H=a;return n=a=void 0,c=k,s=e.apply(H,M),s}function h(k){return c=k,i=setTimeout(m,r),v?p(k):s}function l(k){var M=k-f,H=k-c,$=r-M;return d?Si($,u-H):$}function B(k){var M=k-f,H=k-c;return f===void 0||M>=r||M<0||d&&H>=u}function m(){var k=mt();if(B(k))return b(k);i=setTimeout(m,l(k))}function b(k){return i=void 0,D&&n?p(k):(n=a=void 0,s)}function y(){i!==void 0&&clearTimeout(i),c=0,n=f=a=i=void 0}function j(){return i===void 0?s:b(mt())}function L(){var k=mt(),M=B(k);if(n=arguments,a=this,f=k,M){if(i===void 0)return h(f);if(d)return clearTimeout(i),i=setTimeout(m,r),p(f)}return i===void 0&&(i=setTimeout(m,r)),s}return L.cancel=y,L.flush=j,L}var Bu=Pi;const Ti=lt(Bu);var $i=Bu,ji=Xe,Ri="Expected a function";function Ni(e,r,t){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Ri);return ji(t)&&(n="leading"in t?!!t.leading:n,a="trailing"in t?!!t.trailing:a),$i(e,r,{leading:n,maxWait:r,trailing:a})}var Ii=Ni;const Mi=lt(Ii);function Rn(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Nn(e,r){return(!r||e!=="hidden")&&e!=="visible"&&e!=="clip"}function Bt(e,r){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var t=getComputedStyle(e,null);return Nn(t.overflowY,r)||Nn(t.overflowX,r)||function(n){var a=function(u){if(!u.ownerDocument||!u.ownerDocument.defaultView)return null;try{return u.ownerDocument.defaultView.frameElement}catch{return null}}(n);return!!a&&(a.clientHeight<n.scrollHeight||a.clientWidth<n.scrollWidth)}(e)}return!1}function Vr(e,r,t,n,a,u,s,i){return u<e&&s>r||u>e&&s<r?0:u<=e&&i<=t||s>=r&&i>=t?u-e-n:s>r&&i<t||u<e&&i>t?s-r+a:0}var In=function(e,r){var t=window,n=r.scrollMode,a=r.block,u=r.inline,s=r.boundary,i=r.skipOverflowHiddenElements,f=typeof s=="function"?s:function(re){return re!==s};if(!Rn(e))throw new TypeError("Invalid target");for(var c,v,d=document.scrollingElement||document.documentElement,D=[],p=e;Rn(p)&&f(p);){if((p=(v=(c=p).parentElement)==null?c.getRootNode().host||null:v)===d){D.push(p);break}p!=null&&p===document.body&&Bt(p)&&!Bt(document.documentElement)||p!=null&&Bt(p,i)&&D.push(p)}for(var h=t.visualViewport?t.visualViewport.width:innerWidth,l=t.visualViewport?t.visualViewport.height:innerHeight,B=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),y=b.height,j=b.width,L=b.top,k=b.right,M=b.bottom,H=b.left,$=a==="start"||a==="nearest"?L:a==="end"?M:L+y/2,W=u==="center"?H+j/2:u==="end"?k:H,U=[],A=0;A<D.length;A++){var S=D[A],T=S.getBoundingClientRect(),P=T.height,K=T.width,Z=T.top,se=T.right,Y=T.bottom,ee=T.left;if(n==="if-needed"&&L>=0&&H>=0&&M<=l&&k<=h&&L>=Z&&M<=Y&&H>=ee&&k<=se)return U;var ve=getComputedStyle(S),ue=parseInt(ve.borderLeftWidth,10),be=parseInt(ve.borderTopWidth,10),C=parseInt(ve.borderRightWidth,10),N=parseInt(ve.borderBottomWidth,10),w=0,I=0,X="offsetWidth"in S?S.offsetWidth-S.clientWidth-ue-C:0,q="offsetHeight"in S?S.offsetHeight-S.clientHeight-be-N:0,Q="offsetWidth"in S?S.offsetWidth===0?0:K/S.offsetWidth:0,ae="offsetHeight"in S?S.offsetHeight===0?0:P/S.offsetHeight:0;if(d===S)w=a==="start"?$:a==="end"?$-l:a==="nearest"?Vr(m,m+l,l,be,N,m+$,m+$+y,y):$-l/2,I=u==="start"?W:u==="center"?W-h/2:u==="end"?W-h:Vr(B,B+h,h,ue,C,B+W,B+W+j,j),w=Math.max(0,w+m),I=Math.max(0,I+B);else{w=a==="start"?$-Z-be:a==="end"?$-Y+N+q:a==="nearest"?Vr(Z,Y,P,be,N+q,$,$+y,y):$-(Z+P/2)+q/2,I=u==="start"?W-ee-ue:u==="center"?W-(ee+K/2)+X/2:u==="end"?W-se+C+X:Vr(ee,se,K,ue,C+X,W,W+j,j);var ne=S.scrollLeft,de=S.scrollTop;$+=de-(w=Math.max(0,Math.min(de+w/ae,S.scrollHeight-P/ae+q))),W+=ne-(I=Math.max(0,Math.min(ne+I/Q,S.scrollWidth-K/Q+X)))}U.push({el:S,top:w,left:I})}return U};function Eu(e){return e===Object(e)&&Object.keys(e).length!==0}function Li(e,r){r===void 0&&(r="auto");var t="scrollBehavior"in document.body.style;e.forEach(function(n){var a=n.el,u=n.top,s=n.left;a.scroll&&t?a.scroll({top:u,left:s,behavior:r}):(a.scrollTop=u,a.scrollLeft=s)})}function ki(e){return e===!1?{block:"end",inline:"nearest"}:Eu(e)?e:{block:"start",inline:"nearest"}}function Wi(e,r){var t=e.isConnected||e.ownerDocument.documentElement.contains(e);if(Eu(r)&&typeof r.behavior=="function")return r.behavior(t?In(e,r):[]);if(t){var n=ki(r);return Li(In(e,n),n.behavior)}}function Ne(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ir(e){return!!e&&!!e[xe]}function or(e){var r;return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var a=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===Yi}(e)||Array.isArray(e)||!!e[Hn]||!!(!((r=e.constructor)===null||r===void 0)&&r[Hn])||Zt(e)||Qt(e))}function jr(e,r,t){t===void 0&&(t=!1),Dr(e)===0?(t?Object.keys:an)(e).forEach(function(n){t&&typeof n=="symbol"||r(n,e[n],e)}):e.forEach(function(n,a){return r(a,n,e)})}function Dr(e){var r=e[xe];return r?r.i>3?r.i-4:r.i:Array.isArray(e)?1:Zt(e)?2:Qt(e)?3:0}function jt(e,r){return Dr(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function zi(e,r){return Dr(e)===2?e.get(r):e[r]}function Au(e,r,t){var n=Dr(e);n===2?e.set(r,t):n===3?e.add(t):e[r]=t}function Vi(e,r){return e===r?e!==0||1/e==1/r:e!=e&&r!=r}function Zt(e){return Ui&&e instanceof Map}function Qt(e){return Gi&&e instanceof Set}function er(e){return e.o||e.t}function en(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var r=Ji(e);delete r[xe];for(var t=an(r),n=0;n<t.length;n++){var a=t[n],u=r[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),r)}function rn(e,r){return r===void 0&&(r=!1),tn(e)||ir(e)||!or(e)||(Dr(e)>1&&(e.set=e.add=e.clear=e.delete=Ki),Object.freeze(e),r&&jr(e,function(t,n){return rn(n,!0)},!0)),e}function Ki(){Ne(2)}function tn(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function ze(e){var r=Xi[e];return r||Ne(18,e),r}function Mn(){return Rr}function Et(e,r){r&&(ze("Patches"),e.u=[],e.s=[],e.v=r)}function rt(e){Rt(e),e.p.forEach(Hi),e.p=null}function Rt(e){e===Rr&&(Rr=e.l)}function Ln(e){return Rr={p:[],l:Rr,h:e,m:!0,_:0}}function Hi(e){var r=e[xe];r.i===0||r.i===1?r.j():r.g=!0}function At(e,r){r._=r.p.length;var t=r.p[0],n=e!==void 0&&e!==t;return r.h.O||ze("ES5").S(r,e,n),n?(t[xe].P&&(rt(r),Ne(4)),or(e)&&(e=tt(r,e),r.l||nt(r,e)),r.u&&ze("Patches").M(t[xe].t,e,r.u,r.s)):e=tt(r,t,[]),rt(r),r.u&&r.v(r.u,r.s),e!==bu?e:void 0}function tt(e,r,t){if(tn(r))return r;var n=r[xe];if(!n)return jr(r,function(i,f){return kn(e,n,r,i,f,t)},!0),r;if(n.A!==e)return r;if(!n.P)return nt(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=n.i===4||n.i===5?n.o=en(n.k):n.o,u=a,s=!1;n.i===3&&(u=new Set(a),a.clear(),s=!0),jr(u,function(i,f){return kn(e,n,a,i,f,t,s)}),nt(e,a,!1),t&&e.u&&ze("Patches").N(n,t,e.u,e.s)}return n.o}function kn(e,r,t,n,a,u,s){if(ir(a)){var i=tt(e,a,u&&r&&r.i!==3&&!jt(r.R,n)?u.concat(n):void 0);if(Au(t,n,i),!ir(i))return;e.m=!1}else s&&t.add(a);if(or(a)&&!tn(a)){if(!e.h.D&&e._<1)return;tt(e,a),r&&r.A.l||nt(e,a)}}function nt(e,r,t){t===void 0&&(t=!1),!e.l&&e.h.D&&e.m&&rn(r,t)}function bt(e,r){var t=e[xe];return(t?er(t):e)[r]}function Wn(e,r){if(r in e)for(var t=Object.getPrototypeOf(e);t;){var n=Object.getOwnPropertyDescriptor(t,r);if(n)return n;t=Object.getPrototypeOf(t)}}function Nt(e){e.P||(e.P=!0,e.l&&Nt(e.l))}function Ft(e){e.o||(e.o=en(e.t))}function It(e,r,t){var n=Zt(r)?ze("MapSet").F(r,t):Qt(r)?ze("MapSet").T(r,t):e.O?function(a,u){var s=Array.isArray(a),i={i:s?1:0,A:u?u.A:Mn(),P:!1,I:!1,R:{},l:u,t:a,k:null,o:null,j:null,C:!1},f=i,c=Mt;s&&(f=[i],c=wr);var v=Proxy.revocable(f,c),d=v.revoke,D=v.proxy;return i.k=D,i.j=d,D}(r,t):ze("ES5").J(r,t);return(t?t.A:Mn()).p.push(n),n}function qi(e){return ir(e)||Ne(22,e),function r(t){if(!or(t))return t;var n,a=t[xe],u=Dr(t);if(a){if(!a.P&&(a.i<4||!ze("ES5").K(a)))return a.t;a.I=!0,n=zn(t,u),a.I=!1}else n=zn(t,u);return jr(n,function(s,i){a&&zi(a.t,s)===i||Au(n,s,r(i))}),u===3?new Set(n):n}(e)}function zn(e,r){switch(r){case 2:return new Map(e);case 3:return Array.from(e)}return en(e)}var Vn,Rr,nn=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ui=typeof Map<"u",Gi=typeof Set<"u",Kn=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",bu=nn?Symbol.for("immer-nothing"):((Vn={})["immer-nothing"]=!0,Vn),Hn=nn?Symbol.for("immer-draftable"):"__$immer_draftable",xe=nn?Symbol.for("immer-state"):"__$immer_state",Yi=""+Object.prototype.constructor,an=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ji=Object.getOwnPropertyDescriptors||function(e){var r={};return an(e).forEach(function(t){r[t]=Object.getOwnPropertyDescriptor(e,t)}),r},Xi={},Mt={get:function(e,r){if(r===xe)return e;var t=er(e);if(!jt(t,r))return function(a,u,s){var i,f=Wn(u,s);return f?"value"in f?f.value:(i=f.get)===null||i===void 0?void 0:i.call(a.k):void 0}(e,t,r);var n=t[r];return e.I||!or(n)?n:n===bt(e.t,r)?(Ft(e),e.o[r]=It(e.A.h,n,e)):n},has:function(e,r){return r in er(e)},ownKeys:function(e){return Reflect.ownKeys(er(e))},set:function(e,r,t){var n=Wn(er(e),r);if(n!=null&&n.set)return n.set.call(e.k,t),!0;if(!e.P){var a=bt(er(e),r),u=a==null?void 0:a[xe];if(u&&u.t===t)return e.o[r]=t,e.R[r]=!1,!0;if(Vi(t,a)&&(t!==void 0||jt(e.t,r)))return!0;Ft(e),Nt(e)}return e.o[r]===t&&(t!==void 0||r in e.o)||Number.isNaN(t)&&Number.isNaN(e.o[r])||(e.o[r]=t,e.R[r]=!0),!0},deleteProperty:function(e,r){return bt(e.t,r)!==void 0||r in e.t?(e.R[r]=!1,Ft(e),Nt(e)):delete e.R[r],e.o&&delete e.o[r],!0},getOwnPropertyDescriptor:function(e,r){var t=er(e),n=Reflect.getOwnPropertyDescriptor(t,r);return n&&{writable:!0,configurable:e.i!==1||r!=="length",enumerable:n.enumerable,value:t[r]}},defineProperty:function(){Ne(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ne(12)}},wr={};jr(Mt,function(e,r){wr[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}}),wr.deleteProperty=function(e,r){return wr.set.call(this,e,r,void 0)},wr.set=function(e,r,t){return Mt.set.call(this,e[0],r,t,e[0])};var _i=function(){function e(t){var n=this;this.O=Kn,this.D=!0,this.produce=function(a,u,s){if(typeof a=="function"&&typeof u!="function"){var i=u;u=a;var f=n;return function(l){var B=this;l===void 0&&(l=i);for(var m=arguments.length,b=Array(m>1?m-1:0),y=1;y<m;y++)b[y-1]=arguments[y];return f.produce(l,function(j){var L;return(L=u).call.apply(L,[B,j].concat(b))})}}var c;if(typeof u!="function"&&Ne(6),s!==void 0&&typeof s!="function"&&Ne(7),or(a)){var v=Ln(n),d=It(n,a,void 0),D=!0;try{c=u(d),D=!1}finally{D?rt(v):Rt(v)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(l){return Et(v,s),At(l,v)},function(l){throw rt(v),l}):(Et(v,s),At(c,v))}if(!a||typeof a!="object"){if((c=u(a))===void 0&&(c=a),c===bu&&(c=void 0),n.D&&rn(c,!0),s){var p=[],h=[];ze("Patches").M(a,c,p,h),s(p,h)}return c}Ne(21,a)},this.produceWithPatches=function(a,u){if(typeof a=="function")return function(c){for(var v=arguments.length,d=Array(v>1?v-1:0),D=1;D<v;D++)d[D-1]=arguments[D];return n.produceWithPatches(c,function(p){return a.apply(void 0,[p].concat(d))})};var s,i,f=n.produce(a,u,function(c,v){s=c,i=v});return typeof Promise<"u"&&f instanceof Promise?f.then(function(c){return[c,s,i]}):[f,s,i]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var r=e.prototype;return r.createDraft=function(t){or(t)||Ne(8),ir(t)&&(t=qi(t));var n=Ln(this),a=It(this,t,void 0);return a[xe].C=!0,Rt(n),a},r.finishDraft=function(t,n){var a=t&&t[xe],u=a.A;return Et(u,n),At(void 0,u)},r.setAutoFreeze=function(t){this.D=t},r.setUseProxies=function(t){t&&!Kn&&Ne(20),this.O=t},r.applyPatches=function(t,n){var a;for(a=n.length-1;a>=0;a--){var u=n[a];if(u.path.length===0&&u.op==="replace"){t=u.value;break}}a>-1&&(n=n.slice(a+1));var s=ze("Patches").$;return ir(t)?s(t,n):this.produce(t,function(i){return s(i,n)})},e}(),Se=new _i,un=Se.produce;Se.produceWithPatches.bind(Se);Se.setAutoFreeze.bind(Se);Se.setUseProxies.bind(Se);Se.applyPatches.bind(Se);var qn=Se.createDraft.bind(Se),Un=Se.finishDraft.bind(Se),Zi={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=g.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},Qi={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=_.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},eo={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=E.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},at=new WeakMap,ut=new WeakMap,Sr=new WeakMap,Fu=new WeakMap,Gn=new WeakMap,Yn=new WeakMap,Jn=new WeakMap,g={ancestors(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,n=g.levels(e,r);return t?n=n.slice(1):n=n.slice(0,-1),n},common(e,r){for(var t=[],n=0;n<e.length&&n<r.length;n++){var a=e[n],u=r[n];if(a!==u)break;t.push(a)}return t},compare(e,r){for(var t=Math.min(e.length,r.length),n=0;n<t;n++){if(e[n]<r[n])return-1;if(e[n]>r[n])return 1}return 0},endsAfter(e,r){var t=e.length-1,n=e.slice(0,t),a=r.slice(0,t),u=e[t],s=r[t];return g.equals(n,a)&&u>s},endsAt(e,r){var t=e.length,n=e.slice(0,t),a=r.slice(0,t);return g.equals(n,a)},endsBefore(e,r){var t=e.length-1,n=e.slice(0,t),a=r.slice(0,t),u=e[t],s=r[t];return g.equals(n,a)&&u<s},equals(e,r){return e.length===r.length&&e.every((t,n)=>t===r[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,r){return g.compare(e,r)===1},isAncestor(e,r){return e.length<r.length&&g.compare(e,r)===0},isBefore(e,r){return g.compare(e,r)===-1},isChild(e,r){return e.length===r.length+1&&g.compare(e,r)===0},isCommon(e,r){return e.length<=r.length&&g.compare(e,r)===0},isDescendant(e,r){return e.length>r.length&&g.compare(e,r)===0},isParent(e,r){return e.length+1===r.length&&g.compare(e,r)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,r){if(e.length!==r.length)return!1;var t=e.slice(0,-1),n=r.slice(0,-1),a=e[e.length-1],u=r[r.length-1];return a!==u&&g.equals(t,n)},levels(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,n=[],a=0;a<=e.length;a++)n.push(e.slice(0,a));return t&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var r=e[e.length-1];return e.slice(0,-1).concat(r+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var r=e[e.length-1];if(r<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(r-1)},relative(e,r){if(!g.isAncestor(r,e)&&!g.equals(e,r))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(r,"], because it is not above or equal to the path."));return e.slice(r.length)},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:a="forward"}=t;if(e.length===0)return n;switch(r.type){case"insert_node":{var{path:u}=r;(g.equals(u,n)||g.endsBefore(u,n)||g.isAncestor(u,n))&&(n[u.length-1]+=1);break}case"remove_node":{var{path:s}=r;if(g.equals(s,n)||g.isAncestor(s,n))return null;g.endsBefore(s,n)&&(n[s.length-1]-=1);break}case"merge_node":{var{path:i,position:f}=r;g.equals(i,n)||g.endsBefore(i,n)?n[i.length-1]-=1:g.isAncestor(i,n)&&(n[i.length-1]-=1,n[i.length]+=f);break}case"split_node":{var{path:c,position:v}=r;if(g.equals(c,n)){if(a==="forward")n[n.length-1]+=1;else if(a!=="backward")return null}else g.endsBefore(c,n)?n[c.length-1]+=1:g.isAncestor(c,n)&&e[c.length]>=v&&(n[c.length-1]+=1,n[c.length]-=v);break}case"move_node":{var{path:d,newPath:D}=r;if(g.equals(d,D))return n;if(g.isAncestor(d,n)||g.equals(d,n)){var p=D.slice();return g.endsBefore(d,D)&&d.length<D.length&&(p[d.length-1]-=1),p.concat(n.slice(d.length))}else g.isSibling(d,D)&&(g.isAncestor(D,n)||g.equals(D,n))?g.endsBefore(d,n)?n[d.length-1]-=1:n[d.length-1]+=1:g.endsBefore(D,n)||g.equals(D,n)||g.isAncestor(D,n)?(g.endsBefore(d,n)&&(n[d.length-1]-=1),n[D.length-1]+=1):g.endsBefore(d,n)&&(g.equals(D,n)&&(n[D.length-1]+=1),n[d.length-1]-=1);break}}return n}};function Ae(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Xn(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Fr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Xn(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xn(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var ro=(e,r,t)=>{switch(t.type){case"insert_node":{var{path:n,node:a}=t,u=R.parent(e,n),s=n[n.length-1];if(s>u.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(u.children.splice(s,0,a),r)for(var[i,f]of E.points(r))r[f]=_.transform(i,t);break}case"insert_text":{var{path:c,offset:v,text:d}=t;if(d.length===0)break;var D=R.leaf(e,c),p=D.text.slice(0,v),h=D.text.slice(v);if(D.text=p+d+h,r)for(var[l,B]of E.points(r))r[B]=_.transform(l,t);break}case"merge_node":{var{path:m}=t,b=R.get(e,m),y=g.previous(m),j=R.get(e,y),L=R.parent(e,m),k=m[m.length-1];if(V.isText(b)&&V.isText(j))j.text+=b.text;else if(!V.isText(b)&&!V.isText(j))j.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interfaces: ").concat(De.stringify(b)," ").concat(De.stringify(j)));if(L.children.splice(k,1),r)for(var[M,H]of E.points(r))r[H]=_.transform(M,t);break}case"move_node":{var{path:$,newPath:W}=t;if(g.isAncestor($,W))throw new Error("Cannot move a path [".concat($,"] to new path [").concat(W,"] because the destination is inside itself."));var U=R.get(e,$),A=R.parent(e,$),S=$[$.length-1];A.children.splice(S,1);var T=g.transform($,t),P=R.get(e,g.parent(T)),K=T[T.length-1];if(P.children.splice(K,0,U),r)for(var[Z,se]of E.points(r))r[se]=_.transform(Z,t);break}case"remove_node":{var{path:Y}=t,ee=Y[Y.length-1],ve=R.parent(e,Y);if(ve.children.splice(ee,1),r)for(var[ue,be]of E.points(r)){var C=_.transform(ue,t);if(r!=null&&C!=null)r[be]=C;else{var N=void 0,w=void 0;for(var[I,X]of R.texts(e))if(g.compare(X,Y)===-1)N=[I,X];else{w=[I,X];break}var q=!1;N&&w&&(g.equals(w[1],Y)?q=!g.hasPrevious(w[1]):q=g.common(N[1],Y).length<g.common(w[1],Y).length),N&&!q?(ue.path=N[1],ue.offset=N[0].text.length):w?(ue.path=w[1],ue.offset=0):r=null}}break}case"remove_text":{var{path:Q,offset:ae,text:ne}=t;if(ne.length===0)break;var de=R.leaf(e,Q),re=de.text.slice(0,ae),me=de.text.slice(ae+ne.length);if(de.text=re+me,r)for(var[Be,ge]of E.points(r))r[ge]=_.transform(Be,t);break}case"set_node":{var{path:Te,properties:Le,newProperties:Fe}=t;if(Te.length===0)throw new Error("Cannot set properties on the root node!");var $e=R.get(e,Te);for(var le in Fe){if(le==="children"||le==="text")throw new Error('Cannot set the "'.concat(le,'" property of nodes!'));var Oe=Fe[le];Oe==null?delete $e[le]:$e[le]=Oe}for(var ke in Le)Fe.hasOwnProperty(ke)||delete $e[ke];break}case"set_selection":{var{newProperties:te}=t;if(te==null)r=te;else{if(r==null){if(!E.isRange(te))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(De.stringify(te)," when there is no current selection."));r=Fr({},te)}for(var je in te){var kr=te[je];if(kr==null){if(je==="anchor"||je==="focus")throw new Error('Cannot remove the "'.concat(je,'" selection property'));delete r[je]}else r[je]=kr}}break}case"split_node":{var{path:Re,position:Ze,properties:Wr}=t;if(Re.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Re,"] because the root node cannot be split."));var Qe=R.get(e,Re),Bs=R.parent(e,Re),Es=Re[Re.length-1],pt;if(V.isText(Qe)){var As=Qe.text.slice(0,Ze),bs=Qe.text.slice(Ze);Qe.text=As,pt=Fr(Fr({},Wr),{},{text:bs})}else{var Fs=Qe.children.slice(0,Ze),ws=Qe.children.slice(Ze);Qe.children=Fs,pt=Fr(Fr({},Wr),{},{children:ws})}if(Bs.children.splice(Es+1,0,pt),r)for(var[ys,Os]of E.points(r))r[Os]=_.transform(ys,t);break}}return r},to={transform(e,r){e.children=qn(e.children);var t=e.selection&&qn(e.selection);try{t=ro(e,t,r)}finally{e.children=Un(e.children),t?e.selection=ir(t)?Un(t):t:e.selection=null}}},no={insertNodes(e,r,t){e.insertNodes(r,t)},liftNodes(e,r){e.liftNodes(r)},mergeNodes(e,r){e.mergeNodes(r)},moveNodes(e,r){e.moveNodes(r)},removeNodes(e,r){e.removeNodes(r)},setNodes(e,r,t){e.setNodes(r,t)},splitNodes(e,r){e.splitNodes(r)},unsetNodes(e,r,t){e.unsetNodes(r,t)},unwrapNodes(e,r){e.unwrapNodes(r)},wrapNodes(e,r,t){e.wrapNodes(r,t)}},ao={collapse(e,r){e.collapse(r)},deselect(e){e.deselect()},move(e,r){e.move(r)},select(e,r){e.select(r)},setPoint(e,r,t){e.setPoint(r,t)},setSelection(e,r){e.setSelection(r)}},wu=(e,r)=>{for(var t in e){var n=e[t],a=r[t];if(pe(n)&&pe(a)){if(!wu(n,a))return!1}else if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!1;for(var u=0;u<n.length;u++)if(n[u]!==a[u])return!1}else if(n!==a)return!1}for(var s in r)if(e[s]===void 0&&r[s]!==void 0)return!1;return!0};function uo(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function He(e,r){if(e==null)return{};var t=uo(e,r),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var so=["anchor","focus"];function _n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function io(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_n(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_n(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var E={edges(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,{anchor:n,focus:a}=e;return E.isBackward(e)===t?[n,a]:[a,n]},end(e){var[,r]=E.edges(e);return r},equals(e,r){return _.equals(e.anchor,r.anchor)&&_.equals(e.focus,r.focus)},includes(e,r){if(E.isRange(r)){if(E.includes(e,r.anchor)||E.includes(e,r.focus))return!0;var[t,n]=E.edges(e),[a,u]=E.edges(r);return _.isBefore(t,a)&&_.isAfter(n,u)}var[s,i]=E.edges(e),f=!1,c=!1;return _.isPoint(r)?(f=_.compare(r,s)>=0,c=_.compare(r,i)<=0):(f=g.compare(r,s.path)>=0,c=g.compare(r,i.path)<=0),f&&c},intersection(e,r){var t=He(e,so),[n,a]=E.edges(e),[u,s]=E.edges(r),i=_.isBefore(n,u)?u:n,f=_.isBefore(a,s)?a:s;return _.isBefore(f,i)?null:io({anchor:i,focus:f},t)},isBackward(e){var{anchor:r,focus:t}=e;return _.isAfter(r,t)},isCollapsed(e){var{anchor:r,focus:t}=e;return _.equals(r,t)},isExpanded(e){return!E.isCollapsed(e)},isForward(e){return!E.isBackward(e)},isRange(e){return pe(e)&&_.isPoint(e.anchor)&&_.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[r]=E.edges(e);return r},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return un(e,n=>{if(n===null)return null;var{affinity:a="inward"}=t,u,s;if(a==="inward"){var i=E.isCollapsed(n);E.isForward(n)?(u="forward",s=i?u:"backward"):(u="backward",s=i?u:"forward")}else a==="outward"?E.isForward(n)?(u="backward",s="forward"):(u="forward",s="backward"):(u=a,s=a);var f=_.transform(n.anchor,r,{affinity:u}),c=_.transform(n.focus,r,{affinity:s});if(!f||!c)return null;n.anchor=f,n.focus=c})}},Zn=e=>pe(e)&&R.isNodeList(e.children)&&!o.isEditor(e),z={isAncestor(e){return pe(e)&&R.isNodeList(e.children)},isElement:Zn,isElementList(e){return Array.isArray(e)&&e.every(r=>z.isElement(r))},isElementProps(e){return e.children!==void 0},isElementType:function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Zn(r)&&r[n]===t},matches(e,r){for(var t in r)if(t!=="children"&&e[t]!==r[t])return!1;return!0}},oo=["children"],lo=["text"],Qn=new WeakMap,R={ancestor(e,r){var t=R.get(e,r);if(V.isText(t))throw new Error("Cannot get the ancestor node at path [".concat(r,"] because it refers to a text node instead: ").concat(De.stringify(t)));return t},*ancestors(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of g.ancestors(r,t)){var a=R.ancestor(e,n),u=[a,n];yield u}},child(e,r){if(V.isText(e))throw new Error("Cannot get the child of a text node: ".concat(De.stringify(e)));var t=e.children[r];if(t==null)throw new Error("Cannot get child at index `".concat(r,"` in node: ").concat(De.stringify(e)));return t},*children(e,r){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:n=!1}=t,a=R.ancestor(e,r),{children:u}=a,s=n?u.length-1:0;n?s>=0:s<u.length;){var i=R.child(a,s),f=r.concat(s);yield[i,f],s=n?s-1:s+1}},common(e,r,t){var n=g.common(r,t),a=R.get(e,n);return[a,n]},descendant(e,r){var t=R.get(e,r);if(o.isEditor(t))throw new Error("Cannot get the descendant node at path [".concat(r,"] because it refers to the root editor node instead: ").concat(De.stringify(t)));return t},*descendants(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of R.nodes(e,r))n.length!==0&&(yield[t,n])},*elements(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of R.nodes(e,r))z.isElement(t)&&(yield[t,n])},extractProps(e){if(z.isAncestor(e)){var r=He(e,oo);return r}else{var r=He(e,lo);return r}},first(e,r){for(var t=r.slice(),n=R.get(e,t);n&&!(V.isText(n)||n.children.length===0);)n=n.children[0],t.push(0);return[n,t]},fragment(e,r){if(V.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(De.stringify(e)));var t=un({children:e.children},n=>{var[a,u]=E.edges(r),s=R.nodes(n,{reverse:!0,pass:D=>{var[,p]=D;return!E.includes(r,p)}});for(var[,i]of s){if(!E.includes(r,i)){var f=R.parent(n,i),c=i[i.length-1];f.children.splice(c,1)}if(g.equals(i,u.path)){var v=R.leaf(n,i);v.text=v.text.slice(0,u.offset)}if(g.equals(i,a.path)){var d=R.leaf(n,i);d.text=d.text.slice(a.offset)}}o.isEditor(n)&&(n.selection=null)});return t.children},get(e,r){for(var t=e,n=0;n<r.length;n++){var a=r[n];if(V.isText(t)||!t.children[a])throw new Error("Cannot find a descendant at path [".concat(r,"] in node: ").concat(De.stringify(e)));t=t.children[a]}return t},has(e,r){for(var t=e,n=0;n<r.length;n++){var a=r[n];if(V.isText(t)||!t.children[a])return!1;t=t.children[a]}return!0},isNode(e){return V.isText(e)||z.isElement(e)||o.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var r=Qn.get(e);if(r!==void 0)return r;var t=e.every(n=>R.isNode(n));return Qn.set(e,t),t},last(e,r){for(var t=r.slice(),n=R.get(e,t);n&&!(V.isText(n)||n.children.length===0);){var a=n.children.length-1;n=n.children[a],t.push(a)}return[n,t]},leaf(e,r){var t=R.get(e,r);if(!V.isText(t))throw new Error("Cannot get the leaf node at path [".concat(r,"] because it refers to a non-leaf node: ").concat(De.stringify(t)));return t},*levels(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var n of g.levels(r,t)){var a=R.get(e,n);yield[a,n]}},matches(e,r){return z.isElement(e)&&z.isElementProps(r)&&z.matches(e,r)||V.isText(e)&&V.isTextProps(r)&&V.matches(e,r)},*nodes(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:t,reverse:n=!1}=r,{from:a=[],to:u}=r,s=new Set,i=[],f=e;!(u&&(n?g.isBefore(i,u):g.isAfter(i,u)));){if(s.has(f)||(yield[f,i]),!s.has(f)&&!V.isText(f)&&f.children.length!==0&&(t==null||t([f,i])===!1)){s.add(f);var c=n?f.children.length-1:0;g.isAncestor(i,a)&&(c=a[i.length]),i=i.concat(c),f=R.get(e,i);continue}if(i.length===0)break;if(!n){var v=g.next(i);if(R.has(e,v)){i=v,f=R.get(e,i);continue}}if(n&&i[i.length-1]!==0){var d=g.previous(i);i=d,f=R.get(e,i);continue}i=g.parent(i),f=R.get(e,i),s.add(f)}},parent(e,r){var t=g.parent(r),n=R.get(e,t);if(V.isText(n))throw new Error("Cannot get the parent of path [".concat(r,"] because it does not exist in the root."));return n},string(e){return V.isText(e)?e.text:e.children.map(R.string).join("")},*texts(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[t,n]of R.nodes(e,r))V.isText(t)&&(yield[t,n])}};function ea(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function fe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ea(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ea(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var yr={isNodeOperation(e){return yr.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!pe(e))return!1;switch(e.type){case"insert_node":return g.isPath(e.path)&&R.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&g.isPath(e.path);case"merge_node":return typeof e.position=="number"&&g.isPath(e.path)&&pe(e.properties);case"move_node":return g.isPath(e.path)&&g.isPath(e.newPath);case"remove_node":return g.isPath(e.path)&&R.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&g.isPath(e.path);case"set_node":return g.isPath(e.path)&&pe(e.properties)&&pe(e.newProperties);case"set_selection":return e.properties===null&&E.isRange(e.newProperties)||e.newProperties===null&&E.isRange(e.properties)||pe(e.properties)&&pe(e.newProperties);case"split_node":return g.isPath(e.path)&&typeof e.position=="number"&&pe(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(r=>yr.isOperation(r))},isSelectionOperation(e){return yr.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return yr.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return fe(fe({},e),{},{type:"remove_node"});case"insert_text":return fe(fe({},e),{},{type:"remove_text"});case"merge_node":return fe(fe({},e),{},{type:"split_node",path:g.previous(e.path)});case"move_node":{var{newPath:r,path:t}=e;if(g.equals(r,t))return e;if(g.isSibling(t,r))return fe(fe({},e),{},{path:r,newPath:t});var n=g.transform(t,e),a=g.transform(g.next(t),e);return fe(fe({},e),{},{path:n,newPath:a})}case"remove_node":return fe(fe({},e),{},{type:"insert_node"});case"remove_text":return fe(fe({},e),{},{type:"insert_text"});case"set_node":{var{properties:u,newProperties:s}=e;return fe(fe({},e),{},{properties:s,newProperties:u})}case"set_selection":{var{properties:i,newProperties:f}=e;return i==null?fe(fe({},e),{},{properties:f,newProperties:null}):f==null?fe(fe({},e),{},{properties:null,newProperties:i}):fe(fe({},e),{},{properties:f,newProperties:i})}case"split_node":return fe(fe({},e),{},{type:"merge_node",path:g.next(e.path)})}}},ra=new WeakMap,fo=e=>{var r=ra.get(e);if(r!==void 0)return r;if(!pe(e))return!1;var t=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||pe(e.marks))&&(e.selection===null||E.isRange(e.selection))&&R.isNodeList(e.children)&&yr.isOperationList(e.operations);return ra.set(e,t),t},o={above(e,r){return e.above(r)},addMark(e,r,t){e.addMark(r,t)},after(e,r,t){return e.after(r,t)},before(e,r,t){return e.before(r,t)},deleteBackward(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=r;e.deleteBackward(t)},deleteForward(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=r;e.deleteForward(t)},deleteFragment(e,r){e.deleteFragment(r)},edges(e,r){return e.edges(r)},elementReadOnly(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(r)},end(e,r){return e.end(r)},first(e,r){return e.first(r)},fragment(e,r){return e.fragment(r)},hasBlocks(e,r){return e.hasBlocks(r)},hasInlines(e,r){return e.hasInlines(r)},hasPath(e,r){return e.hasPath(r)},hasTexts(e,r){return e.hasTexts(r)},insertBreak(e){e.insertBreak()},insertFragment(e,r,t){e.insertFragment(r,t)},insertNode(e,r){e.insertNode(r)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,r){e.insertText(r)},isBlock(e,r){return e.isBlock(r)},isEdge(e,r,t){return e.isEdge(r,t)},isEditor(e){return fo(e)},isElementReadOnly(e,r){return e.isElementReadOnly(r)},isEmpty(e,r){return e.isEmpty(r)},isEnd(e,r,t){return e.isEnd(r,t)},isInline(e,r){return e.isInline(r)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,r){return e.isSelectable(r)},isStart(e,r,t){return e.isStart(r,t)},isVoid(e,r){return e.isVoid(r)},last(e,r){return e.last(r)},leaf(e,r,t){return e.leaf(r,t)},levels(e,r){return e.levels(r)},marks(e){return e.getMarks()},next(e,r){return e.next(r)},node(e,r,t){return e.node(r,t)},nodes(e,r){return e.nodes(r)},normalize(e,r){e.normalize(r)},parent(e,r,t){return e.parent(r,t)},path(e,r,t){return e.path(r,t)},pathRef(e,r,t){return e.pathRef(r,t)},pathRefs(e){return e.pathRefs()},point(e,r,t){return e.point(r,t)},pointRef(e,r,t){return e.pointRef(r,t)},pointRefs(e){return e.pointRefs()},positions(e,r){return e.positions(r)},previous(e,r){return e.previous(r)},range(e,r,t){return e.range(r,t)},rangeRef(e,r,t){return e.rangeRef(r,t)},rangeRefs(e){return e.rangeRefs()},removeMark(e,r){e.removeMark(r)},setNormalizing(e,r){e.setNormalizing(r)},start(e,r){return e.start(r)},string(e,r,t){return e.string(r,t)},unhangRange(e,r,t){return e.unhangRange(r,t)},void(e,r){return e.void(r)},withoutNormalizing(e,r){e.withoutNormalizing(r)}},co={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(g.isPath)}};function ta(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function na(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ta(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ta(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var _={compare(e,r){var t=g.compare(e.path,r.path);return t===0?e.offset<r.offset?-1:e.offset>r.offset?1:0:t},isAfter(e,r){return _.compare(e,r)===1},isBefore(e,r){return _.compare(e,r)===-1},equals(e,r){return e.offset===r.offset&&g.equals(e.path,r.path)},isPoint(e){return pe(e)&&typeof e.offset=="number"&&g.isPath(e.path)},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return un(e,n=>{if(n===null)return null;var{affinity:a="forward"}=t,{path:u,offset:s}=n;switch(r.type){case"insert_node":case"move_node":{n.path=g.transform(u,r,t);break}case"insert_text":{g.equals(r.path,u)&&(r.offset<s||r.offset===s&&a==="forward")&&(n.offset+=r.text.length);break}case"merge_node":{g.equals(r.path,u)&&(n.offset+=r.position),n.path=g.transform(u,r,t);break}case"remove_text":{g.equals(r.path,u)&&r.offset<=s&&(n.offset-=Math.min(s-r.offset,r.text.length));break}case"remove_node":{if(g.equals(r.path,u)||g.isAncestor(r.path,u))return null;n.path=g.transform(u,r,t);break}case"split_node":{if(g.equals(r.path,u)){if(r.position===s&&a==null)return null;(r.position<s||r.position===s&&a==="forward")&&(n.offset-=r.position,n.path=g.transform(u,r,na(na({},t),{},{affinity:"forward"})))}else n.path=g.transform(u,r,t);break}}})}},aa=void 0,De={setScrubber(e){aa=e},stringify(e){return JSON.stringify(e,aa)}},vo=["text"],ho=["anchor","focus"];function ua(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ve(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ua(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ua(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var V={equals(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=t;function a(u){var s=He(u,vo);return s}return wu(n?a(e):e,n?a(r):r)},isText(e){return pe(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(r=>V.isText(r))},isTextProps(e){return e.text!==void 0},matches(e,r){for(var t in r)if(t!=="text"&&(!e.hasOwnProperty(t)||e[t]!==r[t]))return!1;return!0},decorations(e,r){var t=[Ve({},e)];for(var n of r){var a=He(n,ho),[u,s]=E.edges(n),i=[],f=0,c=u.offset,v=s.offset;for(var d of t){var{length:D}=d.text,p=f;if(f+=D,c<=p&&f<=v){Object.assign(d,a),i.push(d);continue}if(c!==v&&(c===f||v===p)||c>f||v<p||v===p&&p!==0){i.push(d);continue}var h=d,l=void 0,B=void 0;if(v<f){var m=v-p;B=Ve(Ve({},h),{},{text:h.text.slice(m)}),h=Ve(Ve({},h),{},{text:h.text.slice(0,m)})}if(c>p){var b=c-p;l=Ve(Ve({},h),{},{text:h.text.slice(0,b)}),h=Ve(Ve({},h),{},{text:h.text.slice(b)})}Object.assign(h,a),l&&i.push(l),i.push(h),B&&i.push(B)}t=i}return t}},sn=e=>e.selection?e.selection:e.children.length>0?o.end(e,[]):[0],Cr=(e,r)=>{var[t]=o.node(e,r);return n=>n===t},on=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!t,a=t?Bo(r):r,u=G.None,s=G.None,i=0,f=null,c=null;for(var v of a){var d=v.codePointAt(0);if(!d)break;var D=$o(v,d);if([u,s]=n?[s,D]:[D,u],cr(u,G.ZWJ)&&cr(s,G.ExtPict)&&(n?f=sa(r.substring(0,i)):f=sa(r.substring(0,r.length-i)),!f)||cr(u,G.RI)&&cr(s,G.RI)&&(c!==null?c=!c:n?c=!0:c=Mo(r.substring(0,r.length-i)),!c)||u!==G.None&&s!==G.None&&Ro(u,s))break;i+=v.length}return i||1},go=/\s/,Do=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Co=/['\u2018\u2019]/,po=function(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,a=!1;r.length>0;){var u=on(r,t),[s,i]=ln(r,u,t);if(mo(s,i,t))a=!0,n+=u;else if(!a)n+=u;else break;r=i}return n},ln=(e,r,t)=>{if(t){var n=e.length-r;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,r),e.slice(r)]},mo=function e(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(go.test(r))return!1;if(Co.test(r)){var a=on(t,n),[u,s]=ln(t,a,n);if(e(u,s,n))return!0}return!Do.test(r)},Bo=function*(r){for(var t=r.length-1,n=0;n<r.length;n++){var a=r.charAt(t-n);if(Ao(a.charCodeAt(0))){var u=r.charAt(t-n-1);if(Eo(u.charCodeAt(0))){yield u+a,n++;continue}}yield a}},Eo=e=>e>=55296&&e<=56319,Ao=e=>e>=56320&&e<=57343,G;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(G||(G={}));var bo=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Fo=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,wo=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,yo=/^[\u1100-\u115F\uA960-\uA97C]$/,Oo=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,xo=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,So=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Po=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,To=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,$o=(e,r)=>{var t=G.Any;return e.search(bo)!==-1&&(t|=G.Extend),r===8205&&(t|=G.ZWJ),r>=127462&&r<=127487&&(t|=G.RI),e.search(Fo)!==-1&&(t|=G.Prepend),e.search(wo)!==-1&&(t|=G.SpacingMark),e.search(yo)!==-1&&(t|=G.L),e.search(Oo)!==-1&&(t|=G.V),e.search(xo)!==-1&&(t|=G.T),e.search(So)!==-1&&(t|=G.LV),e.search(Po)!==-1&&(t|=G.LVT),e.search(To)!==-1&&(t|=G.ExtPict),t};function cr(e,r){return(e&r)!==0}var jo=[[G.L,G.L|G.V|G.LV|G.LVT],[G.LV|G.V,G.V|G.T],[G.LVT|G.T,G.T],[G.Any,G.Extend|G.ZWJ],[G.Any,G.SpacingMark],[G.Prepend,G.Any],[G.ZWJ,G.ExtPict],[G.RI,G.RI]];function Ro(e,r){return jo.findIndex(t=>cr(e,t[0])&&cr(r,t[1]))===-1}var No=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,sa=e=>e.search(No)!==-1,Io=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Mo=e=>{var r=e.match(Io);if(r===null)return!1;var t=r[0].length/2;return t%2===1},Lo={delete(e,r){e.delete(r)},insertFragment(e,r,t){e.insertFragment(r,t)},insertText(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o.withoutNormalizing(e,()=>{var{voids:n=!1}=t,{at:a=sn(e)}=t;if(g.isPath(a)&&(a=o.range(e,a)),E.isRange(a))if(E.isCollapsed(a))a=a.anchor;else{var u=E.end(a);if(!n&&o.void(e,{at:u}))return;var s=E.start(a),i=o.pointRef(e,s),f=o.pointRef(e,u);O.delete(e,{at:a,voids:n});var c=i.unref(),v=f.unref();a=c||v,O.setSelection(e,{anchor:a,focus:a})}if(!(!n&&o.void(e,{at:a})||o.elementReadOnly(e,{at:a}))){var{path:d,offset:D}=a;r.length>0&&e.apply({type:"insert_text",path:d,offset:D,text:r})}})}};function ia(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Kr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ia(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ia(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var O=Kr(Kr(Kr(Kr({},to),no),ao),Lo),ko=(e,r)=>{for(var t of o.pathRefs(e))Zi.transform(t,r);for(var n of o.pointRefs(e))Qi.transform(n,r);for(var a of o.rangeRefs(e))eo.transform(a,r);var u=at.get(e)||[],s=ut.get(e)||new Set,i,f,c=h=>{if(h){var l=h.join(",");f.has(l)||(f.add(l),i.push(h))}};if(g.operationCanTransformPath(r)){i=[],f=new Set;for(var v of u){var d=g.transform(v,r);c(d)}}else i=u,f=s;var D=e.getDirtyPaths(r);for(var p of D)c(p);at.set(e,i),ut.set(e,f),O.transform(e,r),e.operations.push(r),o.normalize(e,{operation:r}),r.type==="set_selection"&&(e.marks=null),Sr.get(e)||(Sr.set(e,!0),Promise.resolve().then(()=>{Sr.set(e,!1),e.onChange({operation:r}),e.operations=[]}))},Wo=(e,r)=>{switch(r.type){case"insert_text":case"remove_text":case"set_node":{var{path:t}=r;return g.levels(t)}case"insert_node":{var{node:n,path:a}=r,u=g.levels(a),s=V.isText(n)?[]:Array.from(R.nodes(n),W=>{var[,U]=W;return a.concat(U)});return[...u,...s]}case"merge_node":{var{path:i}=r,f=g.ancestors(i),c=g.previous(i);return[...f,c]}case"move_node":{var{path:v,newPath:d}=r;if(g.equals(v,d))return[];var D=[],p=[];for(var h of g.ancestors(v)){var l=g.transform(h,r);D.push(l)}for(var B of g.ancestors(d)){var m=g.transform(B,r);p.push(m)}var b=p[p.length-1],y=d[d.length-1],j=b.concat(y);return[...D,...p,j]}case"remove_node":{var{path:L}=r,k=g.ancestors(L);return[...k]}case"split_node":{var{path:M}=r,H=g.levels(M),$=g.next(M);return[...H,$]}default:return[]}},zo=e=>{var{selection:r}=e;return r?R.fragment(e,r):[]},Vo=(e,r)=>{var[t,n]=r;if(!V.isText(t)){if(z.isElement(t)&&t.children.length===0){var a={text:""};O.insertNodes(e,a,{at:n.concat(0),voids:!0});return}for(var u=o.isEditor(t)?!1:z.isElement(t)&&(e.isInline(t)||t.children.length===0||V.isText(t.children[0])||e.isInline(t.children[0])),s=0,i=0;i<t.children.length;i++,s++){var f=R.get(e,n);if(!V.isText(f)){var c=f.children[s],v=f.children[s-1],d=i===t.children.length-1,D=V.isText(c)||z.isElement(c)&&e.isInline(c);if(D!==u)O.removeNodes(e,{at:n.concat(s),voids:!0}),s--;else if(z.isElement(c)){if(e.isInline(c)){if(v==null||!V.isText(v)){var p={text:""};O.insertNodes(e,p,{at:n.concat(s),voids:!0}),s++}else if(d){var h={text:""};O.insertNodes(e,h,{at:n.concat(s+1),voids:!0}),s++}}}else v!=null&&V.isText(v)&&(V.equals(c,v,{loose:!0})?(O.mergeNodes(e,{at:n.concat(s),voids:!0}),s--):v.text===""?(O.removeNodes(e,{at:n.concat(s-1),voids:!0}),s--):c.text===""&&(O.removeNodes(e,{at:n.concat(s),voids:!0}),s--))}}}},Ko=(e,r)=>{var{iteration:t,initialDirtyPathsLength:n}=r,a=n*42;if(t>a)throw new Error("Could not completely normalize the editor after ".concat(a," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},Ho=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:a="lowest",at:u=r.selection,match:s}=t;if(u){var i=o.path(r,u),f=a==="lowest";for(var[c,v]of o.levels(r,{at:i,voids:n,match:s,reverse:f}))if(!V.isText(c)){if(E.isRange(u)){if(g.isAncestor(v,u.anchor.path)&&g.isAncestor(v,u.focus.path))return[c,v]}else if(!g.equals(i,v))return[c,v]}}};function oa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function la(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?oa(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var qo=(e,r,t)=>{var{selection:n}=e;if(n){var a=(d,D)=>{if(!V.isText(d))return!1;var[p,h]=o.parent(e,D);return!e.isVoid(p)||e.markableVoid(p)},u=E.isExpanded(n),s=!1;if(!u){var[i,f]=o.node(e,n);if(i&&a(i,f)){var[c]=o.parent(e,f);s=c&&e.markableVoid(c)}}if(u||s)O.setNodes(e,{[r]:t},{match:a,split:!0,voids:!0});else{var v=la(la({},o.marks(e)||{}),{},{[r]:t});e.marks=v,Sr.get(e)||e.onChange()}}};function fa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ca(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?fa(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Uo=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.point(r,t,{edge:"end"}),u=o.end(r,[]),s={anchor:a,focus:u},{distance:i=1}=n,f=0,c;for(var v of o.positions(r,ca(ca({},n),{},{at:s}))){if(f>i)break;f!==0&&(c=v),f++}return c};function va(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function da(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?va(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):va(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Go=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.start(r,[]),u=o.point(r,t,{edge:"start"}),s={anchor:a,focus:u},{distance:i=1}=n,f=0,c;for(var v of o.positions(r,da(da({},n),{},{at:s,reverse:!0}))){if(f>i)break;f!==0&&(c=v),f++}return c},Yo=(e,r)=>{var{selection:t}=e;t&&E.isCollapsed(t)&&O.delete(e,{unit:r,reverse:!0})},Jo=(e,r)=>{var{selection:t}=e;t&&E.isCollapsed(t)&&O.delete(e,{unit:r})},Xo=function(r){var{direction:t="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=r;n&&E.isExpanded(n)&&O.delete(r,{reverse:t==="backward"})},_o=(e,r)=>[o.start(e,r),o.end(e,r)];function ha(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ga(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ha(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ha(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Zo=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.above(r,ga(ga({},t),{},{match:n=>z.isElement(n)&&o.isElementReadOnly(r,n)}))},Qo=(e,r)=>o.point(e,r,{edge:"end"}),el=(e,r)=>{var t=o.path(e,r,{edge:"start"});return o.node(e,t)},rl=(e,r)=>{var t=o.range(e,r);return R.fragment(e,t)};function Da(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ca(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Da(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Da(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var tl=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.above(r,Ca(Ca({},t),{},{match:n=>z.isElement(n)&&o.isVoid(r,n)}))},nl=(e,r)=>r.children.some(t=>z.isElement(t)&&o.isBlock(e,t)),al=(e,r)=>r.children.some(t=>V.isText(t)||o.isInline(e,t)),ul=(e,r)=>R.has(e,r),sl=(e,r)=>r.children.every(t=>V.isText(t)),il=e=>{O.splitNodes(e,{always:!0})},ol=(e,r,t)=>{O.insertNodes(e,r,t)},ll=e=>{O.splitNodes(e,{always:!0})};function pa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function fl(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?pa(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var cl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a,marks:u}=r;if(a){if(u){var s=fl({text:t},u);O.insertNodes(r,s,{at:n.at,voids:n.voids})}else O.insertText(r,t,n);r.marks=null}},vl=(e,r)=>!e.isInline(r),dl=(e,r,t)=>o.isStart(e,r,t)||o.isEnd(e,r,t),hl=(e,r)=>{var{children:t}=r,[n]=t;return t.length===0||t.length===1&&V.isText(n)&&n.text===""&&!e.isVoid(r)},gl=(e,r,t)=>{var n=o.end(e,t);return _.equals(r,n)},Dl=e=>{var r=Fu.get(e);return r===void 0?!0:r},Cl=(e,r,t)=>{if(r.offset!==0)return!1;var n=o.start(e,t);return _.equals(r,n)},pl=(e,r)=>{var t=o.path(e,r,{edge:"end"});return o.node(e,t)},ml=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.path(r,t,n),u=R.leaf(r,a);return[u,a]};function*Bl(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=e.selection,reverse:n=!1,voids:a=!1}=r,{match:u}=r;if(u==null&&(u=()=>!0),!!t){var s=[],i=o.path(e,t);for(var[f,c]of R.levels(e,i))if(u(f,c)&&(s.push([f,c]),!a&&z.isElement(f)&&o.isVoid(e,f)))break;n&&s.reverse(),yield*s}}var El=["text"],Al=["text"],bl=function(r){var{marks:t,selection:n}=r;if(!n)return null;if(t)return t;if(E.isExpanded(n)){var[a]=o.nodes(r,{match:V.isText});if(a){var[u]=a,s=He(u,El);return s}else return{}}var{anchor:i}=n,{path:f}=i,[c]=o.leaf(r,f);if(i.offset===0){var v=o.previous(r,{at:f,match:V.isText}),d=o.above(r,{match:m=>z.isElement(m)&&o.isVoid(r,m)&&r.markableVoid(m)});if(!d){var D=o.above(r,{match:m=>z.isElement(m)&&o.isBlock(r,m)});if(v&&D){var[p,h]=v,[,l]=D;g.isAncestor(l,h)&&(c=p)}}}var B=He(c,Al);return B},Fl=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=r.selection}=t;if(s){var i=o.after(r,s,{voids:a});if(i){var[,f]=o.last(r,[]),c=[i.path,f];if(g.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(u==null)if(g.isPath(s)){var[v]=o.parent(r,s);u=D=>v.children.includes(D)}else u=()=>!0;var[d]=o.nodes(r,{at:c,match:u,mode:n,voids:a});return d}}},wl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.path(r,t,n),u=R.get(r,a);return[u,a]};function*yl(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=e.selection,mode:n="all",universal:a=!1,reverse:u=!1,voids:s=!1,ignoreNonSelectable:i=!1}=r,{match:f}=r;if(f||(f=()=>!0),!!t){var c,v;if(co.isSpan(t))c=t[0],v=t[1];else{var d=o.path(e,t,{edge:"start"}),D=o.path(e,t,{edge:"end"});c=u?D:d,v=u?d:D}var p=R.nodes(e,{reverse:u,from:c,to:v,pass:j=>{var[L]=j;return z.isElement(L)?!!(!s&&(o.isVoid(e,L)||o.isElementReadOnly(e,L))||i&&!o.isSelectable(e,L)):!1}}),h=[],l;for(var[B,m]of p)if(!(i&&z.isElement(B)&&!o.isSelectable(e,B))){var b=l&&g.compare(m,l[1])===0;if(!(n==="highest"&&b)){if(!f(B,m)){if(a&&!b&&V.isText(B))return;continue}if(n==="lowest"&&b){l=[B,m];continue}var y=n==="lowest"?l:[B,m];y&&(a?h.push(y):yield y),l=[B,m]}}n==="lowest"&&l&&(a?h.push(l):yield l),a&&(yield*h)}}var Ol=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:a}=t,u=v=>at.get(v)||[],s=v=>ut.get(v)||new Set,i=v=>{var d=u(v).pop(),D=d.join(",");return s(v).delete(D),d};if(o.isNormalizing(r)){if(n){var f=Array.from(R.nodes(r),v=>{var[,d]=v;return d}),c=new Set(f.map(v=>v.join(",")));at.set(r,f),ut.set(r,c)}u(r).length!==0&&o.withoutNormalizing(r,()=>{for(var v of u(r))if(R.has(r,v)){var d=o.node(r,v),[D,p]=d;z.isElement(D)&&D.children.length===0&&r.normalizeNode(d,{operation:a})}for(var h=u(r),l=h.length,B=0;h.length!==0;){if(!r.shouldNormalize({dirtyPaths:h,iteration:B,initialDirtyPathsLength:l,operation:a}))return;var m=i(r);if(R.has(r,m)){var b=o.node(r,m);r.normalizeNode(b,{operation:a})}B++,h=u(r)}})}},xl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.path(r,t,n),u=g.parent(a),s=o.node(r,u);return s},Sl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:i}=u,f=o.pathRefs(r);return f.delete(u),u.current=null,i}},s=o.pathRefs(r);return s.add(u),u},Pl=e=>{var r=Gn.get(e);return r||(r=new Set,Gn.set(e,r)),r},Tl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:a,edge:u}=n;if(g.isPath(t)){if(u==="start"){var[,s]=R.first(r,t);t=s}else if(u==="end"){var[,i]=R.last(r,t);t=i}}return E.isRange(t)&&(u==="start"?t=E.start(t):u==="end"?t=E.end(t):t=g.common(t.anchor.path,t.focus.path)),_.isPoint(t)&&(t=t.path),a!=null&&(t=t.slice(0,a)),t},$l=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:i}=u,f=o.pointRefs(r);return f.delete(u),u.current=null,i}},s=o.pointRefs(r);return s.add(u),u},jl=e=>{var r=Yn.get(e);return r||(r=new Set,Yn.set(e,r)),r},Rl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:a="start"}=n;if(g.isPath(t)){var u;if(a==="end"){var[,s]=R.last(r,t);u=s}else{var[,i]=R.first(r,t);u=i}var f=R.get(r,u);if(!V.isText(f))throw new Error("Cannot get the ".concat(a," point in the node at path [").concat(t,"] because it has no ").concat(a," text node."));return{path:u,offset:a==="end"?f.text.length:0}}if(E.isRange(t)){var[c,v]=E.edges(t);return a==="start"?c:v}return t};function*Nl(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:t=e.selection,unit:n="offset",reverse:a=!1,voids:u=!1,ignoreNonSelectable:s=!1}=r;if(!t)return;var i=o.range(e,t),[f,c]=E.edges(i),v=a?c:f,d=!1,D="",p=0,h=0,l=0;for(var[B,m]of o.nodes(e,{at:t,reverse:a,voids:u,ignoreNonSelectable:s})){if(z.isElement(B)){if(!u&&(e.isVoid(B)||e.isElementReadOnly(B))){yield o.start(e,m);continue}if(e.isInline(B))continue;if(o.hasInlines(e,B)){var b=g.isAncestor(m,c.path)?c:o.end(e,m),y=g.isAncestor(m,f.path)?f:o.start(e,m);D=o.string(e,{anchor:y,focus:b},{voids:u}),d=!0}}if(V.isText(B)){var j=g.equals(m,v.path);for(j?(h=a?v.offset:B.text.length-v.offset,l=v.offset):(h=B.text.length,l=a?h:0),(j||d||n==="offset")&&(yield{path:m,offset:l},d=!1);;){if(p===0){if(D==="")break;p=L(D,n,a),D=ln(D,p,a)[1]}if(l=a?l-p:l+p,h=h-p,h<0){p=-h;break}p=0,yield{path:m,offset:l}}}}function L(k,M,H){return M==="character"?on(k,H):M==="word"?po(k,H):M==="line"||M==="block"?k.length:1}}var Il=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=r.selection}=t;if(s){var i=o.before(r,s,{voids:a});if(i){var[,f]=o.first(r,[]),c=[i.path,f];if(g.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(u==null)if(g.isPath(s)){var[v]=o.parent(r,s);u=D=>v.children.includes(D)}else u=()=>!0;var[d]=o.nodes(r,{reverse:!0,at:c,match:u,mode:n,voids:a});return d}}},Ml=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:i}=u,f=o.rangeRefs(r);return f.delete(u),u.current=null,i}},s=o.rangeRefs(r);return s.add(u),u},Ll=e=>{var r=Jn.get(e);return r||(r=new Set,Jn.set(e,r)),r},kl=(e,r,t)=>{if(E.isRange(r)&&!t)return r;var n=o.start(e,r),a=o.end(e,t||r);return{anchor:n,focus:a}};function ma(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Wl(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ma(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ma(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var zl=(e,r)=>{var{selection:t}=e;if(t){var n=(v,d)=>{if(!V.isText(v))return!1;var[D,p]=o.parent(e,d);return!e.isVoid(D)||e.markableVoid(D)},a=E.isExpanded(t),u=!1;if(!a){var[s,i]=o.node(e,t);if(s&&n(s,i)){var[f]=o.parent(e,i);u=f&&e.markableVoid(f)}}if(a||u)O.unsetNodes(e,r,{match:n,split:!0,voids:!0});else{var c=Wl({},o.marks(e)||{});delete c[r],e.marks=c,Sr.get(e)||e.onChange()}}},Vl=(e,r)=>{Fu.set(e,r)},Kl=(e,r)=>o.point(e,r,{edge:"start"}),Hl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,u=o.range(r,t),[s,i]=E.edges(u),f="";for(var[c,v]of o.nodes(r,{at:u,match:V.isText,voids:a})){var d=c.text;g.equals(v,i.path)&&(d=d.slice(0,i.offset)),g.equals(v,s.path)&&(d=d.slice(s.offset)),f+=d}return f},ql=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,[u,s]=E.edges(t);if(u.offset!==0||s.offset!==0||E.isCollapsed(t)||g.hasPrevious(s.path))return t;var i=o.above(r,{at:s,match:h=>z.isElement(h)&&o.isBlock(r,h),voids:a}),f=i?i[1]:[],c=o.start(r,u),v={anchor:c,focus:s},d=!0;for(var[D,p]of o.nodes(r,{at:v,match:V.isText,reverse:!0,voids:a})){if(d){d=!1;continue}if(D.text!==""||g.isBefore(p,f)){s={path:p,offset:D.text.length};break}}return{anchor:u,focus:s}},Ul=(e,r)=>{var t=o.isNormalizing(e);o.setNormalizing(e,!1);try{r()}finally{o.setNormalizing(e,t)}o.normalize(e)},Gl=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.withoutNormalizing(r,()=>{var n,a,{reverse:u=!1,unit:s="character",distance:i=1,voids:f=!1}=t,{at:c=r.selection,hanging:v=!1}=t;if(c){var d=!1;if(E.isRange(c)&&E.isCollapsed(c)&&(d=!0,c=c.anchor),_.isPoint(c)){var D=o.void(r,{at:c,mode:"highest"});if(!f&&D){var[,p]=D;c=p}else{var h={unit:s,distance:i},l=u?o.before(r,c,h)||o.start(r,[]):o.after(r,c,h)||o.end(r,[]);c={anchor:c,focus:l},v=!0}}if(g.isPath(c)){O.removeNodes(r,{at:c,voids:f});return}if(!E.isCollapsed(c)){if(!v){var[,B]=E.edges(c),m=o.end(r,[]);_.equals(B,m)||(c=o.unhangRange(r,c,{voids:f}))}var[b,y]=E.edges(c),j=o.above(r,{match:re=>z.isElement(re)&&o.isBlock(r,re),at:b,voids:f}),L=o.above(r,{match:re=>z.isElement(re)&&o.isBlock(r,re),at:y,voids:f}),k=j&&L&&!g.equals(j[1],L[1]),M=g.equals(b.path,y.path),H=f?null:(n=o.void(r,{at:b,mode:"highest"}))!==null&&n!==void 0?n:o.elementReadOnly(r,{at:b,mode:"highest"}),$=f?null:(a=o.void(r,{at:y,mode:"highest"}))!==null&&a!==void 0?a:o.elementReadOnly(r,{at:y,mode:"highest"});if(H){var W=o.before(r,b);W&&j&&g.isAncestor(j[1],W.path)&&(b=W)}if($){var U=o.after(r,y);U&&L&&g.isAncestor(L[1],U.path)&&(y=U)}var A=[],S;for(var T of o.nodes(r,{at:c,voids:f})){var[P,K]=T;S&&g.compare(K,S)===0||(!f&&z.isElement(P)&&(o.isVoid(r,P)||o.isElementReadOnly(r,P))||!g.isCommon(K,b.path)&&!g.isCommon(K,y.path))&&(A.push(T),S=K)}var Z=Array.from(A,re=>{var[,me]=re;return o.pathRef(r,me)}),se=o.pointRef(r,b),Y=o.pointRef(r,y),ee="";if(!M&&!H){var ve=se.current,[ue]=o.leaf(r,ve),{path:be}=ve,{offset:C}=b,N=ue.text.slice(C);N.length>0&&(r.apply({type:"remove_text",path:be,offset:C,text:N}),ee=N)}if(Z.reverse().map(re=>re.unref()).filter(re=>re!==null).forEach(re=>O.removeNodes(r,{at:re,voids:f})),!$){var w=Y.current,[I]=o.leaf(r,w),{path:X}=w,q=M?b.offset:0,Q=I.text.slice(q,y.offset);Q.length>0&&(r.apply({type:"remove_text",path:X,offset:q,text:Q}),ee=Q)}!M&&k&&Y.current&&se.current&&O.mergeNodes(r,{at:Y.current,hanging:!0,voids:f}),d&&u&&s==="character"&&ee.length>1&&ee.match(/[\u0E00-\u0E7F]+/)&&O.insertText(r,ee.slice(0,ee.length-i));var ae=se.unref(),ne=Y.unref(),de=u?ae||ne:ne||ae;t.at==null&&de&&O.select(r,de)}}})},Yl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o.withoutNormalizing(r,()=>{var{hanging:a=!1,voids:u=!1}=n,{at:s=sn(r)}=n;if(t.length){if(E.isRange(s))if(a||(s=o.unhangRange(r,s,{voids:u})),E.isCollapsed(s))s=s.anchor;else{var[,i]=E.edges(s);if(!u&&o.void(r,{at:i}))return;var f=o.pointRef(r,i);O.delete(r,{at:s}),s=f.unref()}else g.isPath(s)&&(s=o.start(r,s));if(!(!u&&o.void(r,{at:s}))){var c=o.above(r,{at:s,match:C=>z.isElement(C)&&o.isInline(r,C),mode:"highest",voids:u});if(c){var[,v]=c;if(o.isEnd(r,s,v)){var d=o.after(r,v);s=d}else if(o.isStart(r,s,v)){var D=o.before(r,v);s=D}}var p=o.above(r,{match:C=>z.isElement(C)&&o.isBlock(r,C),at:s,voids:u}),[,h]=p,l=o.isStart(r,s,h),B=o.isEnd(r,s,h),m=l&&B,b=!l||l&&B,y=!B,[,j]=R.first({children:t},[]),[,L]=R.last({children:t},[]),k=[],M=C=>{var[N,w]=C,I=w.length===0;return I?!1:m?!0:!(b&&g.isAncestor(w,j)&&z.isElement(N)&&!r.isVoid(N)&&!r.isInline(N)||y&&g.isAncestor(w,L)&&z.isElement(N)&&!r.isVoid(N)&&!r.isInline(N))};for(var H of R.nodes({children:t},{pass:M}))M(H)&&k.push(H);var $=[],W=[],U=[],A=!0,S=!1;for(var[T]of k)z.isElement(T)&&!r.isInline(T)?(A=!1,S=!0,W.push(T)):A?$.push(T):U.push(T);var[P]=o.nodes(r,{at:s,match:C=>V.isText(C)||o.isInline(r,C),mode:"highest",voids:u}),[,K]=P,Z=o.isStart(r,s,K),se=o.isEnd(r,s,K),Y=o.pathRef(r,B&&!U.length?g.next(h):h),ee=o.pathRef(r,se?g.next(K):K);O.splitNodes(r,{at:s,match:C=>S?z.isElement(C)&&o.isBlock(r,C):V.isText(C)||o.isInline(r,C),mode:S?"lowest":"highest",always:S&&(!l||$.length>0)&&(!B||U.length>0),voids:u});var ve=o.pathRef(r,!Z||Z&&se?g.next(K):K);if(O.insertNodes(r,$,{at:ve.current,match:C=>V.isText(C)||o.isInline(r,C),mode:"highest",voids:u}),m&&!$.length&&W.length&&!U.length&&O.delete(r,{at:h,voids:u}),O.insertNodes(r,W,{at:Y.current,match:C=>z.isElement(C)&&o.isBlock(r,C),mode:"lowest",voids:u}),O.insertNodes(r,U,{at:ee.current,match:C=>V.isText(C)||o.isInline(r,C),mode:"highest",voids:u}),!n.at){var ue;if(U.length>0&&ee.current?ue=g.previous(ee.current):W.length>0&&Y.current?ue=g.previous(Y.current):ve.current&&(ue=g.previous(ve.current)),ue){var be=o.end(r,ue);O.select(r,be)}}ve.unref(),Y.unref(),ee.unref()}}})},Jl=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=t,{selection:a}=r;if(a){if(n==="anchor")O.select(r,a.anchor);else if(n==="focus")O.select(r,a.focus);else if(n==="start"){var[u]=E.edges(a);O.select(r,u)}else if(n==="end"){var[,s]=E.edges(a);O.select(r,s)}}else return},Xl=e=>{var{selection:r}=e;r&&e.apply({type:"set_selection",properties:r,newProperties:null})},_l=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=r,{distance:a=1,unit:u="character",reverse:s=!1}=t,{edge:i=null}=t;if(n){i==="start"&&(i=E.isBackward(n)?"focus":"anchor"),i==="end"&&(i=E.isBackward(n)?"anchor":"focus");var{anchor:f,focus:c}=n,v={distance:a,unit:u,ignoreNonSelectable:!0},d={};if(i==null||i==="anchor"){var D=s?o.before(r,f,v):o.after(r,f,v);D&&(d.anchor=D)}if(i==null||i==="focus"){var p=s?o.before(r,c,v):o.after(r,c,v);p&&(d.focus=p)}O.setSelection(r,d)}},Zl=(e,r)=>{var{selection:t}=e;if(r=o.range(e,r),t){O.setSelection(e,r);return}if(!E.isRange(r))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(De.stringify(r)));e.apply({type:"set_selection",properties:t,newProperties:r})};function Ba(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ea(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ba(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ba(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Ql=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a}=r,{edge:u="both"}=n;if(a){u==="start"&&(u=E.isBackward(a)?"focus":"anchor"),u==="end"&&(u=E.isBackward(a)?"anchor":"focus");var{anchor:s,focus:i}=a,f=u==="anchor"?s:i;O.setSelection(r,{[u==="anchor"?"anchor":"focus"]:Ea(Ea({},f),t)})}},ef=(e,r)=>{var{selection:t}=e,n={},a={};if(t){for(var u in r)(u==="anchor"&&r.anchor!=null&&!_.equals(r.anchor,t.anchor)||u==="focus"&&r.focus!=null&&!_.equals(r.focus,t.focus)||u!=="anchor"&&u!=="focus"&&r[u]!==t[u])&&(n[u]=t[u],a[u]=r[u]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:a})}},rf=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o.withoutNormalizing(r,()=>{var{hanging:a=!1,voids:u=!1,mode:s="lowest"}=n,{at:i,match:f,select:c}=n;if(R.isNode(t)&&(t=[t]),t.length!==0){var[v]=t;if(i||(i=sn(r),c=!0),c==null&&(c=!1),E.isRange(i))if(a||(i=o.unhangRange(r,i,{voids:u})),E.isCollapsed(i))i=i.anchor;else{var[,d]=E.edges(i),D=o.pointRef(r,d);O.delete(r,{at:i}),i=D.unref()}if(_.isPoint(i)){f==null&&(V.isText(v)?f=M=>V.isText(M):r.isInline(v)?f=M=>V.isText(M)||o.isInline(r,M):f=M=>z.isElement(M)&&o.isBlock(r,M));var[p]=o.nodes(r,{at:i.path,match:f,mode:s,voids:u});if(p){var[,h]=p,l=o.pathRef(r,h),B=o.isEnd(r,i,h);O.splitNodes(r,{at:i,match:f,mode:s,voids:u});var m=l.unref();i=B?g.next(m):m}else return}var b=g.parent(i),y=i[i.length-1];if(!(!u&&o.void(r,{at:b}))){for(var j of t){var L=b.concat(y);y++,r.apply({type:"insert_node",path:L,node:j}),i=g.next(i)}if(i=g.previous(i),c){var k=o.end(r,i);k&&O.select(r,k)}}}})},tf=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.withoutNormalizing(r,()=>{var{at:n=r.selection,mode:a="lowest",voids:u=!1}=t,{match:s}=t;if(s==null&&(s=g.isPath(n)?Cr(r,n):j=>z.isElement(j)&&o.isBlock(r,j)),!!n){var i=o.nodes(r,{at:n,match:s,mode:a,voids:u}),f=Array.from(i,j=>{var[,L]=j;return o.pathRef(r,L)});for(var c of f){var v=c.unref();if(v.length<2)throw new Error("Cannot lift node at a path [".concat(v,"] because it has a depth of less than `2`."));var d=o.node(r,g.parent(v)),[D,p]=d,h=v[v.length-1],{length:l}=D.children;if(l===1){var B=g.next(p);O.moveNodes(r,{at:v,to:B,voids:u}),O.removeNodes(r,{at:p,voids:u})}else if(h===0)O.moveNodes(r,{at:v,to:p,voids:u});else if(h===l-1){var m=g.next(p);O.moveNodes(r,{at:v,to:m,voids:u})}else{var b=g.next(v),y=g.next(p);O.splitNodes(r,{at:b,voids:u}),O.moveNodes(r,{at:v,to:y,voids:u})}}}})},nf=["text"],af=["children"],yu=(e,r)=>{if(z.isElement(r)){var t=r;return o.isVoid(e,r)?!0:t.children.length===1?yu(e,t.children[0]):!1}else return!o.isEditor(r)},uf=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.withoutNormalizing(r,()=>{var{match:n,at:a=r.selection}=t,{hanging:u=!1,voids:s=!1,mode:i="lowest"}=t;if(a){if(n==null)if(g.isPath(a)){var[f]=o.parent(r,a);n=W=>f.children.includes(W)}else n=W=>z.isElement(W)&&o.isBlock(r,W);if(!u&&E.isRange(a)&&(a=o.unhangRange(r,a,{voids:s})),E.isRange(a))if(E.isCollapsed(a))a=a.anchor;else{var[,c]=E.edges(a),v=o.pointRef(r,c);O.delete(r,{at:a}),a=v.unref(),t.at==null&&O.select(r,a)}var[d]=o.nodes(r,{at:a,match:n,voids:s,mode:i}),D=o.previous(r,{at:a,match:n,voids:s,mode:i});if(!(!d||!D)){var[p,h]=d,[l,B]=D;if(!(h.length===0||B.length===0)){var m=g.next(B),b=g.common(h,B),y=g.isSibling(h,B),j=Array.from(o.levels(r,{at:h}),W=>{var[U]=W;return U}).slice(b.length).slice(0,-1),L=o.above(r,{at:h,mode:"highest",match:W=>j.includes(W)&&yu(r,W)}),k=L&&o.pathRef(r,L[1]),M,H;if(V.isText(p)&&V.isText(l)){var $=He(p,nf);H=l.text.length,M=$}else if(z.isElement(p)&&z.isElement(l)){var $=He(p,af);H=l.children.length,M=$}else throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(De.stringify(p)," ").concat(De.stringify(l)));y||O.moveNodes(r,{at:h,to:m,voids:s}),k&&O.removeNodes(r,{at:k.current,voids:s}),z.isElement(l)&&o.isEmpty(r,l)||V.isText(l)&&l.text===""&&B[B.length-1]!==0?O.removeNodes(r,{at:B,voids:s}):r.apply({type:"merge_node",path:m,position:H,properties:M}),k&&k.unref()}}}})},sf=(e,r)=>{o.withoutNormalizing(e,()=>{var{to:t,at:n=e.selection,mode:a="lowest",voids:u=!1}=r,{match:s}=r;if(n){s==null&&(s=g.isPath(n)?Cr(e,n):p=>z.isElement(p)&&o.isBlock(e,p));var i=o.pathRef(e,t),f=o.nodes(e,{at:n,match:s,mode:a,voids:u}),c=Array.from(f,p=>{var[,h]=p;return o.pathRef(e,h)});for(var v of c){var d=v.unref(),D=i.current;d.length!==0&&e.apply({type:"move_node",path:d,newPath:D}),i.current&&g.isSibling(D,d)&&g.isAfter(D,d)&&(i.current=g.next(i.current))}i.unref()}})},of=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.withoutNormalizing(r,()=>{var{hanging:n=!1,voids:a=!1,mode:u="lowest"}=t,{at:s=r.selection,match:i}=t;if(s){i==null&&(i=g.isPath(s)?Cr(r,s):p=>z.isElement(p)&&o.isBlock(r,p)),!n&&E.isRange(s)&&(s=o.unhangRange(r,s,{voids:a}));var f=o.nodes(r,{at:s,match:i,mode:u,voids:a}),c=Array.from(f,p=>{var[,h]=p;return o.pathRef(r,h)});for(var v of c){var d=v.unref();if(d){var[D]=o.node(r,d);r.apply({type:"remove_node",path:d,node:D})}}}})},lf=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o.withoutNormalizing(r,()=>{var{match:a,at:u=r.selection,compare:s,merge:i}=n,{hanging:f=!1,mode:c="lowest",split:v=!1,voids:d=!1}=n;if(u){if(a==null&&(a=g.isPath(u)?Cr(r,u):H=>z.isElement(H)&&o.isBlock(r,H)),!f&&E.isRange(u)&&(u=o.unhangRange(r,u,{voids:d})),v&&E.isRange(u)){if(E.isCollapsed(u)&&o.leaf(r,u.anchor)[0].text.length>0)return;var D=o.rangeRef(r,u,{affinity:"inward"}),[p,h]=E.edges(u),l=c==="lowest"?"lowest":"highest",B=o.isEnd(r,h,h.path);O.splitNodes(r,{at:h,match:a,mode:l,voids:d,always:!B});var m=o.isStart(r,p,p.path);O.splitNodes(r,{at:p,match:a,mode:l,voids:d,always:!m}),u=D.unref(),n.at==null&&O.select(r,u)}s||(s=(H,$)=>H!==$);for(var[b,y]of o.nodes(r,{at:u,match:a,mode:c,voids:d})){var j={},L={};if(y.length!==0){var k=!1;for(var M in t)M==="children"||M==="text"||s(t[M],b[M])&&(k=!0,b.hasOwnProperty(M)&&(j[M]=b[M]),i?t[M]!=null&&(L[M]=i(b[M],t[M])):t[M]!=null&&(L[M]=t[M]));k&&r.apply({type:"set_node",path:y,properties:j,newProperties:L})}}}})},ff=(e,r)=>{if(E.isCollapsed(r))return r.anchor;var[,t]=E.edges(r),n=o.pointRef(e,t);return O.delete(e,{at:r}),n.unref()},cf=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.withoutNormalizing(r,()=>{var{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=r.selection,height:i=0,always:f=!1}=t;if(u==null&&(u=Y=>z.isElement(Y)&&o.isBlock(r,Y)),E.isRange(s)&&(s=ff(r,s)),g.isPath(s)){var c=s,v=o.point(r,c),[d]=o.parent(r,c);u=Y=>Y===d,i=v.path.length-c.length+1,s=v,f=!0}if(s){var D=o.pointRef(r,s,{affinity:"backward"}),p;try{var[h]=o.nodes(r,{at:s,match:u,mode:n,voids:a});if(!h)return;var l=o.void(r,{at:s,mode:"highest"}),B=0;if(!a&&l){var[m,b]=l;if(z.isElement(m)&&r.isInline(m)){var y=o.after(r,b);if(!y){var j={text:""},L=g.next(b);O.insertNodes(r,j,{at:L,voids:a}),y=o.point(r,L)}s=y,f=!0}var k=s.path.length-b.length;i=k+1,f=!0}p=o.pointRef(r,s);var M=s.path.length-i,[,H]=h,$=s.path.slice(0,M),W=i===0?s.offset:s.path[M]+B;for(var[U,A]of o.levels(r,{at:$,reverse:!0,voids:a})){var S=!1;if(A.length<H.length||A.length===0||!a&&z.isElement(U)&&o.isVoid(r,U))break;var T=D.current,P=o.isEnd(r,T,A);if(f||!D||!o.isEdge(r,T,A)){S=!0;var K=R.extractProps(U);r.apply({type:"split_node",path:A,position:W,properties:K})}W=A[A.length-1]+(S||P?1:0)}if(t.at==null){var Z=p.current||o.end(r,[]);O.select(r,Z)}}finally{var se;D.unref(),(se=p)===null||se===void 0||se.unref()}}})},vf=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var a={};for(var u of t)a[u]=null;O.setNodes(r,a,n)},df=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.withoutNormalizing(r,()=>{var{mode:n="lowest",split:a=!1,voids:u=!1}=t,{at:s=r.selection,match:i}=t;if(s){i==null&&(i=g.isPath(s)?Cr(r,s):p=>z.isElement(p)&&o.isBlock(r,p)),g.isPath(s)&&(s=o.range(r,s));var f=E.isRange(s)?o.rangeRef(r,s):null,c=o.nodes(r,{at:s,match:i,mode:n,voids:u}),v=Array.from(c,p=>{var[,h]=p;return o.pathRef(r,h)}).reverse(),d=function(h){var l=h.unref(),[B]=o.node(r,l),m=o.range(r,l);a&&f&&(m=E.intersection(f.current,m)),O.liftNodes(r,{at:m,match:b=>z.isAncestor(B)&&B.children.includes(b),voids:u})};for(var D of v)d(D);f&&f.unref()}})};function Aa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ba(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Aa(Object(t),!0).forEach(function(n){Ae(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Aa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var hf=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};o.withoutNormalizing(r,()=>{var{mode:a="lowest",split:u=!1,voids:s=!1}=n,{match:i,at:f=r.selection}=n;if(f){if(i==null&&(g.isPath(f)?i=Cr(r,f):r.isInline(t)?i=m=>z.isElement(m)&&o.isInline(r,m)||V.isText(m):i=m=>z.isElement(m)&&o.isBlock(r,m)),u&&E.isRange(f)){var[c,v]=E.edges(f),d=o.rangeRef(r,f,{affinity:"inward"});O.splitNodes(r,{at:v,match:i,voids:s}),O.splitNodes(r,{at:c,match:i,voids:s}),f=d.unref(),n.at==null&&O.select(r,f)}var D=Array.from(o.nodes(r,{at:f,match:r.isInline(t)?m=>z.isElement(m)&&o.isBlock(r,m):m=>o.isEditor(m),mode:"lowest",voids:s}));for(var[,p]of D){var h=E.isRange(f)?E.intersection(f,o.range(r,p)):f;if(h){var l=Array.from(o.nodes(r,{at:h,match:i,mode:a,voids:s}));if(l.length>0){var B=function(){var[m]=l,b=l[l.length-1],[,y]=m,[,j]=b;if(y.length===0&&j.length===0)return"continue";var L=g.equals(y,j)?g.parent(y):g.common(y,j),k=o.range(r,y,j),M=o.node(r,L),[H]=M,$=L.length+1,W=g.next(j.slice(0,$)),U=ba(ba({},t),{},{children:[]});O.insertNodes(r,U,{at:W,voids:s}),O.moveNodes(r,{at:k,match:A=>z.isAncestor(H)&&H.children.includes(A),to:W.concat(0),voids:s})}();if(B==="continue")continue}}}}})},gf=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ko(e,...n)},addMark:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return qo(e,...n)},deleteBackward:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Yo(e,...n)},deleteForward:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Jo(e,...n)},deleteFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Xo(e,...n)},getFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return zo(e,...n)},insertBreak:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return il(e,...n)},insertSoftBreak:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ll(e,...n)},insertFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Yl(e,...n)},insertNode:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ol(e,...n)},insertText:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return cl(e,...n)},normalizeNode:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Vo(e,...n)},removeMark:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return zl(e,...n)},getDirtyPaths:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Wo(e,...n)},shouldNormalize:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ko(e,...n)},above:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ho(e,...n)},after:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Uo(e,...n)},before:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Go(e,...n)},collapse:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Jl(e,...n)},delete:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Gl(e,...n)},deselect:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Xl(e,...n)},edges:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return _o(e,...n)},elementReadOnly:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Zo(e,...n)},end:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Qo(e,...n)},first:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return el(e,...n)},fragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return rl(e,...n)},getMarks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return bl(e,...n)},hasBlocks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return nl(e,...n)},hasInlines:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return al(e,...n)},hasPath:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ul(e,...n)},hasTexts:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return sl(e,...n)},insertNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return rf(e,...n)},isBlock:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return vl(e,...n)},isEdge:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return dl(e,...n)},isEmpty:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return hl(e,...n)},isEnd:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return gl(e,...n)},isNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Dl(e,...n)},isStart:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Cl(e,...n)},last:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return pl(e,...n)},leaf:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ml(e,...n)},levels:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Bl(e,...n)},liftNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return tf(e,...n)},mergeNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return uf(e,...n)},move:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return _l(e,...n)},moveNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return sf(e,...n)},next:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Fl(e,...n)},node:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return wl(e,...n)},nodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return yl(e,...n)},normalize:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ol(e,...n)},parent:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return xl(e,...n)},path:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Tl(e,...n)},pathRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Sl(e,...n)},pathRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Pl(e,...n)},point:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Rl(e,...n)},pointRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return $l(e,...n)},pointRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return jl(e,...n)},positions:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Nl(e,...n)},previous:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Il(e,...n)},range:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return kl(e,...n)},rangeRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ml(e,...n)},rangeRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ll(e,...n)},removeNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return of(e,...n)},select:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Zl(e,...n)},setNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return lf(e,...n)},setNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Vl(e,...n)},setPoint:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ql(e,...n)},setSelection:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ef(e,...n)},splitNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return cf(e,...n)},start:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Kl(e,...n)},string:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Hl(e,...n)},unhangRange:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ql(e,...n)},unsetNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return vf(e,...n)},unwrapNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return df(e,...n)},void:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return tl(e,...n)},withoutNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ul(e,...n)},wrapNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return hf(e,...n)}};return e},ar=[],Df=function(){return ar.some(function(e){return e.activeTargets.length>0})},Cf=function(){return ar.some(function(e){return e.skippedTargets.length>0})},Fa="ResizeObserver loop completed with undelivered notifications.",pf=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Fa}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Fa),window.dispatchEvent(e)},Nr;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Nr||(Nr={}));var ur=function(e){return Object.freeze(e)},mf=function(){function e(r,t){this.inlineSize=r,this.blockSize=t,ur(this)}return e}(),Ou=function(){function e(r,t,n,a){return this.x=r,this.y=t,this.width=n,this.height=a,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ur(this)}return e.prototype.toJSON=function(){var r=this,t=r.x,n=r.y,a=r.top,u=r.right,s=r.bottom,i=r.left,f=r.width,c=r.height;return{x:t,y:n,top:a,right:u,bottom:s,left:i,width:f,height:c}},e.fromRect=function(r){return new e(r.x,r.y,r.width,r.height)},e}(),fn=function(e){return e instanceof SVGElement&&"getBBox"in e},xu=function(e){if(fn(e)){var r=e.getBBox(),t=r.width,n=r.height;return!t&&!n}var a=e,u=a.offsetWidth,s=a.offsetHeight;return!(u||s||e.getClientRects().length)},wa=function(e){var r;if(e instanceof Element)return!0;var t=(r=e==null?void 0:e.ownerDocument)===null||r===void 0?void 0:r.defaultView;return!!(t&&e instanceof t.Element)},Bf=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Pr=typeof window<"u"?window:{},Hr=new WeakMap,ya=/auto|scroll/,Ef=/^tb|vertical/,Af=/msie|trident/i.test(Pr.navigator&&Pr.navigator.userAgent),We=function(e){return parseFloat(e||"0")},vr=function(e,r,t){return e===void 0&&(e=0),r===void 0&&(r=0),t===void 0&&(t=!1),new mf((t?r:e)||0,(t?e:r)||0)},Oa=ur({devicePixelContentBoxSize:vr(),borderBoxSize:vr(),contentBoxSize:vr(),contentRect:new Ou(0,0,0,0)}),Su=function(e,r){if(r===void 0&&(r=!1),Hr.has(e)&&!r)return Hr.get(e);if(xu(e))return Hr.set(e,Oa),Oa;var t=getComputedStyle(e),n=fn(e)&&e.ownerSVGElement&&e.getBBox(),a=!Af&&t.boxSizing==="border-box",u=Ef.test(t.writingMode||""),s=!n&&ya.test(t.overflowY||""),i=!n&&ya.test(t.overflowX||""),f=n?0:We(t.paddingTop),c=n?0:We(t.paddingRight),v=n?0:We(t.paddingBottom),d=n?0:We(t.paddingLeft),D=n?0:We(t.borderTopWidth),p=n?0:We(t.borderRightWidth),h=n?0:We(t.borderBottomWidth),l=n?0:We(t.borderLeftWidth),B=d+c,m=f+v,b=l+p,y=D+h,j=i?e.offsetHeight-y-e.clientHeight:0,L=s?e.offsetWidth-b-e.clientWidth:0,k=a?B+b:0,M=a?m+y:0,H=n?n.width:We(t.width)-k-L,$=n?n.height:We(t.height)-M-j,W=H+B+L+b,U=$+m+j+y,A=ur({devicePixelContentBoxSize:vr(Math.round(H*devicePixelRatio),Math.round($*devicePixelRatio),u),borderBoxSize:vr(W,U,u),contentBoxSize:vr(H,$,u),contentRect:new Ou(d,f,H,$)});return Hr.set(e,A),A},Pu=function(e,r,t){var n=Su(e,t),a=n.borderBoxSize,u=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(r){case Nr.DEVICE_PIXEL_CONTENT_BOX:return s;case Nr.BORDER_BOX:return a;default:return u}},bf=function(){function e(r){var t=Su(r);this.target=r,this.contentRect=t.contentRect,this.borderBoxSize=ur([t.borderBoxSize]),this.contentBoxSize=ur([t.contentBoxSize]),this.devicePixelContentBoxSize=ur([t.devicePixelContentBoxSize])}return e}(),Tu=function(e){if(xu(e))return 1/0;for(var r=0,t=e.parentNode;t;)r+=1,t=t.parentNode;return r},Ff=function(){var e=1/0,r=[];ar.forEach(function(s){if(s.activeTargets.length!==0){var i=[];s.activeTargets.forEach(function(c){var v=new bf(c.target),d=Tu(c.target);i.push(v),c.lastReportedSize=Pu(c.target,c.observedBox),d<e&&(e=d)}),r.push(function(){s.callback.call(s.observer,i,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var t=0,n=r;t<n.length;t++){var a=n[t];a()}return e},xa=function(e){ar.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(a){a.isActive()&&(Tu(a.target)>e?t.activeTargets.push(a):t.skippedTargets.push(a))})})},wf=function(){var e=0;for(xa(e);Df();)e=Ff(),xa(e);return Cf()&&pf(),e>0},wt,$u=[],yf=function(){return $u.splice(0).forEach(function(e){return e()})},Of=function(e){if(!wt){var r=0,t=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return yf()}).observe(t,n),wt=function(){t.textContent="".concat(r?r--:r++)}}$u.push(e),wt()},xf=function(e){Of(function(){requestAnimationFrame(e)})},_r=0,Sf=function(){return!!_r},Pf=250,Tf={attributes:!0,characterData:!0,childList:!0,subtree:!0},Sa=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Pa=function(e){return e===void 0&&(e=0),Date.now()+e},yt=!1,$f=function(){function e(){var r=this;this.stopped=!0,this.listener=function(){return r.schedule()}}return e.prototype.run=function(r){var t=this;if(r===void 0&&(r=Pf),!yt){yt=!0;var n=Pa(r);xf(function(){var a=!1;try{a=wf()}finally{if(yt=!1,r=n-Pa(),!Sf())return;a?t.run(1e3):r>0?t.run(r):t.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var r=this,t=function(){return r.observer&&r.observer.observe(document.body,Tf)};document.body?t():Pr.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var r=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Sa.forEach(function(t){return Pr.addEventListener(t,r.listener,!0)}))},e.prototype.stop=function(){var r=this;this.stopped||(this.observer&&this.observer.disconnect(),Sa.forEach(function(t){return Pr.removeEventListener(t,r.listener,!0)}),this.stopped=!0)},e}(),Lt=new $f,Ta=function(e){!_r&&e>0&&Lt.start(),_r+=e,!_r&&Lt.stop()},jf=function(e){return!fn(e)&&!Bf(e)&&getComputedStyle(e).display==="inline"},Rf=function(){function e(r,t){this.target=r,this.observedBox=t||Nr.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var r=Pu(this.target,this.observedBox,!0);return jf(this.target)&&(this.lastReportedSize=r),this.lastReportedSize.inlineSize!==r.inlineSize||this.lastReportedSize.blockSize!==r.blockSize},e}(),Nf=function(){function e(r,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=r,this.callback=t}return e}(),qr=new WeakMap,$a=function(e,r){for(var t=0;t<e.length;t+=1)if(e[t].target===r)return t;return-1},Ur=function(){function e(){}return e.connect=function(r,t){var n=new Nf(r,t);qr.set(r,n)},e.observe=function(r,t,n){var a=qr.get(r),u=a.observationTargets.length===0;$a(a.observationTargets,t)<0&&(u&&ar.push(a),a.observationTargets.push(new Rf(t,n&&n.box)),Ta(1),Lt.schedule())},e.unobserve=function(r,t){var n=qr.get(r),a=$a(n.observationTargets,t),u=n.observationTargets.length===1;a>=0&&(u&&ar.splice(ar.indexOf(n),1),n.observationTargets.splice(a,1),Ta(-1))},e.disconnect=function(r){var t=this,n=qr.get(r);n.observationTargets.slice().forEach(function(a){return t.unobserve(r,a.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),If=function(){function e(r){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof r!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ur.connect(this,r)}return e.prototype.observe=function(r,t){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!wa(r))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ur.observe(this,r,t)},e.prototype.unobserve=function(r){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!wa(r))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ur.unobserve(this,r)},e.prototype.disconnect=function(){Ur.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),qe={};Object.defineProperty(qe,"__esModule",{value:!0});var Mf=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Ot={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Lf={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Mf?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},ju={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var Gr=1;Gr<20;Gr++)ju["f"+Gr]=111+Gr;function ft(e,r,t){r&&!("byKey"in r)&&(t=r,r=null),Array.isArray(e)||(e=[e]);var n=e.map(function(s){return Ru(s,r)}),a=function(i){return n.some(function(f){return Nu(f,i)})},u=t==null?a:a(t);return u}function kf(e,r){return ft(e,r)}function Wf(e,r){return ft(e,{byKey:!0},r)}function Ru(e,r){var t=r&&r.byKey,n={};e=e.replace("++","+add");var a=e.split("+"),u=a.length;for(var s in Ot)n[Ot[s]]=!1;var i=!0,f=!1,c=void 0;try{for(var v=a[Symbol.iterator](),d;!(i=(d=v.next()).done);i=!0){var D=d.value,p=D.endsWith("?")&&D.length>1;p&&(D=D.slice(0,-1));var h=cn(D),l=Ot[h];(u===1||!l)&&(t?n.key=h:n.which=Iu(D)),l&&(n[l]=p?null:!0)}}catch(B){f=!0,c=B}finally{try{!i&&v.return&&v.return()}finally{if(f)throw c}}return n}function Nu(e,r){for(var t in e){var n=e[t],a=void 0;if(n!=null&&(t==="key"&&r.key!=null?a=r.key.toLowerCase():t==="which"?a=n===91&&r.which===93?91:r.which:a=r[t],!(a==null&&n===!1)&&a!==n))return!1}return!0}function Iu(e){e=cn(e);var r=ju[e]||e.toUpperCase().charCodeAt(0);return r}function cn(e){return e=e.toLowerCase(),e=Lf[e]||e,e}qe.default=ft;var xt=qe.isHotkey=ft;qe.isCodeHotkey=kf;qe.isKeyHotkey=Wf;qe.parseHotkey=Ru;qe.compareHotkey=Nu;qe.toKeyCode=Iu;qe.toKeyName=cn;function ct(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function zf(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function dr(e,r){if(e==null)return{};var t=zf(e,r),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var vn=x.createContext(null),_e=()=>{var e=x.useContext(vn);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},Mu=parseInt(J.version.split(".")[0],10),Vf=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ja=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),ye=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Tr=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Or=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),Kf=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Lu=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),Hf=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),qf=ye&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Uf=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),Gf=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),Yf=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),Zr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ue=(!Hf||!qf)&&!Kf&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",dn=new WeakMap,hn=new WeakMap,ku=new WeakMap,Qr=new WeakMap,kt=new WeakMap,Ir=new WeakMap,sr=new WeakMap,Wt=new WeakMap,vt=new WeakMap,zt=new WeakMap,tr=new WeakMap,nr=new WeakMap,$r=new WeakMap,Vt=new WeakMap,gn=new WeakMap,Ie=new WeakMap,Ke=new WeakMap,we=new WeakMap,Ge=new WeakMap,Ye=new WeakMap,Wu=new WeakMap,hr=Symbol("placeholder"),zu=Symbol("mark-placeholder"),Jf=globalThis.Text,Dn=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,Xf=e=>Je(e)&&e.nodeType===8,Pe=e=>Je(e)&&e.nodeType===1,Je=e=>{var r=Dn(e);return!!r&&e instanceof r.Node},Kt=e=>{var r=e&&e.anchorNode&&Dn(e.anchorNode);return!!r&&e instanceof r.Selection},Vu=e=>Je(e)&&e.nodeType===3,_f=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,Zf=e=>{var[r,t]=e;if(Pe(r)&&r.childNodes.length){var n=t===r.childNodes.length,a=n?t-1:t;for([r,a]=Ku(r,a,n?"backward":"forward"),n=a<t;Pe(r)&&r.childNodes.length;){var u=n?r.childNodes.length-1:0;r=ec(r,u,n?"backward":"forward")}t=n&&r.textContent!=null?r.textContent.length:0}return[r,t]},Qf=e=>{for(var r=e&&e.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},Ku=(e,r,t)=>{for(var{childNodes:n}=e,a=n[r],u=r,s=!1,i=!1;(Xf(a)||Pe(a)&&a.childNodes.length===0||Pe(a)&&a.getAttribute("contenteditable")==="false")&&!(s&&i);){if(u>=n.length){s=!0,u=r-1,t="backward";continue}if(u<0){i=!0,u=r+1,t="forward";continue}a=n[u],r=u,u+=t==="forward"?1:-1}return[a,r]},ec=(e,r,t)=>{var[n]=Ku(e,r,t);return n},Hu=e=>{var r="";if(Vu(e)&&e.nodeValue)return e.nodeValue;if(Pe(e)){for(var t of Array.from(e.childNodes))r+=Hu(t);var n=getComputedStyle(e).getPropertyValue("display");(n==="block"||n==="list"||e.tagName==="BR")&&(r+=`
`)}return r},rc=/data-slate-fragment="(.+?)"/m,tc=e=>{var r=e.getData("text/html"),[,t]=r.match(rc)||[];return t},Cn=(e,r,t)=>{var{target:n}=r;if(Pe(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:a}=F.getWindow(e);if(a.contains(n))return F.hasDOMNode(e,n,{editable:!0});var u=t.find(s=>{var{addedNodes:i,removedNodes:f}=s;for(var c of i)if(c===n||c.contains(n))return!0;for(var v of f)if(v===n||v.contains(n))return!0});return!u||u===r?!1:Cn(e,u,t)},nc=0;class ac{constructor(){this.id="".concat(nc++)}}var F={androidPendingDiffs:e=>we.get(e),androidScheduleFlush:e=>{var r;(r=gn.get(e))===null||r===void 0||r()},blur:e=>{var r=F.toDOMNode(e,e),t=F.findDocumentOrShadowRoot(e);tr.set(e,!1),t.activeElement===r&&r.blur()},deselect:e=>{var{selection:r}=e,t=F.findDocumentOrShadowRoot(e),n=t.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),r&&O.deselect(e)},findDocumentOrShadowRoot:e=>{var r=F.toDOMNode(e,e),t=r.getRootNode();return(t instanceof Document||t instanceof ShadowRoot)&&t.getSelection!=null?t:r.ownerDocument},findEventRange:(e,r)=>{"nativeEvent"in r&&(r=r.nativeEvent);var{clientX:t,clientY:n,target:a}=r;if(t==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(r));var u=F.toSlateNode(e,r.target),s=F.findPath(e,u);if(z.isElement(u)&&o.isVoid(e,u)){var i=a.getBoundingClientRect(),f=e.isInline(u)?t-i.left<i.left+i.width-t:n-i.top<i.top+i.height-n,c=o.point(e,s,{edge:f?"start":"end"}),v=f?o.before(e,c):o.after(e,c);if(v){var d=o.range(e,v);return d}}var D,{document:p}=F.getWindow(e);if(p.caretRangeFromPoint)D=p.caretRangeFromPoint(t,n);else{var h=p.caretPositionFromPoint(t,n);h&&(D=p.createRange(),D.setStart(h.offsetNode,h.offset),D.setEnd(h.offsetNode,h.offset))}if(!D)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(r));var l=F.toSlateRange(e,D,{exactMatch:!1,suppressThrow:!1});return l},findKey:(e,r)=>{var t=Wt.get(r);return t||(t=new ac,Wt.set(r,t)),t},findPath:(e,r)=>{for(var t=[],n=r;;){var a=hn.get(n);if(a==null){if(o.isEditor(n))return t;break}var u=dn.get(n);if(u==null)break;t.unshift(u),n=a}throw new Error("Unable to find the path for Slate node: ".concat(De.stringify(r)))},focus:e=>{var r=F.toDOMNode(e,e),t=F.findDocumentOrShadowRoot(e);tr.set(e,!0),t.activeElement!==r&&r.focus({preventScroll:!0})},getWindow:e=>{var r=ku.get(e);if(!r)throw new Error("Unable to find a host window element for this editor");return r},hasDOMNode:function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:a=!1}=n,u=F.toDOMNode(r,r),s;try{s=Pe(t)?t:t.parentElement}catch(i){if(!i.message.includes('Permission denied to access property "nodeType"'))throw i}return s?s.closest("[data-slate-editor]")===u&&(!a||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===u||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,r)=>Je(r)&&F.hasDOMNode(e,r,{editable:!0}),hasRange:(e,r)=>{var{anchor:t,focus:n}=r;return o.hasPath(e,t.path)&&o.hasPath(e,n.path)},hasSelectableTarget:(e,r)=>F.hasEditableTarget(e,r)||F.isTargetInsideNonReadonlyVoid(e,r),hasTarget:(e,r)=>Je(r)&&F.hasDOMNode(e,r),insertData:(e,r)=>{e.insertData(r)},insertFragmentData:(e,r)=>e.insertFragmentData(r),insertTextData:(e,r)=>e.insertTextData(r),isComposing:e=>!!nr.get(e),isFocused:e=>!!tr.get(e),isReadOnly:e=>!!zt.get(e),isTargetInsideNonReadonlyVoid:(e,r)=>{if(zt.get(e))return!1;var t=F.hasTarget(e,r)&&F.toSlateNode(e,r);return z.isElement(t)&&o.isVoid(e,t)},setFragmentData:(e,r,t)=>e.setFragmentData(r,t),toDOMNode:(e,r)=>{var t=vt.get(e),n=o.isEditor(r)?Qr.get(e):t==null?void 0:t.get(F.findKey(e,r));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(De.stringify(r)));return n},toDOMPoint:(e,r)=>{var[t]=o.node(e,r.path),n=F.toDOMNode(e,t),a;o.void(e,{at:r})&&(r={path:r.path,offset:0});for(var u="[data-slate-string], [data-slate-zero-width]",s=Array.from(n.querySelectorAll(u)),i=0,f=0;f<s.length;f++){var c=s[f],v=c.childNodes[0];if(!(v==null||v.textContent==null)){var{length:d}=v.textContent,D=c.getAttribute("data-slate-length"),p=D==null?d:parseInt(D,10),h=i+p,l=s[f+1];if(r.offset===h&&l!==null&&l!==void 0&&l.hasAttribute("data-slate-mark-placeholder")){var B,m=l.childNodes[0];a=[m instanceof Jf?m:l,(B=l.textContent)!==null&&B!==void 0&&B.startsWith("\uFEFF")?1:0];break}if(r.offset<=h){var b=Math.min(d,Math.max(0,r.offset-i));a=[v,b];break}i=h}}if(!a)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(De.stringify(r)));return a},toDOMRange:(e,r)=>{var{anchor:t,focus:n}=r,a=E.isBackward(r),u=F.toDOMPoint(e,t),s=E.isCollapsed(r)?u:F.toDOMPoint(e,n),i=F.getWindow(e),f=i.document.createRange(),[c,v]=a?s:u,[d,D]=a?u:s,p=Pe(c)?c:c.parentElement,h=!!p.getAttribute("data-slate-zero-width"),l=Pe(d)?d:d.parentElement,B=!!l.getAttribute("data-slate-zero-width");return f.setStart(c,h?1:v),f.setEnd(d,B?1:D),f},toSlateNode:(e,r)=>{var t=Pe(r)?r:r.parentElement;t&&!t.hasAttribute("data-slate-node")&&(t=t.closest("[data-slate-node]"));var n=t?Ir.get(t):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(t));return n},toSlatePoint:(e,r,t)=>{var{exactMatch:n,suppressThrow:a}=t,[u,s]=n?r:Zf(r),i=u.parentNode,f=null,c=0;if(i){var v,d,D=F.toDOMNode(e,e),p=i.closest('[data-slate-void="true"]'),h=p&&D.contains(p)?p:null,l=i.closest("[data-slate-leaf]"),B=null;if(l){if(f=l.closest('[data-slate-node="text"]'),f){var m=F.getWindow(e),b=m.document.createRange();b.setStart(f,0),b.setEnd(u,s);var y=b.cloneContents(),j=[...Array.prototype.slice.call(y.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(y.querySelectorAll("[contenteditable=false]"))];j.forEach(T=>{if(ye&&!n&&T.hasAttribute("data-slate-zero-width")&&T.textContent.length>0&&T.textContext!=="\uFEFF"){T.textContent.startsWith("\uFEFF")&&(T.textContent=T.textContent.slice(1));return}T.parentNode.removeChild(T)}),c=y.textContent.length,B=f}}else if(h){for(var L=h.querySelectorAll("[data-slate-leaf]"),k=0;k<L.length;k++){var M=L[k];if(F.hasDOMNode(e,M)){l=M;break}}l?(f=l.closest('[data-slate-node="text"]'),B=l,c=B.textContent.length,B.querySelectorAll("[data-slate-zero-width]").forEach(T=>{c-=T.textContent.length})):c=1}B&&c===B.textContent.length&&ye&&B.getAttribute("data-slate-zero-width")==="z"&&(v=B.textContent)!==null&&v!==void 0&&v.startsWith("\uFEFF")&&(i.hasAttribute("data-slate-zero-width")||Tr&&(d=B.textContent)!==null&&d!==void 0&&d.endsWith(`

`))&&c--}if(ye&&!f&&!n){var H=i.hasAttribute("data-slate-node")?i:i.closest("[data-slate-node]");if(H&&F.hasDOMNode(e,H,{editable:!0})){var $=F.toSlateNode(e,H),{path:W,offset:U}=o.start(e,F.findPath(e,$));return H.querySelector("[data-slate-leaf]")||(U=s),{path:W,offset:U}}}if(!f){if(a)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(r))}var A=F.toSlateNode(e,f),S=F.findPath(e,A);return{path:S,offset:c}},toSlateRange:(e,r,t)=>{var{exactMatch:n,suppressThrow:a}=t,u=Kt(r)?r.anchorNode:r.startContainer,s,i,f,c,v;if(u)if(Kt(r)){if(Tr&&r.rangeCount>1){f=r.focusNode;var d=r.getRangeAt(0),D=r.getRangeAt(r.rangeCount-1);if(f instanceof HTMLTableRowElement&&d.startContainer instanceof HTMLTableRowElement&&D.startContainer instanceof HTMLTableRowElement){let L=function(k){return k.childElementCount>0?L(k.children[0]):k};var p=d.startContainer,h=D.startContainer,l=L(p.children[d.startOffset]),B=L(h.children[D.startOffset]);c=0,B.childNodes.length>0?s=B.childNodes[0]:s=B,l.childNodes.length>0?f=l.childNodes[0]:f=l,B instanceof HTMLElement?i=B.innerHTML.length:i=0}else d.startContainer===f?(s=D.endContainer,i=D.endOffset,c=d.startOffset):(s=d.startContainer,i=d.endOffset,c=D.startOffset)}else s=r.anchorNode,i=r.anchorOffset,f=r.focusNode,c=r.focusOffset;Lu&&Qf(s)||Tr?v=r.anchorNode===r.focusNode&&r.anchorOffset===r.focusOffset:v=r.isCollapsed}else s=r.startContainer,i=r.startOffset,f=r.endContainer,c=r.endOffset,v=r.collapsed;if(s==null||f==null||i==null||c==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(r));if("getAttribute"in f&&f.getAttribute("contenteditable")==="false"&&f.getAttribute("data-slate-void")!=="true"){var m;f=s,c=((m=s.textContent)===null||m===void 0?void 0:m.length)||0}var b=F.toSlatePoint(e,[s,i],{exactMatch:n,suppressThrow:a});if(!b)return null;var y=v?b:F.toSlatePoint(e,[f,c],{exactMatch:n,suppressThrow:a});if(!y)return null;var j={anchor:b,focus:y};return E.isExpanded(j)&&E.isForward(j)&&Pe(f)&&o.void(e,{at:j.focus,mode:"highest"})&&(j=o.unhangRange(e,j,{voids:!0})),j}};function uc(e,r){var{path:t,diff:n}=r;if(!o.hasPath(e,t))return!1;var a=R.get(e,t);if(!V.isText(a))return!1;if(n.start!==a.text.length||n.text.length===0)return a.text.slice(n.start,n.start+n.text.length)===n.text;var u=g.next(t);if(!o.hasPath(e,u))return!1;var s=R.get(e,u);return V.isText(s)&&s.text.startsWith(n.text)}function qu(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return t.reduce((a,u)=>a.slice(0,u.start)+u.text+a.slice(u.end),e)}function sc(e,r){for(var t=Math.min(e.length,r.length),n=0;n<t;n++)if(e.charAt(n)!==r.charAt(n))return n;return t}function ic(e,r,t){for(var n=Math.min(e.length,r.length,t),a=0;a<n;a++)if(e.charAt(e.length-a-1)!==r.charAt(r.length-a-1))return a;return n}function Uu(e,r){var{start:t,end:n,text:a}=r,u=e.slice(t,n),s=sc(u,a),i=Math.min(u.length-s,a.length-s),f=ic(u,a,i),c={start:t+s,end:n-f,text:a.slice(s,a.length-f)};return c.start===c.end&&c.text.length===0?null:c}function oc(e,r,t){var n=Math.min(r.start,t.start),a=Math.max(0,Math.min(r.start+r.text.length,t.end)-t.start),u=qu(e,r,t),s=Math.max(t.start+t.text.length,r.start+r.text.length+(r.start+r.text.length>t.start?t.text.length:0)-a),i=u.slice(n,s),f=Math.max(r.end,t.end-r.text.length+(r.end-r.start));return Uu(e,{start:n,end:f,text:i})}function lc(e){var{path:r,diff:t}=e;return{anchor:{path:r,offset:t.start},focus:{path:r,offset:t.end}}}function Ht(e,r){var{path:t,offset:n}=r;if(!o.hasPath(e,t))return null;var a=R.get(e,t);if(!V.isText(a))return null;var u=o.above(e,{match:i=>z.isElement(i)&&o.isBlock(e,i),at:t});if(!u)return null;for(;n>a.text.length;){var s=o.next(e,{at:t,match:V.isText});if(!s||!g.isDescendant(s[1],u[1]))return null;n-=a.text.length,a=s[0],t=s[1]}return{path:t,offset:n}}function Ra(e,r){var t=Ht(e,r.anchor);if(!t)return null;if(E.isCollapsed(r))return{anchor:t,focus:t};var n=Ht(e,r.focus);return n?{anchor:t,focus:n}:null}function qt(e,r,t){var n=we.get(e),a=n==null?void 0:n.find(v=>{var{path:d}=v;return g.equals(d,r.path)});if(!a||r.offset<=a.diff.start)return _.transform(r,t,{affinity:"backward"});var{diff:u}=a;if(r.offset<=u.start+u.text.length){var s={path:r.path,offset:u.start},i=_.transform(s,t,{affinity:"backward"});return i?{path:i.path,offset:i.offset+r.offset-u.start}:null}var f={path:r.path,offset:r.offset-u.text.length+u.end-u.start},c=_.transform(f,t,{affinity:"backward"});return c?t.type==="split_node"&&g.equals(t.path,r.path)&&f.offset<t.position&&u.start<t.position?c:{path:c.path,offset:c.offset+u.text.length-u.end+u.start}:null}function Na(e,r,t){var n=qt(e,r.anchor,t);if(!n)return null;if(E.isCollapsed(r))return{anchor:n,focus:n};var a=qt(e,r.focus,t);return a?{anchor:n,focus:a}:null}function fc(e,r){var{path:t,diff:n,id:a}=e;switch(r.type){case"insert_text":return!g.equals(r.path,t)||r.offset>=n.end?e:r.offset<=n.start?{diff:{start:r.text.length+n.start,end:r.text.length+n.end,text:n.text},id:a,path:t}:{diff:{start:n.start,end:n.end+r.text.length,text:n.text},id:a,path:t};case"remove_text":return!g.equals(r.path,t)||r.offset>=n.end?e:r.offset+r.text.length<=n.start?{diff:{start:n.start-r.text.length,end:n.end-r.text.length,text:n.text},id:a,path:t}:{diff:{start:n.start,end:n.end-r.text.length,text:n.text},id:a,path:t};case"split_node":return!g.equals(r.path,t)||r.position>=n.end?{diff:n,id:a,path:g.transform(t,r,{affinity:"backward"})}:r.position>n.start?{diff:{start:n.start,end:Math.min(r.position,n.end),text:n.text},id:a,path:t}:{diff:{start:n.start-r.position,end:n.end-r.position,text:n.text},id:a,path:g.transform(t,r,{affinity:"forward"})};case"merge_node":return g.equals(r.path,t)?{diff:{start:n.start+r.position,end:n.end+r.position,text:n.text},id:a,path:g.transform(t,r)}:{diff:n,id:a,path:g.transform(t,r)}}var u=g.transform(t,r);return u?{diff:n,path:u,id:a}:null}function Ia(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Yr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ia(Object(t),!0).forEach(function(n){ct(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ia(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var cc=25,vc=200,dc=function(){},hc=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function gc(e){var{editor:r,scheduleOnDOMSelectionChange:t,onDOMSelectionChange:n}=e,a=!1,u=null,s=null,i=null,f=0,c=!1,v=()=>{var A=Ye.get(r);if(Ye.delete(r),A){var{selection:S}=r,T=Ra(r,A);T&&(!S||!E.equals(T,S))&&O.select(r,T)}},d=()=>{var A=Ge.get(r);if(Ge.delete(r),!!A){if(A.at){var S=_.isPoint(A.at)?Ht(r,A.at):Ra(r,A.at);if(!S)return;var T=o.range(r,S);(!r.selection||!E.equals(r.selection,T))&&O.select(r,S)}A.run()}},D=()=>{if(s&&(clearTimeout(s),s=null),i&&(clearTimeout(i),i=null),!j()&&!y()){v();return}a||(a=!0,setTimeout(()=>a=!1)),y()&&(a="action");var A=r.selection&&o.rangeRef(r,r.selection,{affinity:"forward"});Ke.set(r,r.marks),dc("flush",Ge.get(r),we.get(r));for(var S=j(),T;T=(P=we.get(r))===null||P===void 0?void 0:P[0];){var P,K,Z=Ie.get(r);Z!==void 0&&(Ie.delete(r),r.marks=Z),Z&&c===!1&&(c=null);var se=lc(T);(!r.selection||!E.equals(r.selection,se))&&O.select(r,se),T.diff.text?o.insertText(r,T.diff.text):o.deleteFragment(r),we.set(r,(K=we.get(r))===null||K===void 0?void 0:K.filter(ve=>{var{id:ue}=ve;return ue!==T.id})),uc(r,T)||(S=!1,Ge.delete(r),Ke.delete(r),a="action",Ye.delete(r),t.cancel(),n.cancel(),A==null||A.unref())}var Y=A==null?void 0:A.unref();if(Y&&!Ye.get(r)&&(!r.selection||!E.equals(Y,r.selection))&&O.select(r,Y),y()){d();return}S&&t(),t.flush(),n.flush(),v();var ee=Ke.get(r);Ke.delete(r),ee!==void 0&&(r.marks=ee,r.onChange())},p=A=>{u&&clearTimeout(u),u=setTimeout(()=>{nr.set(r,!1),D()},cc)},h=A=>{nr.set(r,!0),u&&(clearTimeout(u),u=null)},l=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=kt.get(r);if(T){if(j()||S){T.style.display="none";return}T.style.removeProperty("display")}},B=(A,S)=>{var T,P=(T=we.get(r))!==null&&T!==void 0?T:[];we.set(r,P);var K=R.leaf(r,A),Z=P.findIndex(ee=>g.equals(ee.path,A));if(Z<0){var se=Uu(K.text,S);se&&P.push({path:A,diff:S,id:f++}),l();return}var Y=oc(K.text,P[Z].diff,S);if(!Y){P.splice(Z,1),l();return}P[Z]=Yr(Yr({},P[Z]),{},{diff:Y})},m=function(S){var{at:T}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c=!1,Ye.delete(r),t.cancel(),n.cancel(),y()&&D(),Ge.set(r,{at:T,run:S}),i=setTimeout(D)},b=A=>{var S;s&&(clearTimeout(s),s=null);var{inputType:T}=A,P=null,K=A.dataTransfer||A.data||void 0;c!==!1&&T!=="insertText"&&T!=="insertCompositionText"&&(c=!1);var[Z]=A.getTargetRanges();Z&&(P=F.toSlateRange(r,Z,{exactMatch:!1,suppressThrow:!0}));var se=F.getWindow(r),Y=se.getSelection();if(!P&&Y&&(Z=Y,P=F.toSlateRange(r,Y,{exactMatch:!1,suppressThrow:!0})),P=(S=P)!==null&&S!==void 0?S:r.selection,!!P){var ee=!0;if(T.startsWith("delete")){if(E.isExpanded(P)){var[ve,ue]=E.edges(P),be=R.leaf(r,ve.path);if(be.text.length===ve.offset&&ue.offset===0){var C=o.next(r,{at:ve.path,match:V.isText});C&&g.equals(C[1],ue.path)&&(P={anchor:ue,focus:ue})}}var N=T.endsWith("Backward")?"backward":"forward",[w,I]=E.edges(P),[X,q]=o.leaf(r,w.path),Q={text:"",start:w.offset,end:I.offset},ae=we.get(r),ne=ae==null?void 0:ae.find(Re=>g.equals(Re.path,q)),de=ne?[ne.diff,Q]:[Q],re=qu(X.text,...de);if(re.length===0&&(ee=!1),E.isExpanded(P)){if(ee&&g.equals(P.anchor.path,P.focus.path)){var me={path:P.anchor.path,offset:w.offset},Be=o.range(r,me,me);return M(Be),B(P.anchor.path,{text:"",end:I.offset,start:w.offset})}return m(()=>o.deleteFragment(r,{direction:N}),{at:P})}}switch(T){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return m(()=>o.deleteFragment(r),{at:P});case"deleteContent":case"deleteContentForward":{var{anchor:ge}=P;if(ee&&E.isCollapsed(P)){var Te=R.leaf(r,ge.path);if(ge.offset<Te.text.length)return B(ge.path,{text:"",start:ge.offset,end:ge.offset+1})}return m(()=>o.deleteForward(r),{at:P})}case"deleteContentBackward":{var Le,{anchor:Fe}=P,$e=Kt(Z)?Z.isCollapsed:!!((Le=Z)!==null&&Le!==void 0&&Le.collapsed);return ee&&$e&&E.isCollapsed(P)&&Fe.offset>0?B(Fe.path,{text:"",start:Fe.offset-1,end:Fe.offset}):m(()=>o.deleteBackward(r),{at:P})}case"deleteEntireSoftLine":return m(()=>{o.deleteBackward(r,{unit:"line"}),o.deleteForward(r,{unit:"line"})},{at:P});case"deleteHardLineBackward":return m(()=>o.deleteBackward(r,{unit:"block"}),{at:P});case"deleteSoftLineBackward":return m(()=>o.deleteBackward(r,{unit:"line"}),{at:P});case"deleteHardLineForward":return m(()=>o.deleteForward(r,{unit:"block"}),{at:P});case"deleteSoftLineForward":return m(()=>o.deleteForward(r,{unit:"line"}),{at:P});case"deleteWordBackward":return m(()=>o.deleteBackward(r,{unit:"word"}),{at:P});case"deleteWordForward":return m(()=>o.deleteForward(r,{unit:"word"}),{at:P});case"insertLineBreak":return m(()=>o.insertSoftBreak(r),{at:P});case"insertParagraph":return m(()=>o.insertBreak(r),{at:P});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(hc(K))return m(()=>F.insertData(r,K),{at:P});var le=K??"";if(Ie.get(r)&&(le=le.replace("\uFEFF","")),T==="insertText"&&/.*\n.*\n$/.test(le)&&(le=le.slice(0,-1)),le.includes(`
`))return m(()=>{var Re=le.split(`
`);Re.forEach((Ze,Wr)=>{Ze&&o.insertText(r,Ze),Wr!==Re.length-1&&o.insertSoftBreak(r)})},{at:P});if(g.equals(P.anchor.path,P.focus.path)){var[Oe,ke]=E.edges(P),te={start:Oe.offset,end:ke.offset,text:le};if(le&&c&&T==="insertCompositionText"){var je=c.start+c.text.search(/\S|$/),kr=te.start+te.text.search(/\S|$/);kr===je+1&&te.end===c.start+c.text.length?(te.start-=1,c=null,W()):c=!1}else T==="insertText"?c===null?c=te:c&&E.isCollapsed(P)&&c.end+c.text.length===Oe.offset?c=Yr(Yr({},c),{},{text:c.text+le}):c=!1:c=!1;if(ee){B(Oe.path,te);return}}return m(()=>o.insertText(r,le),{at:P})}}}},y=()=>!!Ge.get(r),j=()=>{var A;return!!((A=we.get(r))!==null&&A!==void 0&&A.length)},L=()=>y()||j(),k=()=>a,M=A=>{Ye.set(r,A),s&&(clearTimeout(s),s=null);var{selection:S}=r;if(A){var T=!S||!g.equals(S.anchor.path,A.anchor.path),P=!S||!g.equals(S.anchor.path.slice(0,-1),A.anchor.path.slice(0,-1));(T&&c||P)&&(c=!1),(T||j())&&(s=setTimeout(D,vc))}},H=()=>{(y()||!j())&&D()},$=A=>{j()||(l(!0),setTimeout(l))},W=()=>{y()||(i=setTimeout(D))},U=A=>{if(!(j()||y())&&A.some(T=>Cn(r,T,A))){var S;(S=Wu.get(r))===null||S===void 0||S()}};return{flush:D,scheduleFlush:W,hasPendingDiffs:j,hasPendingAction:y,hasPendingChanges:L,isFlushing:k,handleUserSelect:M,handleCompositionEnd:p,handleCompositionStart:h,handleDOMBeforeInput:b,handleKeyDown:$,handleDomMutations:U,handleInput:H}}function Dc(){var e=x.useRef(!1);return x.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var Mr=Zr?x.useLayoutEffect:x.useEffect;function Cc(e,r,t){var[n]=x.useState(()=>new MutationObserver(r));Mr(()=>{n.takeRecords()}),x.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(e.current,t),()=>n.disconnect()},[n,e,t])}var pc=["node"];function Ma(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function mc(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ma(Object(t),!0).forEach(function(n){ct(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ma(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Bc={subtree:!0,childList:!0,characterData:!0},Ec=ye?e=>{var{node:r}=e,t=dr(e,pc);if(!ye)return null;var n=_e(),a=Dc(),[u]=x.useState(()=>gc(mc({editor:n},t)));return Cc(r,u.handleDomMutations,Bc),gn.set(n,u.scheduleFlush),a&&u.flush(),u}:()=>null,Ac=["anchor","focus"],bc=["anchor","focus"],Fc=(e,r)=>Object.keys(e).length===Object.keys(r).length&&Object.keys(e).every(t=>r.hasOwnProperty(t)&&e[t]===r[t]),Gu=(e,r)=>{var t=dr(e,Ac),n=dr(r,bc);return e[hr]===r[hr]&&Fc(t,n)},wc=(e,r)=>{if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++){var n=e[t],a=r[t];if(!E.equals(n,a)||!Gu(n,a))return!1}return!0},yc=(e,r)=>{if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++){var n=e[t],a=r[t];if(n.anchor.offset!==a.anchor.offset||n.focus.offset!==a.focus.offset||!Gu(n,a))return!1}return!0},Oc=e=>{var{isLast:r,leaf:t,parent:n,text:a}=e,u=_e(),s=F.findPath(u,a),i=g.parent(s),f=t[zu]===!0;return u.isVoid(n)?J.createElement(St,{length:R.string(n).length}):t.text===""&&n.children[n.children.length-1]===a&&!u.isInline(n)&&o.string(u,i)===""?J.createElement(St,{isLineBreak:!0,isMarkPlaceholder:f}):t.text===""?J.createElement(St,{isMarkPlaceholder:f}):r&&t.text.slice(-1)===`
`?J.createElement(La,{isTrailing:!0,text:t.text}):J.createElement(La,{text:t.text})},La=e=>{var{text:r,isTrailing:t=!1}=e,n=x.useRef(null),a=()=>"".concat(r??"").concat(t?`
`:""),[u]=x.useState(a);return Mr(()=>{var s=a();n.current&&n.current.textContent!==s&&(n.current.textContent=s)}),J.createElement(xc,{ref:n},u)},xc=x.memo(x.forwardRef((e,r)=>J.createElement("span",{"data-slate-string":!0,ref:r},e.children))),St=e=>{var{length:r=0,isLineBreak:t=!1,isMarkPlaceholder:n=!1}=e,a={"data-slate-zero-width":t?"n":"z","data-slate-length":r};return n&&(a["data-slate-mark-placeholder"]=!0),J.createElement("span",Object.assign({},a),!ye||!t?"\uFEFF":null,t?J.createElement("br",null):null)};function Sc(e,r){e.current&&(e.current.disconnect(),r&&(e.current=null))}function ka(e){e.current&&(clearTimeout(e.current),e.current=null)}var Pc=e=>{var{leaf:r,isLast:t,text:n,parent:a,renderPlaceholder:u,renderLeaf:s=b=>J.createElement($c,Object.assign({},b))}=e,i=_e(),f=x.useRef(null),c=x.useRef(null),[v,d]=x.useState(!1),D=x.useRef(null),p=x.useCallback(b=>{if(Sc(f,b==null),b==null){var y;kt.delete(i),(y=r.onPlaceholderResize)===null||y===void 0||y.call(r,null)}else{if(kt.set(i,b),!f.current){var j=window.ResizeObserver||If;f.current=new j(()=>{var L;(L=r.onPlaceholderResize)===null||L===void 0||L.call(r,b)})}f.current.observe(b),c.current=b}},[c,r,i]),h=J.createElement(Oc,{isLast:t,leaf:r,parent:a,text:n}),l=r[hr];if(x.useEffect(()=>(l?D.current||(D.current=setTimeout(()=>{d(!0),D.current=null},300)):(ka(D),d(!1)),()=>ka(D)),[l,d]),l&&v){var B={children:r.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Or?"inherit":void 0},contentEditable:!1,ref:p}};h=J.createElement(J.Fragment,null,u(B),h)}var m={"data-slate-leaf":!0};return s({attributes:m,children:h,leaf:r,text:n})},Tc=J.memo(Pc,(e,r)=>r.parent===e.parent&&r.isLast===e.isLast&&r.renderLeaf===e.renderLeaf&&r.renderPlaceholder===e.renderPlaceholder&&r.text===e.text&&V.equals(r.leaf,e.leaf)&&r.leaf[hr]===e.leaf[hr]),$c=e=>{var{attributes:r,children:t}=e;return J.createElement("span",Object.assign({},r),t)},jc=e=>{for(var{decorations:r,isLast:t,parent:n,renderPlaceholder:a,renderLeaf:u,text:s}=e,i=_e(),f=x.useRef(null),c=V.decorations(s,r),v=F.findKey(i,s),d=[],D=0;D<c.length;D++){var p=c[D];d.push(J.createElement(Tc,{isLast:t&&D===c.length-1,key:"".concat(v.id,"-").concat(D),renderPlaceholder:a,leaf:p,text:s,parent:n,renderLeaf:u}))}var h=x.useCallback(l=>{var B=vt.get(i);l?(B==null||B.set(v,l),sr.set(s,l),Ir.set(l,s)):(B==null||B.delete(v),sr.delete(s),f.current&&Ir.delete(f.current)),f.current=l},[f,i,v,s]);return J.createElement("span",{"data-slate-node":"text",ref:h},d)},Yu=J.memo(jc,(e,r)=>r.parent===e.parent&&r.isLast===e.isLast&&r.renderLeaf===e.renderLeaf&&r.renderPlaceholder===e.renderPlaceholder&&r.text===e.text&&yc(r.decorations,e.decorations)),Rc=e=>{var{decorations:r,element:t,renderElement:n=b=>J.createElement(Ic,Object.assign({},b)),renderPlaceholder:a,renderLeaf:u,selection:s}=e,i=_e(),f=kc(),c=i.isInline(t),v=F.findKey(i,t),d=x.useCallback(b=>{var y=vt.get(i);b?(y==null||y.set(v,b),sr.set(t,b),Ir.set(b,t)):(y==null||y.delete(v),sr.delete(t))},[i,v,t]),D=Xu({decorations:r,node:t,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:s}),p={"data-slate-node":"element",ref:d};if(c&&(p["data-slate-inline"]=!0),!c&&o.hasInlines(i,t)){var h=R.string(t),l=Cu(h);l==="rtl"&&(p.dir=l)}if(o.isVoid(i,t)){p["data-slate-void"]=!0,!f&&c&&(p.contentEditable=!1);var B=c?"span":"div",[[m]]=R.texts(t);D=J.createElement(B,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},J.createElement(Yu,{renderPlaceholder:a,decorations:[],isLast:!1,parent:t,text:m})),dn.set(m,0),hn.set(m,t)}return n({attributes:p,children:D,element:t})},Nc=J.memo(Rc,(e,r)=>e.element===r.element&&e.renderElement===r.renderElement&&e.renderLeaf===r.renderLeaf&&e.renderPlaceholder===r.renderPlaceholder&&wc(e.decorations,r.decorations)&&(e.selection===r.selection||!!e.selection&&!!r.selection&&E.equals(e.selection,r.selection))),Ic=e=>{var{attributes:r,children:t,element:n}=e,a=_e(),u=a.isInline(n)?"span":"div";return J.createElement(u,Object.assign({},r,{style:{position:"relative"}}),t)},Ju=x.createContext(()=>[]),Mc=()=>x.useContext(Ju),Lc=x.createContext(!1),Xu=e=>{for(var{decorations:r,node:t,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:s}=e,i=Mc(),f=_e(),c=F.findPath(f,t),v=[],d=z.isElement(t)&&!f.isInline(t)&&o.hasInlines(f,t),D=0;D<t.children.length;D++){var p=c.concat(D),h=t.children[D],l=F.findKey(f,h),B=o.range(f,p),m=s&&E.intersection(B,s),b=i([h,p]);for(var y of r){var j=E.intersection(y,B);j&&b.push(j)}z.isElement(h)?v.push(J.createElement(Lc.Provider,{key:"provider-".concat(l.id),value:!!m},J.createElement(Nc,{decorations:b,element:h,key:l.id,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:m}))):v.push(J.createElement(Yu,{decorations:b,key:l.id,isLast:d&&D===t.children.length-1,parent:t,renderPlaceholder:a,renderLeaf:u,text:h})),dn.set(h,D),hn.set(h,t)}return v},_u=x.createContext(!1),kc=()=>x.useContext(_u),Zu=x.createContext(null),Wc=()=>{var e=x.useContext(Zu);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:r}=e;return r};function zc(){var e=_e(),r=x.useRef(!1),t=x.useRef(0),n=x.useCallback(()=>{if(!r.current){r.current=!0;var a=F.getWindow(e);a.cancelAnimationFrame(t.current),t.current=a.requestAnimationFrame(()=>{r.current=!1})}},[e]);return x.useEffect(()=>()=>cancelAnimationFrame(t.current),[]),{receivedUserInput:r,onUserInput:n}}var Vc=3,Kc={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Hc={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},qc={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ce=e=>{var r=Kc[e],t=Hc[e],n=qc[e],a=r&&xt(r),u=t&&xt(t),s=n&&xt(n);return i=>!!(a&&a(i)||ja&&u&&u(i)||!ja&&s&&s(i))},he={isBold:ce("bold"),isCompose:ce("compose"),isMoveBackward:ce("moveBackward"),isMoveForward:ce("moveForward"),isDeleteBackward:ce("deleteBackward"),isDeleteForward:ce("deleteForward"),isDeleteLineBackward:ce("deleteLineBackward"),isDeleteLineForward:ce("deleteLineForward"),isDeleteWordBackward:ce("deleteWordBackward"),isDeleteWordForward:ce("deleteWordForward"),isExtendBackward:ce("extendBackward"),isExtendForward:ce("extendForward"),isExtendLineBackward:ce("extendLineBackward"),isExtendLineForward:ce("extendLineForward"),isItalic:ce("italic"),isMoveLineBackward:ce("moveLineBackward"),isMoveLineForward:ce("moveLineForward"),isMoveWordBackward:ce("moveWordBackward"),isMoveWordForward:ce("moveWordForward"),isRedo:ce("redo"),isSoftBreak:ce("insertSoftBreak"),isSplitBlock:ce("splitBlock"),isTransposeCharacter:ce("transposeCharacter"),isUndo:ce("undo")},Uc=(e,r)=>{var t=[],n=()=>{t=[]},a=s=>{if(r.current){var i=s.filter(f=>Cn(e,f,s));t.push(...i)}};function u(){t.length>0&&(t.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(i=>{s.target.insertBefore(i,s.nextSibling)}),s.addedNodes.forEach(i=>{s.target.removeChild(i)}))}),n())}return{registerMutations:a,restoreDOM:u,clear:n}},Gc={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class Qu extends x.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var r,{node:t}=this.props;if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(r=this.mutationObserver)===null||r===void 0||r.observe(t.current,Gc)}componentDidMount(){var{receivedUserInput:r}=this.props,t=this.context;this.manager=Uc(t,r),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var r,t,n,a=(r=this.mutationObserver)===null||r===void 0?void 0:r.takeRecords();if(a!=null&&a.length){var u;(u=this.manager)===null||u===void 0||u.registerMutations(a)}return(t=this.mutationObserver)===null||t===void 0||t.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var r;(r=this.manager)===null||r===void 0||r.clear(),this.observe()}componentWillUnmount(){var r;(r=this.mutationObserver)===null||r===void 0||r.disconnect()}render(){return this.props.children}}Qu.contextType=vn;var Yc=ye?Qu:e=>{var{children:r}=e;return J.createElement(J.Fragment,null,r)},Jc=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],Xc=["text"];function Wa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function fr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Wa(Object(t),!0).forEach(function(n){ct(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var _c=e=>J.createElement(J.Fragment,null,Xu(e)),Zc=e=>{var r=x.useCallback(C=>J.createElement(Qc,Object.assign({},C)),[]),{autoFocus:t,decorate:n=ev,onDOMBeforeInput:a,placeholder:u,readOnly:s=!1,renderElement:i,renderLeaf:f,renderPlaceholder:c=r,scrollSelectionIntoView:v=rv,style:d={},as:D="div",disableDefaultStyles:p=!1}=e,h=dr(e,Jc),l=Wc(),[B,m]=x.useState(!1),b=x.useRef(null),y=x.useRef([]),[j,L]=x.useState(),{onUserInput:k,receivedUserInput:M}=zc(),[,H]=x.useReducer(C=>C+1,0);Wu.set(l,H),zt.set(l,s);var $=x.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);x.useEffect(()=>{b.current&&t&&b.current.focus()},[t]);var W=x.useRef(),U=x.useMemo(()=>Mi(()=>{var C=W.current;if((ye||!F.isComposing(l))&&(!$.isUpdatingSelection||C!=null&&C.isFlushing())&&!$.isDraggingInternally){var N=F.findDocumentOrShadowRoot(l),{activeElement:w}=N,I=F.toDOMNode(l,l),X=N.getSelection();if(w===I?($.latestElement=w,tr.set(l,!0)):tr.delete(l),!X)return O.deselect(l);var{anchorNode:q,focusNode:Q}=X,ae=F.hasEditableTarget(l,q)||F.isTargetInsideNonReadonlyVoid(l,q),ne=F.hasEditableTarget(l,Q)||F.isTargetInsideNonReadonlyVoid(l,Q);if(ae&&ne){var de=F.toSlateRange(l,X,{exactMatch:!1,suppressThrow:!0});de&&(!F.isComposing(l)&&!(C!=null&&C.hasPendingChanges())&&!(C!=null&&C.isFlushing())?O.select(l,de):C==null||C.handleUserSelect(de))}s&&(!ae||!ne)&&O.deselect(l)}},100),[l,s,$]),A=x.useMemo(()=>Ti(U,0),[U]);W.current=Ec({node:b,onDOMSelectionChange:U,scheduleOnDOMSelectionChange:A}),Mr(()=>{var C,N,w;b.current&&(w=Dn(b.current))?(ku.set(l,w),Qr.set(l,b.current),sr.set(l,b.current),Ir.set(b.current,l)):sr.delete(l);var{selection:I}=l,X=F.findDocumentOrShadowRoot(l),q=X.getSelection();if(!(!q||!F.isFocused(l)||(C=W.current)!==null&&C!==void 0&&C.hasPendingAction())){var Q=re=>{var me=q.type!=="None";if(!(!I&&!me)){var Be=q.focusNode,ge;if(Tr&&q.rangeCount>1){var Te=q.getRangeAt(0),Le=q.getRangeAt(q.rangeCount-1);Te.startContainer===Be?ge=Le.endContainer:ge=Te.startContainer}else ge=q.anchorNode;var Fe=Qr.get(l),$e=!1;if(Fe.contains(ge)&&Fe.contains(Be)&&($e=!0),me&&$e&&I&&!re){var le=F.toSlateRange(l,q,{exactMatch:!0,suppressThrow:!0});if(le&&E.equals(le,I)){var Oe,ke;if(!$.hasMarkPlaceholder||(Oe=ge)!==null&&Oe!==void 0&&(ke=Oe.parentElement)!==null&&ke!==void 0&&ke.hasAttribute("data-slate-mark-placeholder"))return}}if(I&&!F.hasRange(l,I)){l.selection=F.toSlateRange(l,q,{exactMatch:!1,suppressThrow:!0});return}$.isUpdatingSelection=!0;var te=I&&F.toDOMRange(l,I);return te?(F.isComposing(l)&&!ye?q.collapseToEnd():E.isBackward(I)?q.setBaseAndExtent(te.endContainer,te.endOffset,te.startContainer,te.startOffset):q.setBaseAndExtent(te.startContainer,te.startOffset,te.endContainer,te.endOffset),v(l,te)):q.removeAllRanges(),te}};q.rangeCount<=1&&Q();var ae=((N=W.current)===null||N===void 0?void 0:N.isFlushing())==="action";if(!ye||!ae){setTimeout(()=>{$.isUpdatingSelection=!1});return}var ne=null,de=requestAnimationFrame(()=>{if(ae){var re=me=>{try{var Be=F.toDOMNode(l,l);Be.focus(),Q(me)}catch{}};re(),ne=setTimeout(()=>{re(!0),$.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(de),ne&&clearTimeout(ne)}}});var S=x.useCallback(C=>{if(k(),!s&&F.hasEditableTarget(l,C.target)&&!tv(C,a)){var N;if(W.current)return W.current.handleDOMBeforeInput(C);A.flush(),U.flush();var{selection:w}=l,{inputType:I}=C,X=C.dataTransfer||C.data||void 0,q=I==="insertCompositionText"||I==="deleteCompositionText";if(q&&F.isComposing(l))return;var Q=!1;if(I==="insertText"&&w&&E.isCollapsed(w)&&C.data&&C.data.length===1&&/[a-z ]/i.test(C.data)&&w.anchor.offset!==0){var ae,ne;Q=!0,l.marks&&(Q=!1);var{anchor:de}=w,[re,me]=F.toDOMPoint(l,de),Be=(ae=re.parentElement)===null||ae===void 0?void 0:ae.closest("a"),ge=F.getWindow(l);if(Q&&Be&&F.hasDOMNode(l,Be)){var Te,Le=ge==null?void 0:ge.document.createTreeWalker(Be,NodeFilter.SHOW_TEXT).lastChild();Le===re&&((Te=Le.textContent)===null||Te===void 0?void 0:Te.length)===me&&(Q=!1)}if(Q&&re.parentElement&&(ge==null||(ne=ge.getComputedStyle(re.parentElement))===null||ne===void 0?void 0:ne.whiteSpace)==="pre"){var Fe=o.above(l,{at:de.path,match:je=>z.isElement(je)&&o.isBlock(l,je)});Fe&&R.string(Fe[0]).includes("	")&&(Q=!1)}}if(!I.startsWith("delete")||I.startsWith("deleteBy")){var[$e]=C.getTargetRanges();if($e){var le=F.toSlateRange(l,$e,{exactMatch:!1,suppressThrow:!1});if(!w||!E.equals(w,le)){Q=!1;var Oe=!q&&l.selection&&o.rangeRef(l,l.selection);O.select(l,le),Oe&&$r.set(l,Oe)}}}if(q)return;if(Q||C.preventDefault(),w&&E.isExpanded(w)&&I.startsWith("delete")){var ke=I.endsWith("Backward")?"backward":"forward";o.deleteFragment(l,{direction:ke});return}switch(I){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{o.deleteFragment(l);break}case"deleteContent":case"deleteContentForward":{o.deleteForward(l);break}case"deleteContentBackward":{o.deleteBackward(l);break}case"deleteEntireSoftLine":{o.deleteBackward(l,{unit:"line"}),o.deleteForward(l,{unit:"line"});break}case"deleteHardLineBackward":{o.deleteBackward(l,{unit:"block"});break}case"deleteSoftLineBackward":{o.deleteBackward(l,{unit:"line"});break}case"deleteHardLineForward":{o.deleteForward(l,{unit:"block"});break}case"deleteSoftLineForward":{o.deleteForward(l,{unit:"line"});break}case"deleteWordBackward":{o.deleteBackward(l,{unit:"word"});break}case"deleteWordForward":{o.deleteForward(l,{unit:"word"});break}case"insertLineBreak":o.insertSoftBreak(l);break;case"insertParagraph":{o.insertBreak(l);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{I==="insertFromComposition"&&F.isComposing(l)&&(m(!1),nr.set(l,!1)),(X==null?void 0:X.constructor.name)==="DataTransfer"?F.insertData(l,X):typeof X=="string"&&(Q?y.current.push(()=>o.insertText(l,X)):o.insertText(l,X));break}}var te=(N=$r.get(l))===null||N===void 0?void 0:N.unref();$r.delete(l),te&&(!l.selection||!E.equals(l.selection,te))&&O.select(l,te)}},[l,U,k,a,s,A]),T=x.useCallback(C=>{C==null?(U.cancel(),A.cancel(),Qr.delete(l),sr.delete(l),b.current&&Ue&&b.current.removeEventListener("beforeinput",S)):Ue&&C.addEventListener("beforeinput",S),b.current=C},[U,A,l,S]);Mr(()=>{var C=F.getWindow(l);return C.document.addEventListener("selectionchange",A),()=>{C.document.removeEventListener("selectionchange",A)}},[A]);var P=n([l,[]]),K=u&&l.children.length===1&&Array.from(R.texts(l)).length===1&&R.string(l)===""&&!B,Z=x.useCallback(C=>{if(C&&K){var N;L((N=C.getBoundingClientRect())===null||N===void 0?void 0:N.height)}else L(void 0)},[K]);if(K){var se=o.start(l,[]);P.push({[hr]:!0,placeholder:u,onPlaceholderResize:Z,anchor:se,focus:se})}var{marks:Y}=l;if($.hasMarkPlaceholder=!1,l.selection&&E.isCollapsed(l.selection)&&Y){var{anchor:ee}=l.selection,ve=R.leaf(l,ee.path),ue=dr(ve,Xc);if(!V.equals(ve,Y,{loose:!0})){$.hasMarkPlaceholder=!0;var be=Object.fromEntries(Object.keys(ue).map(C=>[C,null]));P.push(fr(fr(fr({[zu]:!0},be),Y),{},{anchor:ee,focus:ee}))}}return x.useEffect(()=>{setTimeout(()=>{var{selection:C}=l;if(C){var{anchor:N}=C,w=R.leaf(l,N.path);if(Y&&!V.equals(w,Y,{loose:!0})){Ie.set(l,Y);return}}Ie.delete(l)})}),J.createElement(_u.Provider,{value:s},J.createElement(Ju.Provider,{value:n},J.createElement(Yc,{node:b,receivedUserInput:M},J.createElement(D,Object.assign({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},h,{spellCheck:Ue||!Zr?h.spellCheck:!1,autoCorrect:Ue||!Zr?h.autoCorrect:"false",autoCapitalize:Ue||!Zr?h.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:T,style:fr(fr({},p?{}:fr({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},j?{minHeight:j}:{})),d),onBeforeInput:x.useCallback(C=>{if(!Ue&&!s&&!Ee(C,h.onBeforeInput)&&F.hasSelectableTarget(l,C.target)&&(C.preventDefault(),!F.isComposing(l))){var N=C.data;o.insertText(l,N)}},[h.onBeforeInput,l,s]),onInput:x.useCallback(C=>{if(!Ee(C,h.onInput)){if(W.current){W.current.handleInput();return}for(var N of y.current)N();y.current=[]}},[h.onInput]),onBlur:x.useCallback(C=>{if(!(s||$.isUpdatingSelection||!F.hasSelectableTarget(l,C.target)||Ee(C,h.onBlur))){var N=F.findDocumentOrShadowRoot(l);if($.latestElement!==N.activeElement){var{relatedTarget:w}=C,I=F.toDOMNode(l,l);if(w!==I&&!(Pe(w)&&w.hasAttribute("data-slate-spacer"))){if(w!=null&&Je(w)&&F.hasDOMNode(l,w)){var X=F.toSlateNode(l,w);if(z.isElement(X)&&!l.isVoid(X))return}if(Or){var q=N.getSelection();q==null||q.removeAllRanges()}tr.delete(l)}}}},[s,$.isUpdatingSelection,$.latestElement,l,h.onBlur]),onClick:x.useCallback(C=>{if(F.hasTarget(l,C.target)&&!Ee(C,h.onClick)&&Je(C.target)){var N=F.toSlateNode(l,C.target),w=F.findPath(l,N);if(!o.hasPath(l,w)||R.get(l,w)!==N)return;if(C.detail===Vc&&w.length>=1){var I=w;if(!(z.isElement(N)&&o.isBlock(l,N))){var X,q=o.above(l,{match:Be=>z.isElement(Be)&&o.isBlock(l,Be),at:w});I=(X=q==null?void 0:q[1])!==null&&X!==void 0?X:w.slice(0,1)}var Q=o.range(l,I);O.select(l,Q);return}if(s)return;var ae=o.start(l,w),ne=o.end(l,w),de=o.void(l,{at:ae}),re=o.void(l,{at:ne});if(de&&re&&g.equals(de[1],re[1])){var me=o.range(l,ae);O.select(l,me)}}},[l,h.onClick,s]),onCompositionEnd:x.useCallback(C=>{if(F.hasSelectableTarget(l,C.target)){var N;if(F.isComposing(l)&&(m(!1),nr.set(l,!1)),(N=W.current)===null||N===void 0||N.handleCompositionEnd(C),Ee(C,h.onCompositionEnd)||ye)return;if(!Or&&!Uf&&!Vf&&!Yf&&!Gf&&C.data){var w=Ie.get(l);Ie.delete(l),w!==void 0&&(Ke.set(l,l.marks),l.marks=w),o.insertText(l,C.data);var I=Ke.get(l);Ke.delete(l),I!==void 0&&(l.marks=I)}}},[h.onCompositionEnd,l]),onCompositionUpdate:x.useCallback(C=>{F.hasSelectableTarget(l,C.target)&&!Ee(C,h.onCompositionUpdate)&&(F.isComposing(l)||(m(!0),nr.set(l,!0)))},[h.onCompositionUpdate,l]),onCompositionStart:x.useCallback(C=>{if(F.hasSelectableTarget(l,C.target)){var N;if((N=W.current)===null||N===void 0||N.handleCompositionStart(C),Ee(C,h.onCompositionStart)||ye)return;m(!0);var{selection:w}=l;if(w){if(E.isExpanded(w)){o.deleteFragment(l);return}var I=o.above(l,{match:Q=>z.isElement(Q)&&o.isInline(l,Q),mode:"highest"});if(I){var[,X]=I;if(o.isEnd(l,w.anchor,X)){var q=o.after(l,X);O.setSelection(l,{anchor:q,focus:q})}}}}},[h.onCompositionStart,l]),onCopy:x.useCallback(C=>{F.hasSelectableTarget(l,C.target)&&!Ee(C,h.onCopy)&&!za(C)&&(C.preventDefault(),F.setFragmentData(l,C.clipboardData,"copy"))},[h.onCopy,l]),onCut:x.useCallback(C=>{if(!s&&F.hasSelectableTarget(l,C.target)&&!Ee(C,h.onCut)&&!za(C)){C.preventDefault(),F.setFragmentData(l,C.clipboardData,"cut");var{selection:N}=l;if(N)if(E.isExpanded(N))o.deleteFragment(l);else{var w=R.parent(l,N.anchor.path);o.isVoid(l,w)&&O.delete(l)}}},[s,l,h.onCut]),onDragOver:x.useCallback(C=>{if(F.hasTarget(l,C.target)&&!Ee(C,h.onDragOver)){var N=F.toSlateNode(l,C.target);z.isElement(N)&&o.isVoid(l,N)&&C.preventDefault()}},[h.onDragOver,l]),onDragStart:x.useCallback(C=>{if(!s&&F.hasTarget(l,C.target)&&!Ee(C,h.onDragStart)){var N=F.toSlateNode(l,C.target),w=F.findPath(l,N),I=z.isElement(N)&&o.isVoid(l,N)||o.void(l,{at:w,voids:!0});if(I){var X=o.range(l,w);O.select(l,X)}$.isDraggingInternally=!0,F.setFragmentData(l,C.dataTransfer,"drag")}},[s,l,h.onDragStart,$]),onDrop:x.useCallback(C=>{if(!s&&F.hasTarget(l,C.target)&&!Ee(C,h.onDrop)){C.preventDefault();var N=l.selection,w=F.findEventRange(l,C),I=C.dataTransfer;O.select(l,w),$.isDraggingInternally&&N&&!E.equals(N,w)&&!o.void(l,{at:w,voids:!0})&&O.delete(l,{at:N}),F.insertData(l,I),F.isFocused(l)||F.focus(l)}$.isDraggingInternally=!1},[s,l,h.onDrop,$]),onDragEnd:x.useCallback(C=>{!s&&$.isDraggingInternally&&h.onDragEnd&&F.hasTarget(l,C.target)&&h.onDragEnd(C),$.isDraggingInternally=!1},[s,$,h,l]),onFocus:x.useCallback(C=>{if(!s&&!$.isUpdatingSelection&&F.hasEditableTarget(l,C.target)&&!Ee(C,h.onFocus)){var N=F.toDOMNode(l,l),w=F.findDocumentOrShadowRoot(l);if($.latestElement=w.activeElement,Tr&&C.target!==N){N.focus();return}tr.set(l,!0)}},[s,$,l,h.onFocus]),onKeyDown:x.useCallback(C=>{if(!s&&F.hasEditableTarget(l,C.target)){var N;(N=W.current)===null||N===void 0||N.handleKeyDown(C);var{nativeEvent:w}=C;if(F.isComposing(l)&&w.isComposing===!1&&(nr.set(l,!1),m(!1)),Ee(C,h.onKeyDown)||F.isComposing(l))return;var{selection:I}=l,X=l.children[I!==null?I.focus.path[0]:0],q=Cu(R.string(X))==="rtl";if(he.isRedo(w)){C.preventDefault();var Q=l;typeof Q.redo=="function"&&Q.redo();return}if(he.isUndo(w)){C.preventDefault();var ae=l;typeof ae.undo=="function"&&ae.undo();return}if(he.isMoveLineBackward(w)){C.preventDefault(),O.move(l,{unit:"line",reverse:!0});return}if(he.isMoveLineForward(w)){C.preventDefault(),O.move(l,{unit:"line"});return}if(he.isExtendLineBackward(w)){C.preventDefault(),O.move(l,{unit:"line",edge:"focus",reverse:!0});return}if(he.isExtendLineForward(w)){C.preventDefault(),O.move(l,{unit:"line",edge:"focus"});return}if(he.isMoveBackward(w)){C.preventDefault(),I&&E.isCollapsed(I)?O.move(l,{reverse:!q}):O.collapse(l,{edge:"start"});return}if(he.isMoveForward(w)){C.preventDefault(),I&&E.isCollapsed(I)?O.move(l,{reverse:q}):O.collapse(l,{edge:"end"});return}if(he.isMoveWordBackward(w)){C.preventDefault(),I&&E.isExpanded(I)&&O.collapse(l,{edge:"focus"}),O.move(l,{unit:"word",reverse:!q});return}if(he.isMoveWordForward(w)){C.preventDefault(),I&&E.isExpanded(I)&&O.collapse(l,{edge:"focus"}),O.move(l,{unit:"word",reverse:q});return}if(Ue){if((Lu||Or)&&I&&(he.isDeleteBackward(w)||he.isDeleteForward(w))&&E.isCollapsed(I)){var ne=R.parent(l,I.anchor.path);if(z.isElement(ne)&&o.isVoid(l,ne)&&(o.isInline(l,ne)||o.isBlock(l,ne))){C.preventDefault(),o.deleteBackward(l,{unit:"block"});return}}}else{if(he.isBold(w)||he.isItalic(w)||he.isTransposeCharacter(w)){C.preventDefault();return}if(he.isSoftBreak(w)){C.preventDefault(),o.insertSoftBreak(l);return}if(he.isSplitBlock(w)){C.preventDefault(),o.insertBreak(l);return}if(he.isDeleteBackward(w)){C.preventDefault(),I&&E.isExpanded(I)?o.deleteFragment(l,{direction:"backward"}):o.deleteBackward(l);return}if(he.isDeleteForward(w)){C.preventDefault(),I&&E.isExpanded(I)?o.deleteFragment(l,{direction:"forward"}):o.deleteForward(l);return}if(he.isDeleteLineBackward(w)){C.preventDefault(),I&&E.isExpanded(I)?o.deleteFragment(l,{direction:"backward"}):o.deleteBackward(l,{unit:"line"});return}if(he.isDeleteLineForward(w)){C.preventDefault(),I&&E.isExpanded(I)?o.deleteFragment(l,{direction:"forward"}):o.deleteForward(l,{unit:"line"});return}if(he.isDeleteWordBackward(w)){C.preventDefault(),I&&E.isExpanded(I)?o.deleteFragment(l,{direction:"backward"}):o.deleteBackward(l,{unit:"word"});return}if(he.isDeleteWordForward(w)){C.preventDefault(),I&&E.isExpanded(I)?o.deleteFragment(l,{direction:"forward"}):o.deleteForward(l,{unit:"word"});return}}}},[s,l,h.onKeyDown]),onPaste:x.useCallback(C=>{!s&&F.hasEditableTarget(l,C.target)&&!Ee(C,h.onPaste)&&(!Ue||_f(C.nativeEvent)||Or)&&(C.preventDefault(),F.insertData(l,C.clipboardData))},[s,l,h.onPaste])}),J.createElement(_c,{decorations:P,node:l,renderElement:i,renderPlaceholder:c,renderLeaf:f,selection:l.selection})))))},Qc=e=>{var{attributes:r,children:t}=e;return J.createElement("span",Object.assign({},r),t,ye&&J.createElement("br",null))},ev=()=>[],rv=(e,r)=>{if(r.getBoundingClientRect&&(!e.selection||e.selection&&E.isCollapsed(e.selection))){var t=r.startContainer.parentElement;t.getBoundingClientRect=r.getBoundingClientRect.bind(r),Wi(t,{scrollMode:"if-needed"}),delete t.getBoundingClientRect}},Ee=(e,r)=>{if(!r)return!1;var t=r(e);return t??(e.isDefaultPrevented()||e.isPropagationStopped())},za=e=>Je(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),tv=(e,r)=>{if(!r)return!1;var t=r(e);return t??e.defaultPrevented},nv=x.createContext(!1),av=x.createContext({});function uv(e){var r=x.useRef([]).current,t=x.useRef({editor:e}).current,n=x.useCallback(u=>{t.editor=u,r.forEach(s=>s(u))},[r,t]),a=x.useMemo(()=>({getSlate:()=>t.editor,addEventListener:u=>(r.push(u),()=>{r.splice(r.indexOf(u),1)})}),[r,t]);return{selectorContext:a,onChange:n}}var sv=["editor","children","onChange","initialValue"],iv=e=>{var{editor:r,children:t,onChange:n,initialValue:a}=e,u=dr(e,sv),s=x.useRef(!1),[i,f]=J.useState(()=>{if(!R.isNodeList(a))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(De.stringify(a)));if(!o.isEditor(r))throw new Error("[Slate] editor is invalid! You passed: ".concat(De.stringify(r)));return r.children=a,Object.assign(r,u),{v:0,editor:r}}),{selectorContext:c,onChange:v}=uv(r),d=x.useCallback(()=>{n&&n(r.children),f(h=>({v:h.v+1,editor:r})),v(r)},[r,v,n]);x.useEffect(()=>(Vt.set(r,d),()=>{Vt.set(r,()=>{}),s.current=!0}),[r,d]);var[D,p]=x.useState(F.isFocused(r));return x.useEffect(()=>{p(F.isFocused(r))},[r]),Mr(()=>{var h=()=>p(F.isFocused(r));return Mu>=17?(document.addEventListener("focusin",h),document.addEventListener("focusout",h),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",h)}):(document.addEventListener("focus",h,!0),document.addEventListener("blur",h,!0),()=>{document.removeEventListener("focus",h,!0),document.removeEventListener("blur",h,!0)})},[]),J.createElement(av.Provider,{value:c},J.createElement(Zu.Provider,{value:i},J.createElement(vn.Provider,{value:i.editor},J.createElement(nv.Provider,{value:D},t))))},Va=(e,r)=>{var t=(r.top+r.bottom)/2;return e.top<=t&&e.bottom>=t},Ka=(e,r,t)=>{var n=F.toDOMRange(e,r).getBoundingClientRect(),a=F.toDOMRange(e,t).getBoundingClientRect();return Va(n,a)&&Va(a,n)},ov=(e,r)=>{var t=o.range(e,E.end(r)),n=Array.from(o.positions(e,{at:r})),a=0,u=n.length,s=Math.floor(u/2);if(Ka(e,o.range(e,n[a]),t))return o.range(e,n[a],t);if(n.length<2)return o.range(e,n[n.length-1],t);for(;s!==n.length&&s!==a;)Ka(e,o.range(e,n[s]),t)?u=s:a=s,s=Math.floor((a+u)/2);return o.range(e,n[u],t)};function Ha(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function qa(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ha(Object(t),!0).forEach(function(n){ct(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ha(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var lv=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=r,{apply:a,onChange:u,deleteBackward:s,addMark:i,removeMark:f}=n;return vt.set(n,new WeakMap),n.addMark=(c,v)=>{var d,D;(d=gn.get(n))===null||d===void 0||d(),!Ie.get(n)&&(D=we.get(n))!==null&&D!==void 0&&D.length&&Ie.set(n,null),Ke.delete(n),i(c,v)},n.removeMark=c=>{var v;!Ie.get(n)&&(v=we.get(n))!==null&&v!==void 0&&v.length&&Ie.set(n,null),Ke.delete(n),f(c)},n.deleteBackward=c=>{if(c!=="line")return s(c);if(n.selection&&E.isCollapsed(n.selection)){var v=o.above(n,{match:h=>z.isElement(h)&&o.isBlock(n,h),at:n.selection});if(v){var[,d]=v,D=o.range(n,d,n.selection.anchor),p=ov(n,D);E.isCollapsed(p)||O.delete(n,{at:p})}}},n.apply=c=>{var v=[],d=we.get(n);if(d!=null&&d.length){var D=d.map(k=>fc(k,c)).filter(Boolean);we.set(n,D)}var p=Ye.get(n);p&&Ye.set(n,Na(n,p,c));var h=Ge.get(n);if(h!=null&&h.at){var l=_.isPoint(h==null?void 0:h.at)?qt(n,h.at,c):Na(n,h.at,c);Ge.set(n,l?qa(qa({},h),{},{at:l}):null)}switch(c.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{v.push(...Jr(n,c.path));break}case"set_selection":{var B;(B=$r.get(n))===null||B===void 0||B.unref(),$r.delete(n);break}case"insert_node":case"remove_node":{v.push(...Jr(n,g.parent(c.path)));break}case"merge_node":{var m=g.previous(c.path);v.push(...Jr(n,m));break}case"move_node":{var b=g.common(g.parent(c.path),g.parent(c.newPath));v.push(...Jr(n,b));break}}a(c);for(var[y,j]of v){var[L]=o.node(n,y);Wt.set(L,j)}},n.setFragmentData=c=>{var{selection:v}=n;if(v){var[d,D]=E.edges(v),p=o.void(n,{at:d.path}),h=o.void(n,{at:D.path});if(!(E.isCollapsed(v)&&!p)){var l=F.toDOMRange(n,v),B=l.cloneContents(),m=B.childNodes[0];if(B.childNodes.forEach(W=>{W.textContent&&W.textContent.trim()!==""&&(m=W)}),h){var[b]=h,y=l.cloneRange(),j=F.toDOMNode(n,b);y.setEndAfter(j),B=y.cloneContents()}if(p&&(m=B.querySelector("[data-slate-spacer]")),Array.from(B.querySelectorAll("[data-slate-zero-width]")).forEach(W=>{var U=W.getAttribute("data-slate-zero-width")==="n";W.textContent=U?`
`:""}),Vu(m)){var L=m.ownerDocument.createElement("span");L.style.whiteSpace="pre",L.appendChild(m),B.appendChild(L),m=L}var k=n.getFragment(),M=JSON.stringify(k),H=window.btoa(encodeURIComponent(M));m.setAttribute("data-slate-fragment",H),c.setData("application/".concat(t),H);var $=B.ownerDocument.createElement("div");return $.appendChild(B),$.setAttribute("hidden","true"),B.ownerDocument.body.appendChild($),c.setData("text/html",$.innerHTML),c.setData("text/plain",Hu($)),B.ownerDocument.body.removeChild($),c}}},n.insertData=c=>{n.insertFragmentData(c)||n.insertTextData(c)},n.insertFragmentData=c=>{var v=c.getData("application/".concat(t))||tc(c);if(v){var d=decodeURIComponent(window.atob(v)),D=JSON.parse(d);return n.insertFragment(D),!0}return!1},n.insertTextData=c=>{var v=c.getData("text/plain");if(v){var d=v.split(/\r\n|\r|\n/),D=!1;for(var p of d)D&&O.splitNodes(n,{always:!0}),n.insertText(p),D=!0;return!0}return!1},n.onChange=c=>{var v=Mu<18?Ts.unstable_batchedUpdates:d=>d();v(()=>{var d=Vt.get(n);d&&d(),u(c)})},n},Jr=(e,r)=>{var t=[];for(var[n,a]of o.levels(e,{at:r})){var u=F.findKey(e,n);t.push([a,u])}return t};function fv(){this.__data__=[],this.size=0}var cv=fv;function vv(e,r){return e===r||e!==e&&r!==r}var es=vv,dv=es;function hv(e,r){for(var t=e.length;t--;)if(dv(e[t][0],r))return t;return-1}var dt=hv,gv=dt,Dv=Array.prototype,Cv=Dv.splice;function pv(e){var r=this.__data__,t=gv(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():Cv.call(r,t,1),--this.size,!0}var mv=pv,Bv=dt;function Ev(e){var r=this.__data__,t=Bv(r,e);return t<0?void 0:r[t][1]}var Av=Ev,bv=dt;function Fv(e){return bv(this.__data__,e)>-1}var wv=Fv,yv=dt;function Ov(e,r){var t=this.__data__,n=yv(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var xv=Ov,Sv=cv,Pv=mv,Tv=Av,$v=wv,jv=xv;function pr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}pr.prototype.clear=Sv;pr.prototype.delete=Pv;pr.prototype.get=Tv;pr.prototype.has=$v;pr.prototype.set=jv;var ht=pr,Rv=ht;function Nv(){this.__data__=new Rv,this.size=0}var Iv=Nv;function Mv(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Lv=Mv;function kv(e){return this.__data__.get(e)}var Wv=kv;function zv(e){return this.__data__.has(e)}var Vv=zv,Kv=Lr,Hv=Xe,qv="[object AsyncFunction]",Uv="[object Function]",Gv="[object GeneratorFunction]",Yv="[object Proxy]";function Jv(e){if(!Hv(e))return!1;var r=Kv(e);return r==Uv||r==Gv||r==qv||r==Yv}var rs=Jv,Xv=Me,_v=Xv["__core-js_shared__"],Zv=_v,Pt=Zv,Ua=function(){var e=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Qv(e){return!!Ua&&Ua in e}var ed=Qv,rd=Function.prototype,td=rd.toString;function nd(e){if(e!=null){try{return td.call(e)}catch{}try{return e+""}catch{}}return""}var ts=nd,ad=rs,ud=ed,sd=Xe,id=ts,od=/[\\^$.*+?()[\]{}|]/g,ld=/^\[object .+?Constructor\]$/,fd=Function.prototype,cd=Object.prototype,vd=fd.toString,dd=cd.hasOwnProperty,hd=RegExp("^"+vd.call(dd).replace(od,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gd(e){if(!sd(e)||ud(e))return!1;var r=ad(e)?hd:ld;return r.test(id(e))}var Dd=gd;function Cd(e,r){return e==null?void 0:e[r]}var pd=Cd,md=Dd,Bd=pd;function Ed(e,r){var t=Bd(e,r);return md(t)?t:void 0}var lr=Ed,Ad=lr,bd=Me,Fd=Ad(bd,"Map"),pn=Fd,wd=lr,yd=wd(Object,"create"),gt=yd,Ga=gt;function Od(){this.__data__=Ga?Ga(null):{},this.size=0}var xd=Od;function Sd(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var Pd=Sd,Td=gt,$d="__lodash_hash_undefined__",jd=Object.prototype,Rd=jd.hasOwnProperty;function Nd(e){var r=this.__data__;if(Td){var t=r[e];return t===$d?void 0:t}return Rd.call(r,e)?r[e]:void 0}var Id=Nd,Md=gt,Ld=Object.prototype,kd=Ld.hasOwnProperty;function Wd(e){var r=this.__data__;return Md?r[e]!==void 0:kd.call(r,e)}var zd=Wd,Vd=gt,Kd="__lodash_hash_undefined__";function Hd(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Vd&&r===void 0?Kd:r,this}var qd=Hd,Ud=xd,Gd=Pd,Yd=Id,Jd=zd,Xd=qd;function mr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}mr.prototype.clear=Ud;mr.prototype.delete=Gd;mr.prototype.get=Yd;mr.prototype.has=Jd;mr.prototype.set=Xd;var _d=mr,Ya=_d,Zd=ht,Qd=pn;function eh(){this.size=0,this.__data__={hash:new Ya,map:new(Qd||Zd),string:new Ya}}var rh=eh;function th(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var nh=th,ah=nh;function uh(e,r){var t=e.__data__;return ah(r)?t[typeof r=="string"?"string":"hash"]:t.map}var Dt=uh,sh=Dt;function ih(e){var r=sh(this,e).delete(e);return this.size-=r?1:0,r}var oh=ih,lh=Dt;function fh(e){return lh(this,e).get(e)}var ch=fh,vh=Dt;function dh(e){return vh(this,e).has(e)}var hh=dh,gh=Dt;function Dh(e,r){var t=gh(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Ch=Dh,ph=rh,mh=oh,Bh=ch,Eh=hh,Ah=Ch;function Br(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Br.prototype.clear=ph;Br.prototype.delete=mh;Br.prototype.get=Bh;Br.prototype.has=Eh;Br.prototype.set=Ah;var bh=Br,Fh=ht,wh=pn,yh=bh,Oh=200;function xh(e,r){var t=this.__data__;if(t instanceof Fh){var n=t.__data__;if(!wh||n.length<Oh-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new yh(n)}return t.set(e,r),this.size=t.size,this}var Sh=xh,Ph=ht,Th=Iv,$h=Lv,jh=Wv,Rh=Vv,Nh=Sh;function Er(e){var r=this.__data__=new Ph(e);this.size=r.size}Er.prototype.clear=Th;Er.prototype.delete=$h;Er.prototype.get=jh;Er.prototype.has=Rh;Er.prototype.set=Nh;var Ih=Er;function Mh(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Lh=Mh,kh=lr,Wh=function(){try{var e=kh(Object,"defineProperty");return e({},"",{}),e}catch{}}(),zh=Wh,Ja=zh;function Vh(e,r,t){r=="__proto__"&&Ja?Ja(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var ns=Vh,Kh=ns,Hh=es,qh=Object.prototype,Uh=qh.hasOwnProperty;function Gh(e,r,t){var n=e[r];(!(Uh.call(e,r)&&Hh(n,t))||t===void 0&&!(r in e))&&Kh(e,r,t)}var as=Gh,Yh=as,Jh=ns;function Xh(e,r,t,n){var a=!t;t||(t={});for(var u=-1,s=r.length;++u<s;){var i=r[u],f=n?n(t[i],e[i],i,t,e):void 0;f===void 0&&(f=e[i]),a?Jh(t,i,f):Yh(t,i,f)}return t}var Ct=Xh;function _h(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Zh=_h,Qh=Lr,eg=gr,rg="[object Arguments]";function tg(e){return eg(e)&&Qh(e)==rg}var ng=tg,Xa=ng,ag=gr,us=Object.prototype,ug=us.hasOwnProperty,sg=us.propertyIsEnumerable,ig=Xa(function(){return arguments}())?Xa:function(e){return ag(e)&&ug.call(e,"callee")&&!sg.call(e,"callee")},og=ig,lg=Array.isArray,mn=lg,st={exports:{}};function fg(){return!1}var cg=fg;st.exports;(function(e,r){var t=Me,n=cg,a=r&&!r.nodeType&&r,u=a&&!0&&e&&!e.nodeType&&e,s=u&&u.exports===a,i=s?t.Buffer:void 0,f=i?i.isBuffer:void 0,c=f||n;e.exports=c})(st,st.exports);var ss=st.exports,vg=9007199254740991,dg=/^(?:0|[1-9]\d*)$/;function hg(e,r){var t=typeof e;return r=r??vg,!!r&&(t=="number"||t!="symbol"&&dg.test(e))&&e>-1&&e%1==0&&e<r}var gg=hg,Dg=9007199254740991;function Cg(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Dg}var is=Cg,pg=Lr,mg=is,Bg=gr,Eg="[object Arguments]",Ag="[object Array]",bg="[object Boolean]",Fg="[object Date]",wg="[object Error]",yg="[object Function]",Og="[object Map]",xg="[object Number]",Sg="[object Object]",Pg="[object RegExp]",Tg="[object Set]",$g="[object String]",jg="[object WeakMap]",Rg="[object ArrayBuffer]",Ng="[object DataView]",Ig="[object Float32Array]",Mg="[object Float64Array]",Lg="[object Int8Array]",kg="[object Int16Array]",Wg="[object Int32Array]",zg="[object Uint8Array]",Vg="[object Uint8ClampedArray]",Kg="[object Uint16Array]",Hg="[object Uint32Array]",oe={};oe[Ig]=oe[Mg]=oe[Lg]=oe[kg]=oe[Wg]=oe[zg]=oe[Vg]=oe[Kg]=oe[Hg]=!0;oe[Eg]=oe[Ag]=oe[Rg]=oe[bg]=oe[Ng]=oe[Fg]=oe[wg]=oe[yg]=oe[Og]=oe[xg]=oe[Sg]=oe[Pg]=oe[Tg]=oe[$g]=oe[jg]=!1;function qg(e){return Bg(e)&&mg(e.length)&&!!oe[pg(e)]}var Ug=qg;function Gg(e){return function(r){return e(r)}}var Bn=Gg,it={exports:{}};it.exports;(function(e,r){var t=pu,n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,u=a&&a.exports===n,s=u&&t.process,i=function(){try{var f=a&&a.require&&a.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}}();e.exports=i})(it,it.exports);var En=it.exports,Yg=Ug,Jg=Bn,_a=En,Za=_a&&_a.isTypedArray,Xg=Za?Jg(Za):Yg,_g=Xg,Zg=Zh,Qg=og,eD=mn,rD=ss,tD=gg,nD=_g,aD=Object.prototype,uD=aD.hasOwnProperty;function sD(e,r){var t=eD(e),n=!t&&Qg(e),a=!t&&!n&&rD(e),u=!t&&!n&&!a&&nD(e),s=t||n||a||u,i=s?Zg(e.length,String):[],f=i.length;for(var c in e)(r||uD.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||u&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||tD(c,f)))&&i.push(c);return i}var os=sD,iD=Object.prototype;function oD(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||iD;return e===t}var An=oD;function lD(e,r){return function(t){return e(r(t))}}var ls=lD,fD=ls,cD=fD(Object.keys,Object),vD=cD,dD=An,hD=vD,gD=Object.prototype,DD=gD.hasOwnProperty;function CD(e){if(!dD(e))return hD(e);var r=[];for(var t in Object(e))DD.call(e,t)&&t!="constructor"&&r.push(t);return r}var pD=CD,mD=rs,BD=is;function ED(e){return e!=null&&BD(e.length)&&!mD(e)}var fs=ED,AD=os,bD=pD,FD=fs;function wD(e){return FD(e)?AD(e):bD(e)}var bn=wD,yD=Ct,OD=bn;function xD(e,r){return e&&yD(r,OD(r),e)}var SD=xD;function PD(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var TD=PD,$D=Xe,jD=An,RD=TD,ND=Object.prototype,ID=ND.hasOwnProperty;function MD(e){if(!$D(e))return RD(e);var r=jD(e),t=[];for(var n in e)n=="constructor"&&(r||!ID.call(e,n))||t.push(n);return t}var LD=MD,kD=os,WD=LD,zD=fs;function VD(e){return zD(e)?kD(e,!0):WD(e)}var Fn=VD,KD=Ct,HD=Fn;function qD(e,r){return e&&KD(r,HD(r),e)}var UD=qD,ot={exports:{}};ot.exports;(function(e,r){var t=Me,n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,u=a&&a.exports===n,s=u?t.Buffer:void 0,i=s?s.allocUnsafe:void 0;function f(c,v){if(v)return c.slice();var d=c.length,D=i?i(d):new c.constructor(d);return c.copy(D),D}e.exports=f})(ot,ot.exports);var GD=ot.exports;function YD(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var JD=YD;function XD(e,r){for(var t=-1,n=e==null?0:e.length,a=0,u=[];++t<n;){var s=e[t];r(s,t,e)&&(u[a++]=s)}return u}var _D=XD;function ZD(){return[]}var cs=ZD,QD=_D,e0=cs,r0=Object.prototype,t0=r0.propertyIsEnumerable,Qa=Object.getOwnPropertySymbols,n0=Qa?function(e){return e==null?[]:(e=Object(e),QD(Qa(e),function(r){return t0.call(e,r)}))}:e0,wn=n0,a0=Ct,u0=wn;function s0(e,r){return a0(e,u0(e),r)}var i0=s0;function o0(e,r){for(var t=-1,n=r.length,a=e.length;++t<n;)e[a+t]=r[t];return e}var vs=o0,l0=ls,f0=l0(Object.getPrototypeOf,Object),ds=f0,c0=vs,v0=ds,d0=wn,h0=cs,g0=Object.getOwnPropertySymbols,D0=g0?function(e){for(var r=[];e;)c0(r,d0(e)),e=v0(e);return r}:h0,hs=D0,C0=Ct,p0=hs;function m0(e,r){return C0(e,p0(e),r)}var B0=m0,E0=vs,A0=mn;function b0(e,r,t){var n=r(e);return A0(e)?n:E0(n,t(e))}var gs=b0,F0=gs,w0=wn,y0=bn;function O0(e){return F0(e,y0,w0)}var x0=O0,S0=gs,P0=hs,T0=Fn;function $0(e){return S0(e,T0,P0)}var j0=$0,R0=lr,N0=Me,I0=R0(N0,"DataView"),M0=I0,L0=lr,k0=Me,W0=L0(k0,"Promise"),z0=W0,V0=lr,K0=Me,H0=V0(K0,"Set"),q0=H0,U0=lr,G0=Me,Y0=U0(G0,"WeakMap"),J0=Y0,Ut=M0,Gt=pn,Yt=z0,Jt=q0,Xt=J0,Ds=Lr,Ar=ts,eu="[object Map]",X0="[object Object]",ru="[object Promise]",tu="[object Set]",nu="[object WeakMap]",au="[object DataView]",_0=Ar(Ut),Z0=Ar(Gt),Q0=Ar(Yt),eC=Ar(Jt),rC=Ar(Xt),rr=Ds;(Ut&&rr(new Ut(new ArrayBuffer(1)))!=au||Gt&&rr(new Gt)!=eu||Yt&&rr(Yt.resolve())!=ru||Jt&&rr(new Jt)!=tu||Xt&&rr(new Xt)!=nu)&&(rr=function(e){var r=Ds(e),t=r==X0?e.constructor:void 0,n=t?Ar(t):"";if(n)switch(n){case _0:return au;case Z0:return eu;case Q0:return ru;case eC:return tu;case rC:return nu}return r});var yn=rr,tC=Object.prototype,nC=tC.hasOwnProperty;function aC(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&nC.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var uC=aC,sC=Me,iC=sC.Uint8Array,oC=iC,uu=oC;function lC(e){var r=new e.constructor(e.byteLength);return new uu(r).set(new uu(e)),r}var On=lC,fC=On;function cC(e,r){var t=r?fC(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var vC=cC,dC=/\w*$/;function hC(e){var r=new e.constructor(e.source,dC.exec(e));return r.lastIndex=e.lastIndex,r}var gC=hC,su=_t,iu=su?su.prototype:void 0,ou=iu?iu.valueOf:void 0;function DC(e){return ou?Object(ou.call(e)):{}}var CC=DC,pC=On;function mC(e,r){var t=r?pC(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var BC=mC,EC=On,AC=vC,bC=gC,FC=CC,wC=BC,yC="[object Boolean]",OC="[object Date]",xC="[object Map]",SC="[object Number]",PC="[object RegExp]",TC="[object Set]",$C="[object String]",jC="[object Symbol]",RC="[object ArrayBuffer]",NC="[object DataView]",IC="[object Float32Array]",MC="[object Float64Array]",LC="[object Int8Array]",kC="[object Int16Array]",WC="[object Int32Array]",zC="[object Uint8Array]",VC="[object Uint8ClampedArray]",KC="[object Uint16Array]",HC="[object Uint32Array]";function qC(e,r,t){var n=e.constructor;switch(r){case RC:return EC(e);case yC:case OC:return new n(+e);case NC:return AC(e,t);case IC:case MC:case LC:case kC:case WC:case zC:case VC:case KC:case HC:return wC(e,t);case xC:return new n;case SC:case $C:return new n(e);case PC:return bC(e);case TC:return new n;case jC:return FC(e)}}var UC=qC,GC=Xe,lu=Object.create,YC=function(){function e(){}return function(r){if(!GC(r))return{};if(lu)return lu(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),JC=YC,XC=JC,_C=ds,ZC=An;function QC(e){return typeof e.constructor=="function"&&!ZC(e)?XC(_C(e)):{}}var ep=QC,rp=yn,tp=gr,np="[object Map]";function ap(e){return tp(e)&&rp(e)==np}var up=ap,sp=up,ip=Bn,fu=En,cu=fu&&fu.isMap,op=cu?ip(cu):sp,lp=op,fp=yn,cp=gr,vp="[object Set]";function dp(e){return cp(e)&&fp(e)==vp}var hp=dp,gp=hp,Dp=Bn,vu=En,du=vu&&vu.isSet,Cp=du?Dp(du):gp,pp=Cp,mp=Ih,Bp=Lh,Ep=as,Ap=SD,bp=UD,Fp=GD,wp=JD,yp=i0,Op=B0,xp=x0,Sp=j0,Pp=yn,Tp=uC,$p=UC,jp=ep,Rp=mn,Np=ss,Ip=lp,Mp=Xe,Lp=pp,kp=bn,Wp=Fn,zp=1,Vp=2,Kp=4,Cs="[object Arguments]",Hp="[object Array]",qp="[object Boolean]",Up="[object Date]",Gp="[object Error]",ps="[object Function]",Yp="[object GeneratorFunction]",Jp="[object Map]",Xp="[object Number]",ms="[object Object]",_p="[object RegExp]",Zp="[object Set]",Qp="[object String]",em="[object Symbol]",rm="[object WeakMap]",tm="[object ArrayBuffer]",nm="[object DataView]",am="[object Float32Array]",um="[object Float64Array]",sm="[object Int8Array]",im="[object Int16Array]",om="[object Int32Array]",lm="[object Uint8Array]",fm="[object Uint8ClampedArray]",cm="[object Uint16Array]",vm="[object Uint32Array]",ie={};ie[Cs]=ie[Hp]=ie[tm]=ie[nm]=ie[qp]=ie[Up]=ie[am]=ie[um]=ie[sm]=ie[im]=ie[om]=ie[Jp]=ie[Xp]=ie[ms]=ie[_p]=ie[Zp]=ie[Qp]=ie[em]=ie[lm]=ie[fm]=ie[cm]=ie[vm]=!0;ie[Gp]=ie[ps]=ie[rm]=!1;function et(e,r,t,n,a,u){var s,i=r&zp,f=r&Vp,c=r&Kp;if(t&&(s=a?t(e,n,a,u):t(e)),s!==void 0)return s;if(!Mp(e))return e;var v=Rp(e);if(v){if(s=Tp(e),!i)return wp(e,s)}else{var d=Pp(e),D=d==ps||d==Yp;if(Np(e))return Fp(e,i);if(d==ms||d==Cs||D&&!a){if(s=f||D?{}:jp(e),!i)return f?Op(e,bp(s,e)):yp(e,Ap(s,e))}else{if(!ie[d])return a?e:{};s=$p(e,d,i)}}u||(u=new mp);var p=u.get(e);if(p)return p;u.set(e,s),Lp(e)?e.forEach(function(B){s.add(et(B,r,t,B,e,u))}):Ip(e)&&e.forEach(function(B,m){s.set(m,et(B,r,t,m,e,u))});var h=c?f?Sp:xp:f?Wp:kp,l=v?void 0:h(e);return Bp(l||e,function(B,m){l&&(m=B,B=e[m]),Ep(s,m,et(B,r,t,m,e,u))}),s}var dm=et,hm=dm,gm=4;function Dm(e){return hm(e,gm)}var Cm=Dm;const pm=lt(Cm),Tt="mooncatcher-new-article",Xr="mooncatcher-local-articles-key",$t="mooncatcher-current-article-key",mm=[{type:"paragraph",children:[{text:"A line of text in a paragraph.",bold:!0}]},{type:"code",children:[{text:"const a = 'b'"}]},{type:"paragraph",children:[{text:""}]}],hu=pm(mm),ym=e=>{const[r]=x.useState(()=>lv(gf())),[t,n]=x.useState(!1),[a,u]=x.useState(e.content),[s,i]=x.useState(!1),[f,c]=x.useState(null),[v,d]=x.useState([]),[D,p]=x.useState(""),[h,l]=x.useState(null),{setLinkBntAction:B}=xs(),{octokit:m,userInfo:b,login:y}=Ss(),j=x.useCallback(A=>{switch(A.element.type){case"code":return Ce.jsx(Bm,{...A});default:return Ce.jsx(Em,{...A})}},[]),L=x.useCallback(A=>Ce.jsx(Am,{...A}),[]),k=x.useCallback(A=>{const S={title:A.content.name.replace(".json",""),sha:A.content.sha,remote:!0};let T=!1;const P=v.map(K=>`${K.title}.json`===A.content.name||K.sha===A.content.sha?(T=!0,S):K);c(S),localStorage.setItem($t,JSON.stringify(S)),T&&(d(P),localStorage.setItem(Xr,JSON.stringify(P))),alert("已保存至草稿箱")},[v]),M=x.useCallback(({newCurrentArticle:A,newContent:S})=>{const{title:T}=A;let P=[...v];P=P.map(K=>K.title===(f==null?void 0:f.title)||K.sha&&K.sha===(f==null?void 0:f.sha)?{...K,title:T,remote:!1}:K),S&&u(S),localStorage.setItem(`${Tt}_${T}`,S??a??""),c(A),d(P),localStorage.setItem(Xr,JSON.stringify(P)),localStorage.setItem($t,JSON.stringify(A))},[a,f,v]),H=x.useCallback(A=>{if(r.operations.some(T=>T.type!=="set_selection")){const T=JSON.stringify(A),P={...f,remote:!1,title:(f==null?void 0:f.title)??""};M({newCurrentArticle:P,newContent:T})}},[f,r.operations,M]),$=x.useCallback(A=>{const S=[...v];if(A.target.value&&S.some(({title:K})=>K===A.target.value)){alert("标题不可重复,已重命名"),A.target.value+="(1)";return}const T=f==null?void 0:f.title;localStorage.removeItem(`${Tt}_${T}`);const P={title:A.target.value,sha:f==null?void 0:f.sha,remote:!1};M({newCurrentArticle:P})},[v,f,M]),W=x.useCallback(()=>{if(console.log(m,"content"),a&&m&&(f!=null&&f.title)){const{login:A,name:S,email:T}=b;m.request("PUT /repos/{owner}/{repo}/contents/{path}",{owner:A,repo:`${A}.github.io`,sha:f.sha,path:`public/jsonStore/ttt/${f.title}.json`,message:` create or update draft article ${f.title}`,committer:{name:S,email:T||"moon-catcher@gmail.com"},content:btoa(a),headers:Ps}).then(P=>{console.log(P,"tetttttt"),k(P.data)}).catch(P=>{console.log(P,"error"),P.message?alert("同名文章已存在!"):alert(P.message)})}else m||confirm("未登录,是否登录")&&(y(),i(!0))},[m,a,f,b,k,y]),U=x.useCallback(()=>{},[a]);return x.useEffect(()=>{s&&b.login&&(console.log(a,"************"),W())},[s,b.login]),x.useEffect(()=>{typeof B=="function"&&(B("save",W),B("submit",U))},[W,U,B]),x.useEffect(()=>{let A;if(D){e.content?A=e.content:A=localStorage.getItem(`${Tt}_${D}`)??"",console.log(A,"content----------------------");let S=hu;try{A?S=JSON.parse(A):A=JSON.stringify(hu)}catch(T){console.log(T)}console.log(A,"contentcontentcontentcontent"),l(S),u(A)}},[e.content,D]),x.useEffect(()=>{let A=[{title:"标题",remote:!1}],S=A[0].title,T={title:"标题",remote:!1};if(e.title)S=e.title;else{const K=localStorage.getItem($t)??"";try{if(K){const Z=JSON.parse(K);Z.title&&(S=Z.title,T=Z)}}catch(Z){console.log(Z)}}const P=localStorage.getItem(Xr)??"";try{if(P){const K=JSON.parse(P);K.length&&(A=K)}}catch(K){console.log(K)}localStorage.setItem(Xr,JSON.stringify(A)),p(S),d(A),c(T)},[e.title]),x.useEffect(()=>{r?xr.toggleBoldMark(r,t):n(!1)},[t,r]),x.useEffect(()=>{r&&h&&O.select(r,{offset:0,path:[0,0]})},[r,h]),h?Ce.jsxs("div",{className:"editor",children:[Ce.jsx("h2",{children:Ce.jsx("input",{className:"title",onInput:$,suppressContentEditableWarning:!0,value:f==null?void 0:f.title})}),Ce.jsxs(iv,{editor:r,initialValue:h,onChange:H,children:[Ce.jsxs("div",{children:[Ce.jsx("button",{onMouseDown:A=>{A.preventDefault(),n(S=>!S)},style:{fontWeight:t?"bold":"normal"},children:"Bold"}),Ce.jsx("button",{onMouseDown:A=>{A.preventDefault(),xr.toggleCodeBlock(r)},children:"Code Block"})]}),Ce.jsx(Zc,{className:"editable",renderElement:j,renderLeaf:L,autoFocus:!0,onSelect:()=>{n(xr.isBoldMarkActive(r))},onKeyDown:A=>{if(A.key==="Tab"&&(A.preventDefault(),r.insertText("	")),!!A.ctrlKey)switch(A.key){case"`":{A.preventDefault(),xr.toggleCodeBlock(r);break}case"b":{A.preventDefault(),n(S=>!S);break}}}})]})]}):Ce.jsx("h2",{className:"loading",children:"loading..."})},Bm=e=>Ce.jsx("pre",{...e.attributes,className:"code-line",children:Ce.jsx("code",{children:e.children})}),Em=e=>Ce.jsx("p",{...e.attributes,children:e.children}),Am=e=>Ce.jsx("span",{...e.attributes,style:{fontWeight:e.leaf.bold?"bold":"normal"},children:e.children}),xr={isBoldMarkActive(e){const r=o.marks(e);return r?r.bold===!0:!1},isCodeBlockActive(e){const[r]=o.nodes(e,{match:t=>t.type==="code"});return!!r},toggleBoldMark(e,r){r?o.addMark(e,"bold",!0):o.removeMark(e,"bold")},toggleCodeBlock(e){const r=xr.isCodeBlockActive(e);O.setNodes(e,{type:r?null:"code"},{match:t=>z.isElement(t)&&o.isBlock(e,t)})}};export{ym as R};
